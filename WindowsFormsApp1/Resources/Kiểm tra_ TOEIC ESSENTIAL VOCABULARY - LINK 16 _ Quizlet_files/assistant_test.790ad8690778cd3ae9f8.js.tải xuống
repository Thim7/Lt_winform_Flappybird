(self.webpackChunkquizlet=self.webpackChunkquizlet||[]).push([["assistant_test"],{"./app/j/ads/AdsSizes.ts":(e,t,s)=>{"use strict";s.d(t,{xN:()=>d,Dm:()=>b,kd:()=>j,fO:()=>I});s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.array.sort.js");var n=s("./app/j/ads/enums/AdsNames.ts"),a=s("./app/j/ads/enums/AdsTypes.ts"),r=s("./app/j/ads/utils/screenSizes.ts"),o=s("./node_modules/invariant/browser.js"),i=s.n(o),l={ad1x1:[1,1],ad81x31:[81,31],ad120x240:[120,240],ad120x600:[120,600],ad160x600:[160,600],ad180x150:[180,150],ad234x60:[234,60],ad250x250:[250,250],ad300x50:[300,50],ad300x100:[300,100],ad300x250:[300,250],ad300x600:[300,600],ad320x50:[320,50],ad320x100:[320,100],ad336x280:[336,280],ad426x240:[426,240],ad468x60:[468,60],ad640x360:[640,360],ad728x90:[728,90],ad970x90:[970,90],ad970x250:[970,250],fluid:"fluid"},d={ad300x250v:[300,250],ad300x600v:[300,600],ad400x300v:[400,300],ad480x270v:[480,270],ad640x360v:[640,360]},u=[],c={[a.D.BANNER]:[l.ad728x90],[a.D.MOBILE_HORIZONTAL_STRIP]:[l.ad320x50],[a.D.NATIVE]:[l.fluid],[a.D.MOBILE_RECTANGLE]:[l.ad320x50],[a.D.RECTANGLE]:[l.ad300x250],[a.D.SIDEBAR]:[l.ad160x600]},p=(a.D.BANNER,d.ad480x270v,a.D.RECTANGLE,d.ad400x300v,a.D.SIDEBAR,d.ad300x600v,a.D.VIDEO,d.ad400x300v,a.D.RECTANGLE,a.D.SIDEBAR,a.D.VIDEO,{[a.D.BANNER]:[[r.r.medium,[l.ad728x90]],[r.r.remaining,u]],[a.D.MOBILE_HORIZONTAL_STRIP]:[[r.r.medium,u],[r.r.remaining,[l.ad320x50]]],[a.D.MOBILE_RECTANGLE]:[[r.r.medium,u],[r.r.remaining,[l.ad300x250]]],[a.D.NATIVE]:[[r.r.remaining,[l.fluid]]],[a.D.RECTANGLE]:[[r.r.medium,[l.ad300x250]],[r.r.remaining,u]],[a.D.SIDEBAR]:[[r.r.medium,[l.ad160x600]],[r.r.remaining,u]]}),m={[a.D.SIDEBAR]:[[r.r.large,[l.ad120x600,l.ad160x600,l.ad250x250,l.ad300x250,l.ad300x600]],[r.r.medium,[l.ad120x600,l.ad160x600]],[r.r.remaining,u]]},_=[[r.r.medium,u],[r.r.small,[l.ad300x50,l.ad300x250,l.ad320x50,l.ad468x60]],[r.r.remaining,[l.ad250x250,l.ad300x50,l.ad300x250,l.ad320x50]]],g=[[r.r.medium,u],[r.r.small,[l.ad300x50,l.ad300x250,l.ad320x50,l.ad426x240,l.ad468x60]],[r.r.remaining,[l.ad250x250,l.ad300x50,l.ad300x250,l.ad320x50]]],E=[[r.r.veryLarge,[l.ad320x100,l.ad468x60,l.ad728x90]],[r.r.large,[l.ad300x50,l.ad320x100,l.ad468x60]],[r.r.medium,[l.ad300x50,l.ad320x100,l.ad468x60]],[r.r.remaining,u]],h=[[r.r.veryLarge,[l.ad640x360,l.ad728x90]],[r.r.large,[l.ad300x50,l.ad320x100,l.ad468x60,l.ad640x360]],[r.r.medium,[l.ad300x50,l.ad320x100,l.ad426x240,l.ad468x60]],[r.r.remaining,u]],S=[[r.r.veryLarge,[l.ad728x90]],[r.r.large,[l.ad640x360]],[r.r.medium,[l.ad300x250,l.ad320x50]],[r.r.remaining,u]],y=[[r.r.medium,u],[r.r.tiny,[l.ad320x50,l.ad300x250]],[r.r.remaining,u]],f=[[r.r.veryLarge,[l.ad120x600,l.ad160x600,l.ad250x250,l.ad300x250,l.ad300x600]],[r.r.large,[l.ad120x600,l.ad160x600]],[r.r.remaining,u]],v=e=>e.map((e=>{var[t,s]=e;return s===u?[t,s]:[t,[l.fluid,...s]]})),T={[n.h.CLASS_DASHBOARD_EMBEDDED_01]:[[r.r.veryLarge,[l.fluid,l.ad468x60]],[r.r.large,[l.fluid,l.ad320x50]],[r.r.medium,[l.fluid,l.ad320x50,l.ad300x250]],[r.r.remaining,u]],[n.h.CLASS_DASHBOARD_EMBEDDED_02]:[[r.r.veryLarge,[l.ad468x60]],[r.r.large,[l.ad320x50]],[r.r.medium,[l.ad320x50,l.ad300x250]],[r.r.remaining,u]],[n.h.CLASS_DASHBOARD_EMBEDDED_MWEB_01]:[[r.r.medium,u],[r.r.small,[l.fluid,l.ad320x50,l.ad300x250]],[r.r.verySmall,[l.fluid,l.ad320x50,l.ad300x250]],[r.r.tiny,[l.fluid,l.ad300x250]],[r.r.remaining,u]],[n.h.CLASS_DASHBOARD_EMBEDDED_MWEB_02]:[[r.r.medium,u],[r.r.small,[l.ad320x50,l.ad300x250]],[r.r.verySmall,[l.ad320x50,l.ad300x250]],[r.r.tiny,[l.ad300x250]],[r.r.remaining,u]],[n.h.CLASS_DASHBOARD_SIDEBAR]:f,[n.h.CREATE_SET_HEADER]:[[r.r.veryLarge,[l.ad728x90,l.ad468x60,l.ad320x50,l.ad234x60]],[r.r.large,[l.ad468x60,l.ad320x50,l.ad234x60]],[r.r.medium,[l.ad320x50,l.ad234x60]],[r.r.remaining,u]],[n.h.EXPLANATIONS_EXERCISE_EMBED_DESKTOP_01]:[[r.r.veryLarge,[l.fluid,l.ad970x250,l.ad728x90,l.ad640x360]],[r.r.large,[l.fluid,l.ad300x250,l.ad320x50]],[r.r.medium,[l.fluid,l.ad300x250,l.ad320x50]],[r.r.remaining,u]],[n.h.EXPLANATIONS_EXERCISE_EMBED_MWEB_01]:[[r.r.medium,u],[r.r.tiny,[l.fluid,l.ad320x50,l.ad300x250]],[r.r.remaining,u]],[n.h.EXPLANATIONS_EXERCISE_SIDEBAR]:[[r.r.large,[l.ad300x600,l.ad300x250]],[r.r.medium,[l.ad160x600]],[r.r.remaining,u]],[n.h.EXPLANATIONS_QUESTION_SIDEBAR]:[[r.r.large,[l.ad300x600,l.ad300x250]],[r.r.medium,[l.ad160x600]],[r.r.remaining,u]],[n.h.EXPLANATIONS_QUESTION_EMBED_DESKTOP_01]:[[r.r.veryLarge,[l.fluid,l.ad728x90,l.ad640x360]],[r.r.large,[l.fluid,l.ad300x250,l.ad320x50]],[r.r.medium,[l.fluid,l.ad300x250,l.ad320x50]],[r.r.remaining,u]],[n.h.EXPLANATIONS_QUESTION_EMBED_MWEB_01]:[[r.r.medium,u],[r.r.tiny,[l.fluid,l.ad320x50,l.ad300x250]],[r.r.remaining,u]],[n.h.EXPLANATIONS_TEXTBOOK_SIDEBAR]:[[r.r.large,[l.ad300x600,l.ad300x250]],[r.r.medium,[l.ad160x600]],[r.r.remaining,u]],[n.h.EXPLANATIONS_TEXTBOOK_EMBED_DESKTOP_01]:[[r.r.veryLarge,[l.fluid,l.ad728x90,l.ad640x360]],[r.r.large,[l.fluid,l.ad640x360]],[r.r.medium,[l.fluid,l.ad300x250,l.ad320x50]],[r.r.remaining,u]],[n.h.EXPLANATIONS_TEXTBOOK_EMBED_DESKTOP_02]:S,[n.h.EXPLANATIONS_TEXTBOOK_EMBED_DESKTOP_03]:S,[n.h.EXPLANATIONS_TEXTBOOK_EMBED_DESKTOP_04]:S,[n.h.EXPLANATIONS_TEXTBOOK_EMBED_DESKTOP_05]:S,[n.h.EXPLANATIONS_TEXTBOOK_EMBED_DESKTOP_06]:S,[n.h.EXPLANATIONS_TEXTBOOK_EMBED_MWEB_01]:[[r.r.medium,u],[r.r.tiny,[l.fluid,l.ad320x50,l.ad300x250]],[r.r.remaining,u]],[n.h.EXPLANATIONS_TEXTBOOK_EMBED_MWEB_02]:y,[n.h.EXPLANATIONS_TEXTBOOK_EMBED_MWEB_03]:y,[n.h.EXPLANATIONS_TEXTBOOK_EMBED_MWEB_04]:y,[n.h.EXPLANATIONS_TEXTBOOK_EMBED_MWEB_05]:y,[n.h.FOLDER_SIDEBAR]:f,[n.h.HOMEPAGE_MWEB_EMBEDDED]:[[r.r.large,u],[r.r.remaining,[l.ad320x50]]],[n.h.HOMEPAGE_SIDEBAR]:f,[n.h.MATCH_MWEB]:[[r.r.medium,u],[r.r.remaining,[l.ad300x250]]],[n.h.LEADERBOARD_MWEB]:[[r.r.medium,u],[r.r.remaining,[l.ad320x50]]],[n.h.PROFILE_SIDEBAR]:f,[n.h.SEARCH_EMBED_DESKTOP_01]:[[r.r.veryLarge,[l.fluid,l.ad640x360,l.ad728x90]],[r.r.large,[l.fluid,l.ad300x50,l.ad320x100,l.ad468x60,l.ad640x360]],[r.r.medium,[l.fluid,l.ad300x50,l.ad320x100,l.ad468x60,l.ad426x240]],[r.r.remaining,u]],[n.h.SEARCH_EMBED_DESKTOP_02]:[[r.r.veryLarge,[l.ad728x90]],[r.r.large,[l.ad300x50,l.ad320x100,l.ad468x60]],[r.r.medium,[l.ad300x50,l.ad320x100,l.ad468x60]],[r.r.remaining,u]],[n.h.SEARCH_FOOTER]:[[r.r.large,[l.ad728x90]],[r.r.medium,[l.ad468x60]],[r.r.remaining,[l.ad320x50]]],[n.h.SEARCH_MOBILE_WEB_RECTANGLE]:[[r.r.medium,u],[r.r.small,[l.fluid,l.ad300x250,l.ad320x50,l.ad468x60,l.ad426x240]],[r.r.verySmall,[l.fluid,l.ad300x250,l.ad320x50]],[r.r.remaining,u]],[n.h.SEARCH_MOBILE_WEB_RECTANGLE_BOTTOM]:[[r.r.medium,u],[r.r.small,[l.ad300x250,l.ad320x50,l.ad468x60]],[r.r.verySmall,[l.ad300x250,l.ad320x50]],[r.r.remaining,u]],[n.h.SEARCH_SIDEBAR]:[[r.r.veryLarge,[l.ad120x600,l.ad160x600]],[r.r.large,[l.ad120x600,l.ad160x600]],[r.r.medium,[l.ad120x600,l.ad160x600]],[r.r.remaining,u]],[n.h.SET_PAGE_EMBED_DESKTOP_MULTI_01]:v(h),[n.h.SET_PAGE_EMBED_DESKTOP_MULTI_02]:E,[n.h.SET_PAGE_EMBED_DESKTOP_MULTI_03]:E,[n.h.SET_PAGE_EMBED_DESKTOP_MULTI_04]:E,[n.h.SET_PAGE_EMBED_DESKTOP_MULTI_05]:E,[n.h.SET_PAGE_EMBED_DESKTOP_MULTI_06]:E,[n.h.SET_PAGE_EMBED_DESKTOP_MULTI_07]:E,[n.h.SET_PAGE_EMBED_DESKTOP_MULTI_08]:E,[n.h.SET_PAGE_EMBED_DESKTOP_MULTI_09]:E,[n.h.SET_PAGE_EMBED_DESKTOP_MULTI_10]:E,[n.h.SET_PAGE_EMBED_MWEB_MULTI_01]:v(g),[n.h.SET_PAGE_EMBED_MWEB_MULTI_02]:_,[n.h.SET_PAGE_EMBED_MWEB_MULTI_03]:_,[n.h.SET_PAGE_EMBED_MWEB_MULTI_04]:_,[n.h.SET_PAGE_EMBED_MWEB_MULTI_05]:_,[n.h.SET_PAGE_EMBED_MWEB_MULTI_06]:_,[n.h.SET_PAGE_EMBED_MWEB_MULTI_07]:_,[n.h.SET_PAGE_EMBED_MWEB_MULTI_08]:_,[n.h.SET_PAGE_EMBED_MWEB_MULTI_09]:_,[n.h.SET_PAGE_EMBED_MWEB_MULTI_10]:_,[n.h.SET_PAGE_STICKY_AD_MWEB]:[[r.r.medium,[l.noAd]],[r.r.remaining,[l.ad320x50]]],[n.h.SET_PAGE_FOOTER]:[[r.r.large,[l.ad970x250,l.ad970x90,l.ad728x90]],[r.r.medium,[l.ad728x90]],[r.r.small,[l.ad468x60]],[r.r.remaining,[l.ad320x50]]],[n.h.SET_SIDEBAR_V4]:[[r.r.largeAndTall,[l.ad120x600,l.ad160x600,l.ad250x250,l.ad300x250,l.ad300x600]],[r.r.large,[l.ad300x250]],[r.r.medium,[l.ad120x600,l.ad160x600]],[r.r.remaining,u]],[n.h.SPELL_MWEB_FOOTER]:[[r.r.medium,u],[r.r.remaining,[l.ad320x50]]],[n.h.STUDY_MODE_AD]:[[r.r.mediumAndVeryTall,[l.fluid,l.ad300x600,l.ad300x250,l.ad640x360]],[r.r.medium,[l.fluid,l.ad300x600,l.ad300x250,l.ad640x360]],[r.r.tiny,[l.fluid,l.ad300x250]],[r.r.remaining,u]],[n.h.TEST_MWEB]:[[r.r.medium,u],[r.r.remaining,[l.ad320x50]]],[n.h.TEST_STUDY_MODE_AD]:[[r.r.large,[l.fluid,l.ad728x90,l.ad640x360]],[r.r.medium,[l.fluid,l.ad640x360]],[r.r.remaining,[l.ad320x50]]],[n.h.WRITE_MWEB]:[[r.r.medium,u],[r.r.remaining,[l.ad320x50]]]},A={[n.h.SET_MWEB_STRIP_V3]:[[r.r.medium,u],[r.r.remaining,[l.ad320x50]]],[n.h.SET_PAGE_EMBED_DESKTOP_MULTI_01]:[[r.r.veryLarge,[l.fluid,l.ad320x100,l.ad468x60,l.ad728x90]],[r.r.large,[l.fluid,l.ad300x50,l.ad320x100,l.ad468x60]],[r.r.medium,[l.fluid,l.ad300x50,l.ad320x100,l.ad468x60]],[r.r.remaining,u]],[n.h.SET_PAGE_EMBED_MWEB_MULTI_01]:[[r.r.medium,u],[r.r.small,[l.fluid,l.ad300x50,l.ad300x250,l.ad320x50,l.ad468x60]],[r.r.remaining,[l.fluid,l.ad250x250,l.ad300x250,l.ad320x50]]],[n.h.SET_SIDEBAR_V4]:[[r.r.large,[l.ad120x600,l.ad160x600,l.ad250x250,l.ad300x250,l.ad300x600]],[r.r.medium,[l.ad120x600,l.ad160x600]],[r.r.remaining,u]]};function b(e){var t=c[e];return i()(t,"Size map should be available"),t}function j(e,t){if(void 0===t&&(t={type:a.D.SIDEBAR,isBCS:!1,isFlexible:!1,noVariant:!1}),t.isBCS){var s=A[e];if(s)return s}if(t.isFlexible){var n=T[e];if(n)return n;var r=m[t.type];if(r)return r}var o=p[t.type];return i()(o,"Size map should be available"),o}function I(e,t,s){return void 0===t&&(t={type:a.D.SIDEBAR,isBCS:!1,isFlexible:!1,noVariant:!1}),j(e,t).filter((e=>{var[[t,n]]=e;return t<=s.width&&n<=s.height})).sort(((e,t)=>{var[[s,n]]=e,[[a,r]]=t;return s<a?1:s>a?-1:n<r?1:n>r?-1:0})).slice(0,1)}},"./app/j/ads/components/ActionBasedAutoRefreshAd.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var n=s("./app/j/ads/components/Ad.tsx"),a=s("./app/j/ads/constants/adConstants.ts"),r=s("./app/j/ads/enums/RefreshReason.ts"),o=s("./app/j/ads/promises.ts"),i=s("./app/j/global/Quizlet.ts"),l=s("./node_modules/react/index.js"),d=s("./app/j/utils/isAdBlockerEnabled.ts"),u=s("./app/j/utils/tamperProofNow.ts");class c extends l.Component{constructor(e){super(e),this.onDisplayAd=()=>{(0,d.Z)()||(0,o.L)().then((e=>{var t=e.isShowing(this.props.id);t&&this.setState({lastActionTimestamp:(0,u.Z)()}),this.setState({isShowing:t})}))},this.onEmptyAd=()=>{(0,d.Z)()||(0,o.L)().then((e=>{var t=e.isShowing(this.props.id);this.setState({isShowing:t})}))},this.state={actionsPerformed:0,isShowing:!i.Z.adConfig.areAdsDisabled,lastActionTimestamp:(0,u.Z)(),numRefresh:0}}UNSAFE_componentWillReceiveProps(e){this.props.lastActionTimestamp!==e.lastActionTimestamp&&this.triggerActionBasedRefresh(e.lastActionTimestamp)}render(){return this.state.isShowing?l.createElement(n.Z,{headingAlignment:this.props.headingAlignment,id:this.props.id,onDisplayCallback:this.onDisplayAd,onEmptyAdCallback:this.onEmptyAd}):null}triggerActionBasedRefresh(e){!this.state.isShowing||(0,d.Z)()||this.props.maxRefreshCount&&this.state.numRefresh>=this.props.maxRefreshCount||this.setState((e=>({actionsPerformed:e.actionsPerformed+1})),(()=>{this.state.actionsPerformed>=this.props.minActionsForRefresh&&e-this.state.lastActionTimestamp>=1e3*this.props.refreshInterval&&this.forceRefreshAd()}))}forceRefreshAd(){var e=()=>{this.setState((e=>({actionsPerformed:0,lastActionTimestamp:(0,u.Z)(),numRefresh:e.numRefresh+1})))};(0,d.Z)()||(0,o.L)().then((t=>{e(),t.enqueueAdsForRefresh([this.props.id],r.q.ACTION_REFRESH)}))}}c.defaultProps={headingAlignment:"block",lastActionTimestamp:0,minActionsForRefresh:1,refreshInterval:a.If}},"./app/j/ads/components/hooks/useAdTimer.ts":(e,t,s)=>{"use strict";s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./node_modules/react/index.js");t.Z=e=>{var[t,s]=(0,n.useState)(0);(0,n.useEffect)((()=>{var e;return t>0&&(e=setTimeout((()=>{s(t-1)}),1e3)),()=>{clearTimeout(e)}}),[t]);var a=(0,n.useCallback)((()=>s(e)),[e]);return[t,a]}},"./app/j/ads/components/studyModes/AdModal.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>b});s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./node_modules/@linaria/react/lib/index.js"),a=s("./app/j/ads/components/Ad.tsx"),r=s("./app/j/assembly/buttons/index.ts"),o=s("./app/j/hocs/keydownDecorator.tsx"),i=s("./app/j/i18n/useTranslation.ts"),l=s("./node_modules/react/index.js"),d=(0,o.Z)()((e=>{var{keydownEvent:t,onClick:s}=e;(0,l.useEffect)((()=>{t&&s&&(t.preventDefault(),s())}),[s,t]);var{t:n}=(0,i.Z)();return l.createElement(r.wI,{"aria-label":n("study_ads_modal.continue"),onClick:s,text:n("study_ads_modal.continue")})})),u=s("./app/j/ads/enums/AdsNames.ts"),c=s("./app/j/ads/utils/isVideoAd.ts"),p=s("./node_modules/classnames/index.js"),m=s.n(p),_=s("./app/j/components/T.tsx"),g=s("./node_modules/polished/dist/polished.cjs.js"),E=s("./node_modules/react-transition-group/cjs/index.js"),h=((0,g.hO)(12),(0,g.hO)(70),(0,g.hO)(45),"ads-modal-fade-appear"),S=(0,n.z)("div")({name:"StudyModesAdsModal",class:"s1ytao72"}),y=(0,n.z)("div")({name:"TextContainer",class:"tc7vqun"}),f=(0,n.z)("div")({name:"AdsModalText",class:"a1ehhxrb"}),v=(0,n.z)("a")({name:"UpsellLink",class:"uwy5kzm"}),T=e=>{var{animationStep:t,order:s,onEntered:n,children:a}=e;return l.createElement(E.Kv,{appear:!0,classNames:"ads-modal-fade",in:t>=s,onEntered:n,timeout:600},a)},A=[l.createElement(_.Z,{id:"study_ads_modal.messages.message_1"}),l.createElement(_.Z,{id:"study_ads_modal.messages.message_2"}),l.createElement(_.Z,{id:"study_ads_modal.messages.message_3"}),l.createElement(_.Z,{id:"study_ads_modal.messages.message_4"}),l.createElement(_.Z,{id:"study_ads_modal.messages.message_5"}),l.createElement(_.Z,{id:"study_ads_modal.messages.message_6"}),l.createElement(_.Z,{id:"study_ads_modal.messages.message_7"})],b=e=>{var[t,s]=(()=>{var[e,t]=(0,l.useState)(0);return[e,(0,l.useCallback)((()=>t((e=>e+1))),[])]})(),[n,o]=(0,l.useState)(!1),[p,g]=(0,l.useState)(!1),[E,b]=(0,l.useState)(!1),[j,I]=(0,l.useState)(!1),[w,C]=(0,l.useState)(!1),[O,N]=(0,l.useState)(!1),[x,D]=(0,l.useState)(!0),[L,k]=(0,l.useState)(0),[R]=(0,l.useState)(Math.floor(Math.random()*A.length)),P=(0,l.useRef)(null),M=(0,l.useRef)(null),Z=!w&&!j;(0,l.useEffect)((()=>(P.current=setTimeout(e.onSkip,3e3),()=>clearTimeout(P.current))),[e.onSkip]),(0,l.useEffect)((()=>{var e;return L>=0&&(e=setTimeout((()=>{k(L-1)}),1e3)),()=>{clearTimeout(e)}}),[L]);var U,B=(0,l.useCallback)((()=>{I(!0),D(!1)}),[]),W=(0,l.useCallback)((e=>{clearTimeout(P.current);var t,{isVideo:n,isVertical:a,isVerticalFullScreen:r,isVideoWithContent:i}=(0,c.Z)(e);g(!0),C(n),o(a),b(r),N(i),(n||j)&&(setTimeout((()=>{k(5)}),600),D(!1),t=M,setTimeout((()=>{var e,s=null==t||null==(e=t.current)?void 0:e.querySelector("iframe"),n=0,a=()=>{"0"===s.getAttribute("height")&&n<10?setTimeout((()=>{n++,a()}),200):setTimeout((()=>{null==s||s.setAttribute("height","100%")}),200)};s.onload=()=>{a()}}),0)),s()}),[j,s]),{t:H}=(0,i.Z)(),G=m()("a1gsqf69",h,{"StudyModesAdsModal-NativeContainer":j}),Q=w&&j&&!O&&!n,F=m()("a1p47xn5",{cfn0jmj:E,"StudyModesAdModal-contentVerticalVideo":n,"StudyModesAdModal-contentNative":j,"StudyModesAdModal-contentVideo":w,a1akpkzf:Z,"StudyModesAdModal-hasAdMessage":Q});return l.createElement(S,null,l.createElement("div",{className:F},l.createElement(T,{animationStep:t,onEntered:()=>{s()},order:3},p?(U=m()("s1i2wjtg",h,{"StudyModesAdsModal-SkipAdButtonVerticalVideo":n}),l.createElement("div",{className:U},L>=0?l.createElement("div",{className:"StudyModesAdsModal-SkipAdCounter"},l.createElement(r.B0,{disabled:!0,text:H("study_ads_modal.skip_ad",{timeLeft:L+1})})):l.createElement(d,{onClick:t>3?e.onSkip:void 0}))):l.createElement(l.Fragment,null)),l.createElement(T,{animationStep:t,onEntered:s,order:1},l.createElement("div",{className:G},l.createElement(a.Z,{id:u.h.STUDY_MODE_AD,onDisplayCallback:W,onEmptyAdCallback:e.onSkip,onNativeAd:B,ref:M,showAdAttribution:!Z}))),l.createElement(T,{animationStep:t,onEntered:s,order:2},(Q||Z)&&p?l.createElement(y,{className:h},l.createElement(f,null,Q?A[R]:l.createElement(_.Z,{id:"study_ads_modal.message"}),x?l.createElement(l.Fragment,null," ",l.createElement(v,{href:"https://quizlet.com/upgrade?source=go_remove_ads",target:"upgrade"},l.createElement(_.Z,{id:"study_ads_modal.upsell_link"}))):null)):l.createElement(l.Fragment,null))))};s("./.linaria-cache/app/j/ads/components/studyModes/AdModal.linaria.css")},"./app/j/ads/components/studyModes/AdTimeLeft.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>p});s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.regexp.to-string.js");var n=s("./node_modules/@linaria/react/lib/index.js"),a=s("./app/j/ads/context/StudyModeAdsContext.tsx"),r=s("./app/j/config/enums.ts"),o=s("./app/j/i18n/useTranslation.ts"),i=s("./app/j/live_game/teacher/checkpoint/components/ProgressBar.tsx"),l=s("./node_modules/react/index.js"),d=(0,n.z)("div")({name:"FlashcardAdCountdownWrapper",class:"f1dlcwmz"}),u=(0,n.z)("div")({name:"TestModeCountdownWrapper",class:"tn9h2w6"}),c=(0,n.z)("div")({name:"TestModeLoadingGif",class:"t1796fbi"});function p(e){var{content:t,isEnrolledInFlashcardAdsCountdownTest:s,isEnrolledInTestModeCountdownTest:n,studyMode:p,timeLeft:m=5}=e,[_,g]=(0,l.useState)(m),E=(0,a.Jt)(),h=E.isVideoAd?9:5;(0,l.useEffect)((()=>{var e;return _>=0&&(e=setTimeout((()=>{g(_-1)}),1e3)),()=>{clearTimeout(e)}}),[_]);var{t:S}=(0,o.Z)();return l.createElement(l.Fragment,null,(!E.isAdLoaded||E.isVideoAd||s||n)&&_>0?p===r.aKJ.SCATTER?S("highscores_modal.continue_in_seconds",{second:_.toString()}):p===r.aKJ.TEST?l.createElement(u,null,S("study_ads_modal.messages.message_8"),l.createElement(c,null,l.createElement(i.Z,{duration:h}))):p===r.aKJ.FLASHCARDS?l.createElement(d,null,S("study_ads_modal.skip_ad",{timeLeft:_.toString()})):void 0:t)}s("./.linaria-cache/app/j/ads/components/studyModes/AdTimeLeft.linaria.css")},"./app/j/ads/utils/isVideoAd.ts":(e,t,s)=>{"use strict";s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.values.js"),s("./node_modules/core-js/modules/es.string.includes.js");var n=s("./app/j/ads/AdsSizes.ts");t.Z=e=>{var t,s=!1;if(e.size instanceof Array){var[a,r]=e.size;s=Object.values(n.xN).some((e=>e instanceof Array&&a===e[0]&&r===e[1]))}var o=null!=(t=null==e.slot.getHtml?void 0:e.slot.getHtml())?t:"",i=o.includes("NativeAd-vertical-video"),l=o.includes("NativeAd-vertical-video-fullscreen"),d=o.includes("NativeAd-video")||s&&o.includes("video");return{isVideo:d,isVertical:i,isVerticalFullScreen:l,isVideoWithContent:d&&o.includes("NativeAd-content")}}},"./app/j/ads/utils/screenSizes.ts":(e,t,s)=>{"use strict";s.d(t,{r:()=>r});var n=s("./app/j/constants/BreakpointConstants.ts"),a=e=>(0,n.hQ)(e,1)||0,r={veryLarge:[a("xl"),0],largeAndVeryTall:[a("l"),910],largeAndTall:[a("l"),750],large:[a("l"),0],mediumAndVeryTall:[a("m"),910],medium:[a("m"),0],small:[a("s"),0],verySmall:[a("xs"),0],tiny:[a("xxs"),300],remaining:[0,0]}},"./app/j/assembly/AssemblyConfetti.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});s("./node_modules/core-js/modules/es.object.assign.js");var n=s("./node_modules/@linaria/react/lib/index.js"),a=s("./node_modules/react/index.js"),r=s("./node_modules/react-dom-confetti/lib/confetti.js"),o=s("./app/j/utils/BreakpointsHelper.ts"),i=(0,n.z)("span")({name:"ConfettiWrapper",class:"c61u69g"}),l={spread:360,startVelocity:40,elementCount:(0,o.C1)()?70:120,duration:5e3,colors:["#EBFF03","#51CFFF","#E372FF","#FF983A","#59E8B5","#4255FF"]};function d(e){var{active:t,config:s}=e;return a.createElement(i,null,a.createElement(r.Z,{active:t,config:Object.assign({},l,s)}))}s("./.linaria-cache/app/j/assembly/AssemblyConfetti.linaria.css")},"./app/j/assembly/AssemblyRadio.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s("./node_modules/@babel/runtime/helpers/esm/extends.js"),a=s("./app/j/assembly/foundations/Spacing.ts"),r=s("./app/j/components/UIBaseControl.tsx"),o=s("./node_modules/react/index.js");a.Ki.Small,a.Ki.Medium;class i extends o.Component{render(){return o.createElement(r.Z,(0,n.Z)({},this.props,{baseClassName:"AssemblyRadio",type:"radio"}))}}s("./.linaria-cache/app/j/assembly/AssemblyRadio.linaria.css")},"./app/j/assembly/AssemblyRadioGroup.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var n=s("./node_modules/@babel/runtime/helpers/esm/extends.js"),a=s("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),r=s("./node_modules/@linaria/react/lib/index.js"),o=s("./app/j/assembly/foundations/Primitives.tsx"),i=s("./node_modules/react/index.js"),l=s("./node_modules/react-radio-group/lib/index.js"),d=["children","title","value"],u=(0,r.z)(o.H5)({name:"RadioGroupTitle",class:"ruarquf"});class c extends i.PureComponent{renderTitle(){var{title:e}=this.props;return e?i.createElement(u,null,e):null}render(){var e=this.props,{children:t,value:s}=e,r=(0,a.Z)(e,d);return i.createElement("div",{className:"AssemblyRadioGroup"},this.renderTitle(),i.createElement(l.Ee,(0,n.Z)({},r,{className:"AssemblyRadioGroup-radios",Component:"div",selectedValue:s}),i.Children.map(t,(e=>i.isValidElement(e)?i.cloneElement(e,{Component:l.Y8}):null))))}}s("./.linaria-cache/app/j/assembly/AssemblyRadioGroup.linaria.css")},"./app/j/assembly/AssemblyShimmer.tsx":(e,t,s)=>{"use strict";s.d(t,{W:()=>a,Z:()=>r});var n=s("./node_modules/react/index.js"),a="av6l25";function r(){return n.createElement("span",{className:"AssemblyShimmer"})}s("./.linaria-cache/app/j/assembly/AssemblyShimmer.linaria.css")},"./app/j/assembly/foundations/Typography.ts":(e,t,s)=>{"use strict";s.d(t,{uT:()=>u,rU:()=>c});var n=s("./app/j/assembly/adaptivity/BreakpointQueries.ts"),a=s("./node_modules/invariant/browser.js"),r=s.n(a),o=s("./node_modules/polished/dist/polished.cjs.js"),i={heading:{weight:700,spacing:0,sizes:[[44,56,32,40],[32,40,24,32],[24,32,24,32],[20,28,20,28],[16,24,16,24]]},subheading:{weight:600,spacing:0,sizes:[[24,36,16,24],[20,28,16,24],[16,24,16,24],[14,20,14,20],[12,16,12,16]]},body:{weight:400,spacing:0,sizes:[[24,32,20,28],[20,28,16,24],[16,24,14,20],[14,20,12,16],[12,16,10,12]]},link:{weight:600,spacing:0,sizes:[[24,36,20,28],[20,28,16,24],[16,24,14,20],[14,20,12,16],[12,16,10,12]]}};function l(e,t,s){return void 0===s&&(s=0),"\n    font-size: "+(0,o.hO)(e)+";\n    letter-spacing: "+(s?(0,o.hO)(s):"normal")+";\n    line-height: "+t/e+";"}function d(e,t){var{sizes:s,spacing:a,weight:o}=i[e];r()(t>0&&t<=s.length,"Invalid "+e+" level specified");var d=s[t-1];return"\n    font-weight: "+o+";"+l(d[0],d[1],a)+"\n    "+n.ZP.s+" {"+l(d[2],d[3],a)+"\n    }"}d("heading",1),d("heading",2),d("heading",3),d("heading",4),d("heading",5),d("subheading",1),d("subheading",2),d("subheading",3),d("subheading",4),d("subheading",5);var u={One:d("body",1),Two:d("body",2),Three:d("body",3),Four:d("body",4),Five:d("body",5)},c={One:d("link",1),Two:d("link",2),Three:d("link",3),Four:d("link",4),Five:d("link",5)};d("subheading",4),d("subheading",5),d("subheading",5)},"./app/j/audio_playback/index.ts":(e,t,s)=>{"use strict";s.d(t,{JF:()=>l,XZ:()=>d,iW:()=>c,ZP:()=>p});s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.cjs.production.min.js"),a=s("./app/j/audio_playback/types.ts"),r=s("./app/j/core/default_store/DefaultStore.ts"),o=(0,n.createSlice)({name:a.Q,initialState:{playingAudioId:null,lastPlayedQueue:[],playQueue:[],preloadQueue:[]},reducers:{addToPreloadQueue(e,t){var{payload:s}=t,n=s.audioItems.filter((t=>{var{audioId:s}=t;return!e.preloadQueue.find((e=>e.audioId===s))}));e.preloadQueue=[...e.preloadQueue,...n]},setPlayQueue(e,t){var{payload:s}=t;e.playQueue=s.audioItems,e.lastPlayedQueue=s.audioItems},clearPlayQueue(e){e.playingAudioId=null,e.playQueue=[]},popNextPreloadQueue(e){e.preloadQueue.length>0&&(e.preloadQueue=e.preloadQueue.slice(1))},popNextPlayQueue(e){if(e.playQueue.length>0){var t=e.playQueue[0];e.playingAudioId=t.audioId,e.playQueue=e.playQueue.slice(1)}}}}),{addToPreloadQueue:i,setPlayQueue:l,clearPlayQueue:d,popNextPreloadQueue:u,popNextPlayQueue:c}=o.actions;function p(){(0,r.bh)().registerReducer(a.Q,o.reducer)}},"./app/j/audio_playback/selectors.ts":(e,t,s)=>{"use strict";s.d(t,{gA:()=>c,B6:()=>p,jZ:()=>m,oq:()=>_});var n=s("./node_modules/lodash/last.js"),a=s.n(n),r=s("./app/j/audio_playback/types.ts"),o=s("./app/j/core/default_store/DefaultStore.ts"),i=s("./node_modules/reselect/lib/index.js"),l=(0,o.iu)(r.Q),d=(0,i.createSelector)(l,(e=>e.preloadQueue)),u=((0,i.createSelector)(d,(e=>(null==e?void 0:e.length)>0?e[0]:null)),(0,i.createSelector)(l,(e=>e.playQueue))),c=(0,i.createSelector)(u,(e=>(null==e?void 0:e.length)>0?e[0]:null)),p=(0,i.createSelector)(u,(e=>(null==e?void 0:e.length)>0?a()(e):null)),m=(0,i.createSelector)(l,(e=>e.playingAudioId)),_=(0,i.createSelector)(l,(e=>e.lastPlayedQueue))},"./app/j/audio_playback/thunks.ts":(e,t,s)=>{"use strict";s.d(t,{p0:()=>l,DQ:()=>u,fM:()=>c});s("./node_modules/core-js/modules/es.promise.js");var n,a=s("./app/j/audio_playback/index.ts"),r=s("./app/j/audio_playback/selectors.ts"),o=s("./app/j/utils/AudioPlayer.ts");function i(){return n=n||new o.Z}var l=()=>e=>(i().stopAll(),e((0,a.XZ)()),Promise.resolve()),d=e=>(t,s)=>{var n=(0,r.gA)(s()),o=(0,r.B6)(s());return n&&n.audioId===(0,r.jZ)(s())?t(l()):(n?(t((0,a.iW)()),i().play(n.url,{onFinish:()=>{n===o?(e&&e(),t(l())):t(d(e))},onError:()=>t(d(e))})):(e&&e(),t(l())),Promise.resolve())},u=e=>{var{audioItems:t,onEnd:s}=e;return e=>(i().stopAll(),e((0,a.JF)({audioItems:t})),e(d(s)),Promise.resolve())},c=()=>(e,t)=>{var s=(0,r.oq)(t());return e(u({audioItems:s})),Promise.resolve()}},"./app/j/audio_playback/types.ts":(e,t,s)=>{"use strict";s.d(t,{Q:()=>n});var n="audioPlayback"},"./app/j/audio_playback/utils.ts":(e,t,s)=>{"use strict";s.d(t,{lg:()=>l,AF:()=>u,os:()=>c,kW:()=>p});var n=s("./app/j/config/enums.ts"),a=s("./app/j/global/Rollbar.ts"),r=s("./app/j/study-engine/types.ts"),o=s("./app/j/study-modes/common/engine/utils/question-element-utils.ts");function i(e){return e.id+"-"+e.label}function l(e){var{studiableCardSide:t,url:s}=e;return{audioId:i(t),url:s}}function d(e,t){return e+"-"+("string"==typeof t?function(e){switch(e){case n.dU_.WORD:return n.kH9.WORD;case n.dU_.DEFINITION:return n.kH9.DEFINITION;case n.dU_.LOCATION:return n.kH9.LOCATION;default:throw new Error("Invalid StudiableCardSideLabel "+e)}}(t):t)}function u(e,t){var s=t===n.kH9.WORD?e._wordAudioUrl:e._definitionAudioUrl;return s?{audioId:d(e.id,t),url:s}:null}function c(e){return{audioItems:[{audioId:e,url:e}]}}function p(e){var t,s,n,{question:i,advancedAudioSettings:l}=e;switch(i.type){case r.mw.WRITTEN_QUESTION:case r.mw.MULTIPLE_CHOICE_QUESTION:case r.mw.FILL_IN_THE_BLANK_QUESTION:n=i.prompt;break;case r.mw.REVEAL_SELF_ASSESSMENT_QUESTION:n=i.front;break;default:return void a.Z.error("Unable to find audio url elements for question type "+i.type,{advancedAudioSettings:l,question:i})}var d=null!=l&&l.slowDefinitionEnabled?null==(t=(0,o.Sg)(n).audio)?void 0:t.slowUrl:null==(s=(0,o.Sg)(n).audio)?void 0:s.url;return d?c(d):void 0}},"./app/j/components/DeprecatedModeLayout.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>y});var n=s("./app/j/ads/components/studyModes/AdModal.tsx"),a=s("./node_modules/classnames/index.js"),r=s.n(a),o=s("./app/j/components/EmbedFooter.tsx"),i=s("./app/j/components/MobileHeaderBreakpoint.tsx"),l=s("./app/j/components/ModePortal.tsx"),d=s("./app/j/components/UIContainer.tsx"),u=s("./app/j/header/constants.ts"),c=s("./node_modules/matchmedia/index.js"),p=s.n(c),m=s("./node_modules/react/index.js"),_=s("./app/j/utils/EventListener.ts"),g=s("./app/j/utils/log-pageload-events.ts"),E=s("./app/j/utils/ScrollInfo.ts"),h=s("./app/j/utils/UserAgentHelper.ts"),S=e=>m.createElement(i.Z,{above:e.aboveMediumBreakpoint},m.createElement("div",{className:"ModeLayout-ad"},e.unit));class y extends m.Component{constructor(e){super(e),this.state={appSmartBannerIsShown:!1,scrollTop:0},this.handleScroll=()=>{var e=E.Z.getScrollTop();(e<=u.Pp||this.state.scrollTop<=u.Pp)&&this.setState({scrollTop:e})},this.handleResize=()=>{this.checkForSmartBannerApp()},this.handleAdSkip=()=>{var{onCloseAdModal:e}=this.props;void 0!==e&&e()},this.renderControls=e=>{var t=e?{}:{top:this.props.isEmbedding?0:Math.max(0,u.Pp-this.state.scrollTop)};return this.props.showAdModal&&(t.display="none"),m.createElement("div",{className:"ModeLayout-controls",style:t},this.props.controls)},e.isEmbedding||(this._scrollListener=_.Z.listen(window,"scroll",(()=>window.requestAnimationFrame(this.handleScroll))),this._resizeListener=_.Z.listen(window,"resize",(()=>window.requestAnimationFrame(this.handleResize))))}UNSAFE_componentWillMount(){this._timeout=window.setTimeout((()=>{this.checkForSmartBannerApp()}),200)}componentDidMount(){(0,g.K7)()}componentWillUnmount(){this._scrollListener&&this._scrollListener.remove(),this._resizeListener&&this._resizeListener.remove(),this._timeout&&clearTimeout(this._timeout)}renderPortal(){return m.createElement(l.Z,{onMount:this.props.onMount},this.props.children)}renderContent(e){return m.createElement(m.Fragment,null,m.createElement(i.Z,null,(e=>this.renderControls(e))),m.createElement("div",{className:e},this.props.shouldUsePortal?this.renderPortal():this.props.children),this.props.mWebAdUnit?m.createElement(S,{aboveMediumBreakpoint:!1,unit:this.props.mWebAdUnit}):null,this.props.adUnit?m.createElement(S,{aboveMediumBreakpoint:!0,unit:this.props.adUnit}):null)}render(){var e=r()("ModeLayout",{"is-fullWidth":this.props.shouldBeFullWidth||this.props.showAdModal,"is-fullHeight":this.props.shouldBeFullHeight,"is-showingAdz":!!this.props.adUnit,"is-showingSmartBanner":this.state.appSmartBannerIsShown,"is-usingDarkBackground":this.props.shouldUseDarkBackground,"is-showingTasks":this.props.shouldHaveNoPadding}),t=r()("ModeLayout-content",{"is-fullHorizontalBleed":this.props.isFullHorizontalBleed,"is-showingTasks":this.props.shouldHaveNoPadding});return m.createElement("div",{className:e},m.createElement(d.Z,null,this.props.showAdModal?m.createElement(n.Z,{onSkip:this.handleAdSkip}):this.renderContent(t)),this.props.isEmbedding?m.createElement(o.Z,{studyableId:this.props.studyableId,studyablePath:this.props.studyablePath}):null)}checkForSmartBannerApp(){var e=window.innerHeight!==window.document.documentElement.clientHeight&&(0,h.au)()&&p()("all and (orientation:portrait)").matches;this.setState({appSmartBannerIsShown:e})}}y.defaultProps={isEmbedding:!1,isFullHorizontalBleed:!1,onMount:()=>{},shouldBeFullHeight:!1,shouldBeFullWidth:!1,shouldHaveNoPadding:!1,shouldUseDarkBackground:!1,shouldUsePortal:!0,showAdModal:!1}},"./app/j/components/DiffText.tsx":(e,t,s)=>{"use strict";s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./node_modules/@linaria/react/lib/index.js"),a=s("./node_modules/@quizlet/grader/kotlin_com_quizlet_shared_grader.js"),r=s("./app/j/global/Rollbar.ts"),o=s("./node_modules/react/index.js"),i=s("./app/j/utils/diff.ts"),l=s("./app/j/utils/LevenshteinHelper.ts"),d=(0,n.z)("ins")({name:"Ins",class:"i1v7vsv8"});function u(e){var t=function(e){return{answerLanguage:e.answerLang,promptLanguage:e.promptLang,promptText:null,gradingSettings:null}}(e),{userAnswer:s,correctAnswer:n}=e,r=!(0,a.isCaseSensitive)(s,n,t),u=(0,o.useMemo)((()=>new i.ZP({ignoreCase:r})),[r]),[c]=(0,o.useState)((()=>(0,l.D)(u,s,n)));return o.createElement("span",{"data-testid":"diff-text"},(0,l.n)(u,c,n)?c.filter((e=>{var[t]=e;return t===i.D$||t===i.JZ})).map(((e,t)=>{var[s,n]=e;return s===i.JZ?o.createElement("span",{key:t},n):s===i.D$?o.createElement(d,{"data-testid":"insert",key:t},n):null})):n)}t.Z=o.memo(u,((e,t)=>(void 0===e.userAnswer||void 0===e.correctAnswer||void 0===t.userAnswer||void 0===t.correctAnswer)&&(r.Z.warning("[DiffText] Trying to update the component with undefined answer",{currentUserAnswer:e.userAnswer,nextUserAnswer:t.userAnswer,currentCorrectAnswer:e.correctAnswer,nextCorrectAnswer:t.correctAnswer}),!0))),s("./.linaria-cache/app/j/components/DiffText.linaria.css")},"./app/j/components/EmbedFooter.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.parse-int.js"),s("./node_modules/core-js/modules/es.string.starts-with.js");var n=s("./app/j/i18n/$t.ts"),a=s("./app/j/components/SiteLogo.tsx"),r=s("./app/j/config/enums.ts"),o=s("./node_modules/react/index.js"),i=s("./app/j/utils/ModeHelper.ts"),l=s("./app/j/utils/redirect.ts");class d extends o.Component{constructor(){super(...arguments),this.handleOnChange=e=>{if(e.target.value!==(0,n.Z)("embed_footer.choose_a_study_mode")){var t=(0,i.$2)(this.props.studyableId,parseInt(e.target.value,10));(0,l.ZP)(t+"/embed")}}}getFullStudyablePath(){return this.props.studyablePath.startsWith("https://")?this.props.studyablePath:window.location.origin+this.props.studyablePath}render(){return o.createElement("div",{className:"EmbedFooter"},o.createElement("select",{"aria-label":(0,n.Z)("embed_footer.choose_a_study_mode"),className:"EmbedFooter-dropdown",onChange:this.handleOnChange},o.createElement("option",null,(0,n.Z)("embed_footer.choose_a_study_mode")),o.createElement("option",{value:r.aKJ.SCATTER},(0,n.Z)("study_mode.name.scatter")),o.createElement("option",{value:r.aKJ.LEARNING_ASSISTANT},(0,n.Z)("study_mode.name.learning_assistant")),o.createElement("option",{value:r.aKJ.TEST},(0,n.Z)("study_mode.name.test")),o.createElement("option",{value:r.aKJ.FLASHCARDS},(0,n.Z)("study_mode.name.flashcards")),o.createElement("option",{value:r.aKJ.SPELLER},(0,n.Z)("study_mode.name.speller"))),o.createElement("div",{className:"EmbedFooter-branding"},o.createElement("a",{href:"/",target:"_top"},o.createElement(a.Z,{className:"EmbedFooter-logo"})),o.createElement("a",{href:this.getFullStudyablePath(),target:"_top"},o.createElement("span",{className:"EmbedFooter-callToAction EmbedFooter-callToAction--normalScreen"},(0,n.Z)("embed_footer.view_this_study_set_long")),o.createElement("span",{className:"EmbedFooter-callToAction EmbedFooter-callToAction--smallScreen"},(0,n.Z)("embed_footer.view_this_study_set_short")))))}}},"./app/j/components/FormattedTextWithImage.tsx":(e,t,s)=>{"use strict";s.d(t,{v:()=>n,Z:()=>m});var n,a=s("./node_modules/@babel/runtime/helpers/esm/extends.js"),r=s("./node_modules/@linaria/core/lib/index.js"),o=s("./node_modules/@linaria/react/lib/index.js"),i=s("./app/j/components/FormattedText.tsx"),l=s("./app/j/components/Image.tsx"),d=s("./node_modules/react/index.js"),u=(0,o.z)("div")({name:"Container",class:"c1sj1twu"}),c=(0,o.z)("div")({name:"ImageWrapper",class:"i172n7x2"});function p(e){switch(e){case n.Center:return"c1ufc5ln";case n.Top:return"t1gujtze";default:return null}}!function(e){e.Center="center",e.Top="top"}(n||(n={}));class m extends d.Component{render(){var{alignment:e,imageUrl:t,lang:s,text:n}=this.props;return d.createElement(u,{className:(0,r.cx)(p(e))},void 0!==n&&""!==n&&s?d.createElement(i.Z,(0,a.Z)({className:"FormattedTextWithImage-wrapper",lang:s,maxLength:this.props.maxLength,richText:this.props.richText,text:n},this.props)):null,t?d.createElement(c,{className:"FormattedTextWithImage-wrapper"},d.createElement(l.default,{alt:this.props.text,clickToZoom:this.props.clickToZoom,height:this.props.imageHeight,shape:this.props.imageShape,size:this.props.imageSize,src:t})):null)}}s("./.linaria-cache/app/j/components/FormattedTextWithImage.linaria.css")},"./app/j/components/MobileHeaderBreakpoint.tsx":(e,t,s)=>{"use strict";s.d(t,{z:()=>r,Z:()=>o});var n=s("./app/j/components/UIBreakpoint.tsx"),a=s("./node_modules/react/index.js"),r="m";class o extends a.PureComponent{render(){return a.createElement(n.Z,{above:this.props.above?r:void 0,below:this.props.above?void 0:r},this.props.children)}}},"./app/j/components/ModeLayout.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>b});var n=s("./node_modules/@linaria/core/lib/index.js"),a=s("./node_modules/@linaria/react/lib/index.js"),r=s("./app/j/ads/components/studyModes/AdModal.tsx"),o=s("./app/j/assembly/foundations/Spacing.ts"),i=s("./app/j/components/EmbedFooter.tsx"),l=s("./app/j/components/MobileHeaderBreakpoint.tsx"),d=s("./app/j/components/ModePortal.tsx"),u=s("./app/j/header/constants.ts"),c=s("./node_modules/matchmedia/index.js"),p=s.n(c),m=s("./node_modules/react/index.js"),_=s("./app/j/utils/EventListener.ts"),g=s("./app/j/utils/log-pageload-events.ts"),E=s("./app/j/utils/ScrollInfo.ts"),h=s("./app/j/utils/UserAgentHelper.ts"),S=(0,a.z)("div")({name:"PageContainer",class:"ptc18zm"}),y=(0,a.z)("div")({name:"Controls",class:"c8mixic"}),f=(0,a.z)("div")({name:"ContentContainer",class:"cz3cbvv",vars:{"cz3cbvv-0":[e=>e.shouldShowNewStudyBreak?"calc(100% - "+o.Ki.Xxlarge+")":"100%"]}}),v=(0,a.z)("div")({name:"Content",class:"clarv1u",vars:{"clarv1u-0":[e=>e.isTaskRoundCheckpointScreen?"auto":"hidden"],"clarv1u-1":[e=>e.shouldHaveNoPadding?0:o.Ki.Large+" "+o.Ki.Medium+" "+o.Ki.Medium],"clarv1u-3":[e=>e.shouldShowNewStudyBreak?0:o.Ki.Medium]}}),T=(0,a.z)("div")({name:"Ad",class:"a1ijmfr8"}),A=e=>m.createElement(l.Z,{above:e.aboveMediumBreakpoint},m.createElement(T,null,e.unit));class b extends m.Component{constructor(e){super(e),this.state={appSmartBannerIsShown:!1,scrollTop:0},this.handleScroll=()=>{var e=E.Z.getScrollTop();(e<=u.Pp||this.state.scrollTop<=u.Pp)&&this.setState({scrollTop:e})},this.handleResize=()=>{this.checkForSmartBannerApp()},this.handleAdSkip=()=>{var{onCloseAdModal:e}=this.props;void 0!==e&&e()},this.renderControls=()=>{var e=(0,n.cx)(this.props.showAdModal?"iwow2le":null);return m.createElement(y,{className:e},this.props.controls)},e.isEmbedding||(this._scrollListener=_.Z.listen(window,"scroll",(()=>window.requestAnimationFrame(this.handleScroll))),this._resizeListener=_.Z.listen(window,"resize",(()=>window.requestAnimationFrame(this.handleResize))))}UNSAFE_componentWillMount(){this._timeout=window.setTimeout((()=>{this.checkForSmartBannerApp()}),200)}componentDidMount(){(0,g.K7)()}componentWillUnmount(){this._scrollListener&&this._scrollListener.remove(),this._resizeListener&&this._resizeListener.remove(),this._timeout&&clearTimeout(this._timeout)}renderPortal(){return m.createElement(d.Z,{onMount:this.props.onMount},this.props.children)}renderContent(){return m.createElement(f,{shouldShowNewStudyBreak:this.props.shouldShowNewStudyBreak},m.createElement(v,{isTaskRoundCheckpointScreen:this.props.isTaskRoundCheckpointScreen,shouldHaveNoPadding:this.props.shouldHaveNoPadding,shouldShowNewStudyBreak:this.props.shouldShowNewStudyBreak},this.props.shouldUsePortal?this.renderPortal():this.props.children),this.props.mWebAdUnit?m.createElement(A,{aboveMediumBreakpoint:!1,unit:this.props.mWebAdUnit}):null,this.props.adUnit?m.createElement(A,{aboveMediumBreakpoint:!0,unit:this.props.adUnit}):null)}render(){var e=(0,n.cx)(this.props.showAdModal||this.props.shouldShowNewStudyBreak?"i1u5o241":null,this.props.isTaskCardScreen?"iloaf9o":null,this.props.adUnit&&!this.props.isTaskCardScreen?"i16pip9e":null,this.state.appSmartBannerIsShown?"i1fm3tn7":null);return m.createElement(S,{className:e},this.renderControls(),this.props.showAdModal?m.createElement(r.Z,{onSkip:this.handleAdSkip}):this.renderContent(),this.props.isEmbedding?m.createElement(i.Z,{studyableId:this.props.studyableId,studyablePath:this.props.studyablePath}):null)}checkForSmartBannerApp(){var e=window.innerHeight!==window.document.documentElement.clientHeight&&(0,h.au)()&&p()("all and (orientation:portrait)").matches;this.setState({appSmartBannerIsShown:e})}}b.defaultProps={isEmbedding:!1,isTaskCardScreen:!1,isTaskRoundCheckpointScreen:!1,onMount:()=>{},shouldBeFullHeight:!1,shouldHaveNoPadding:!1,shouldShowNewStudyBreak:!1,shouldUseDarkBackground:!1,shouldUsePortal:!0,showAdModal:!1},s("./.linaria-cache/app/j/components/ModeLayout.linaria.css")},"./app/j/components/ModePortal.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var n=s("./node_modules/react/index.js");class a extends n.Component{componentDidMount(){this.props.onMount.call()}shouldComponentUpdate(){return!1}render(){return this.props.children}}},"./app/j/components/NewModeControls.tsx":(e,t,s)=>{"use strict";s.d(t,{o:()=>G,Z:()=>X});s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.string.includes.js");var n=s("./node_modules/@linaria/react/lib/index.js"),a=s("./app/j/assembly/AssemblyCoachmark.tsx"),r=s("./app/j/assembly/AssemblyLink.tsx"),o=s("./app/j/assembly/buttons/index.ts"),i=s("./app/j/assembly/buttons/components/AssemblyIconButton.tsx"),l=s("./app/j/assembly/buttons/components/AssemblySecondaryButton.tsx"),d=s("./app/j/assembly/buttons/types.ts"),u=s("./app/j/assembly/foundations/Color.ts"),c=s("./app/j/assembly/foundations/Primitives.tsx"),p=s("./app/j/compatibility/logger/useLogger.ts"),m=s("./app/j/assembly/AssemblyIcon.tsx"),_=s("./app/j/assembly/menus/index.ts"),g=s("./app/j/config/enums.ts"),E=s("./app/j/i18n/$t.ts"),h=s("./app/j/i18n/useTranslation.ts"),S=s("./node_modules/nullthrows/nullthrows.js"),y=s.n(S),f=s("./node_modules/react/index.js"),v=s("./app/j/utils/filterNull.ts"),T=s("./app/j/utils/ModeHelper.ts"),A=(0,n.z)("div")({name:"ModeDropdown",class:"miqwopc"}),b={assistant:"assistant",cards:"cards",flashcards:"cards",gravity:"gravity",group:"group",learn:"learn",live:"live",locate:"locate",match:"match",micromatch:"match",microscatter:"match",people:"live",scatter:"match",spell:"spell",speller:"spell",test:"test",write:"learn"};function j(e){var{actions:t,authModalType:s,isEmbedding:n,modeName:a,modeType:r,studyableContainerId:i}=e,{t:l}=(0,h.Z)(),{logPageAction:u}=(0,p.wL)(),c=()=>{t.logStudyNavigationEvent({clickName:"new_top_nav_clicked_mode_icon"})},S=(e,s)=>{t.logStudyNavigationEvent({clickName:e}),t.onNavigate?t.onNavigate(s):window.location.assign(s)},j=e=>{var t=y()((0,T.n5)(e)),s=(0,T.ZP)(E.Z,t),n=(0,T.tc)(t);if(r===n)return null;var a=(0,T.$2)(i,t);return f.createElement(_.jJ,{elementType:"a",leftIcon:"mode-"+b[n]+"-sober",onAction:()=>{S("click_"+n+"_menu",a)},text:s})};return f.createElement(A,{onClick:()=>{u("new_top_nav_clicked_logo")}},f.createElement(m.ZP,{icon:"mode-"+r+"-sober",size:m.i.Large}),null!==s||n?f.createElement(o.GV,{includePadding:!1,rightIcon:n?void 0:"chevron-down",size:"xlarge",tabIndex:0,text:a,variant:d.vT.SECONDARY}):f.createElement(o.fj,{includePadding:!1,menu:f.createElement(_.sD,{"aria-label":a,onOpen:c},[[j(g.aKJ.LEARNING_ASSISTANT),j(g.aKJ.FLASHCARDS),j(g.aKJ.TEST),j(g.aKJ.SCATTER)].filter(v.K),[f.createElement(_.jJ,{elementType:"a",onAction:()=>{S("click_home_menu","/latest")},text:l("dashboard.side_nav.home_link")}),f.createElement(_.jJ,{elementType:"a",onAction:()=>{S("click_search_menu","/search")},text:l("dashboard.side_nav.search_link")})]]),size:"xlarge",tabIndex:0,text:a,variant:d.vT.SECONDARY}))}s("./.linaria-cache/app/j/components/StudyModeLogoDropdown.linaria.css");var I=s("./app/j/global/Quizlet.ts"),w=s("./app/j/global/Rollbar.ts"),C=s("./app/j/hooks/useBreakpoint.ts"),O=s("./app/j/lazy/LoginPromptModalContainerLazy.ts"),N=s("./app/j/lazy/SignupPromptModalNewLazy.ts"),x=s("./app/j/signup/components/AuthPromptModal.tsx"),D=s("./app/j/site_nav/types.ts"),L=s("./app/j/study-modes/learn/tasks/components/TasksConfidenceCheckIn.tsx"),k=s("./app/j/study-modes/learn/tasks/constants.ts"),R=s("./app/j/study-modes/learn/tasks/types.ts"),P=s("./app/j/utils/BreakpointsHelper.ts"),M=s("./app/j/utils/is-element-active.ts"),Z=s("./app/j/utils/log-pageload-events.ts"),U=s("./app/j/utils/openSignupModal.ts"),B=s("./app/j/utils/Visitor.ts"),W=window.location.href,H="study_mode_nav",G=(0,n.z)("div")({name:"ButtonSpacer",class:"bmbcei7"}),Q=(0,n.z)("div")({name:"Control",class:"c1gi3y8b"}),F=(0,n.z)("div")({name:"Inner",class:"irc6ilh"}),q=(0,n.z)("div")({name:"Actions",class:"anbpm9l"}),z=(0,n.z)("div")({name:"Options",class:"o1c0xcc3"}),K=(0,n.z)("div")({name:"Progress",class:"pewd1ns"}),V=(0,n.z)(c.H5)({name:"Title",class:"t7xz9a1",vars:{"t7xz9a1-0":[e=>e.isEmbedding?u.fY.SecondaryBodyText:"unset"]}}),Y=(0,n.z)("div")({name:"Exit",class:"e1xqympq"});function X(e){var{actions:{logConfidenceCheckInAction:t,logStudyNavigationEvent:s,onNavigate:n,setHasSeenConfidenceCheckInModalSets:u},additionalOptions:c=null,backText:m,isEmbedding:_,modeName:E,modeType:S,onClickOptions:y,progress:v,progressBar:A,shouldSeeSpellWriteCoachmark:b,shouldSeeTasksConfidenceCheckInModal:X=!1,shouldShowOptionsButton:J=!0,studyableContainerId:$,studyablePath:ee,titleText:te}=e,{t:se}=(0,h.Z)(),{logAuthEvent:ne,logPageAction:ae}=(0,p.wL)(),re=void 0!==A,oe=!(Boolean(I.Z.user)||_);(0,f.useEffect)((()=>{(0,Z.en)(Z.qc.TIME_TO_HEADER_INTERACTIVE)}),[]);var ie=(0,C.Z)(),[le,de]=(0,f.useState)(!1),[ue,ce]=(0,f.useState)(!1),[pe,me]=(0,f.useState)(!1),[_e,ge]=(0,f.useState)(null),[Ee,he]=(0,f.useState)(W),[Se,ye]=(0,f.useState)(b),fe=e=>{var t=e.target;(0,M.Z)(t)&&t.blur(),y&&y()},ve=function(e,t){void 0===e&&(e=!0),e&&s({clickName:"click_login_menu"}),he(t||W),ne(g.g4I.LOGIN_FORM_OPENED,{auth_origin:H}),ge(D.L.LOGIN)},Te=()=>{ge(null)},Ae=(e,s)=>{if(u&&t){u(),t(e,g.nb.LEARN_EXIT,true,true),void 0!==s&&t(R.Q.CONFIDENCE_LEVEL_SUBMITTED,g.nb.LEARN_EXIT,true,true,s)}else u&&w.Z.error("measure_user_confidence_modal_action","Function logConfidenceCheckInAction does not exist in NewModeControls");de(!1),window.location.replace(ee||"/latest")},be=()=>{Ae(R.Q.SKIP_CLICKED)},je=e=>{Ae(R.Q.CONTINUE_CLICKED,e)},Ie=()=>{Ae(R.Q.EXIT_CLICKED)},we=()=>{ae("study_mode_back_button_clicked"),pe||I.Z.user||!T.J.includes(S)?X?de(!0):ee&&(n?n(ee):window.location.replace(ee)):(ce(!0),me(!0),ne(g.g4I.SIGNUP_FORM_OPENED,{auth_origin:H}))},Ce=()=>f.createElement(z,null,f.createElement(G,null,f.createElement(l.Z,{onClick:()=>setTimeout((()=>ve()),0),text:se("global.header.log_in.button")})),f.createElement(G,null,f.createElement(o.wI,{onClick:()=>setTimeout((()=>{return void 0===e&&(e=!0),e&&s({clickName:"click_signup_menu"}),ne(g.g4I.SIGNUP_FORM_OPENED,{auth_origin:H}),void ge(D.L.SIGN_UP);var e}),0),text:se("global.header.sign_up.button"),variant:d.dN.UPGRADE}))),Oe=()=>{var e=f.createElement(z,null,(0,P.P0)(ie,"m")?f.createElement(l.Z,{onClick:fe,text:se("modes.mode_controls.options_button")}):f.createElement(i.Z,{alt:se("modes.mode_controls.options_button"),icon:"settings",onClick:fe,shape:"square",size:"medium"}));return Se?f.createElement(a.Z,{cta:{message:se("modes.mode_controls.learn_coachmark.cta"),onDismiss:()=>(B.Z.writeData({assistantLearnHasSeenSpellWriteCoachmark:!0}),void ye(!1))},message:se("modes.mode_controls.learn_coachmark.message"),placement:"bottom right",title:se("modes.mode_controls.learn_coachmark.title")},e):e},Ne=()=>{ae(k.I1.TASKS_HEADER_SET_NAME_CLICKED,{studiableId:$}),n&&n()};return f.createElement(Q,null,f.createElement(F,null,f.createElement(j,{actions:{logStudyNavigationEvent:s,onNavigate:n},authModalType:_e,isEmbedding:_,modeName:E,modeType:S,studyableContainerId:$}),v&&(0,P.P0)(ie,"s")?v&&(0,P.P0)(ie,"s")?f.createElement(K,null,v):null:f.createElement(V,{isEmbedding:_},_?te:f.createElement(r.ZP,{linkTo:"/"+$+"/",onClick:Ne,text:te,variant:r.U_.Secondary})),f.createElement(q,null,oe?Ce():f.createElement(f.Fragment,null,c,J?Oe():null),_?null:f.createElement(Y,null,f.createElement(i.Z,{alt:m||se("modes.mode_controls.back_button"),icon:"x",onClick:()=>{setTimeout(we,0)},shape:"square",size:"medium"})))),v&&!(0,P.P0)(ie,"s")?f.createElement(K,null,v):null,re?A:null,I.Z.user?null:f.createElement(f.Fragment,null,f.createElement(x.qT,{barrierType:"curtain",includeSubtitle:!1,isOpen:ue,onClose:()=>{ce(!1)},placement:x.VY.STUDY_MODE_BACK_BUTTON,redirectPath:ee||"/latest",titleOverride:se("study_modes_signup_curtain_modal.back_button.title")}),f.createElement(O.Z,{isOpen:_e===D.L.LOGIN,onClose:Te,redir:Ee}),f.createElement(N.Z,{actions:{onClose:Te,onOpenLogin:ve,onOpenSignup:U.j},includeCloseButton:!0,isOpen:_e===D.L.SIGN_UP,redir:W,signupOrigin:"top-nav"})),X?(()=>{if(void 0===t)return w.Z.error("measure_user_confidence_modal_render","Failed to render TasksConfidenceCheckInModal in NewModeControls because logConfidenceCheckInAction does not exist"),null;var e={logConfidenceCheckInAction:t,onSkip:be,onContinue:je,onClose:Ie},s={shouldIncludeTaskSequenceProgress:!0,isOpen:le};return f.createElement(L.Z,{actions:e,modalInfo:s,source:g.nb.LEARN_EXIT})})():null)}s("./.linaria-cache/app/j/components/NewModeControls.linaria.css")},"./app/j/components/ReviewStat.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var n=s("./node_modules/@linaria/react/lib/index.js"),a=s("./node_modules/react/index.js"),r=(0,n.z)("div")({name:"StatWrapper",class:"s1iozbl1"}),o=(0,n.z)("section")({name:"StatTitle",class:"shb807a"}),i=(0,n.z)("section")({name:"StatValue",class:"sjbbr3u"});function l(e){return a.createElement(r,null,a.createElement(o,null,e.title),a.createElement(i,null,e.value),e.icon)}s("./.linaria-cache/app/j/components/ReviewStat.linaria.css")},"./app/j/components/UISmall.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var n=s("./node_modules/react/index.js");class a extends n.PureComponent{render(){return n.createElement("small",{className:"UISmall"},this.props.children)}}},"./app/j/constants/KeyConstants.ts":(e,t,s)=>{"use strict";s.d(t,{B:()=>n});var n=" "},"./app/j/core/index.ts":(e,t,s)=>{"use strict";s.d(t,{jZ:()=>o,iO:()=>u,f:()=>c,uX:()=>p,ZP:()=>m});s("./node_modules/core-js/modules/es.object.assign.js");var n=s("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.cjs.production.min.js"),a=s("./app/j/core/default_store/DefaultStore.ts"),r=s("./app/j/utils/Visitor.ts"),o="core",i=Object.assign({},{acknowledgedOnboardingSteps:{},hasRegisteredAds:!1,shouldShowAd:!1,user:null},{isBrowseNavOpen:!1,isSearchExpanded:!1}),l=(0,n.createSlice)({name:o,initialState:i,reducers:{hydrate(e,t){var{payload:s}=t,{acknowledgedOnboardingSteps:n,hasRegisteredAds:a,shouldShowAd:r,user:o}=s;e.acknowledgedOnboardingSteps=n,e.hasRegisteredAds=a,e.shouldShowAd=r,e.user=o},acknowledgeOnboardingStep(e,t){var{payload:s}=t;r.Z.writeData({[s]:!0}),e.acknowledgedOnboardingSteps[s]=!0},updateIsSiteBrowseNavOpen(e,t){var{payload:s}=t;e.isBrowseNavOpen=s},updateIsSearchExpanded(e,t){var{payload:s}=t;e.isSearchExpanded=s}}}),{hydrate:d,acknowledgeOnboardingStep:u,updateIsSiteBrowseNavOpen:c,updateIsSearchExpanded:p}=l.actions;l.reducer;function m(e,t){void 0===e&&(e=void 0),void 0===t&&(t=(0,a.bh)()),t.registerReducerIfUnregistered(o,l.reducer),e&&t.dispatch(l.actions.hydrate(e))}},"./app/j/core/selectors.ts":(e,t,s)=>{"use strict";s.d(t,{vo:()=>d,B0:()=>u,Hl:()=>c,Cr:()=>p,PR:()=>m,n5:()=>_,Iq:()=>g});var n=s("./app/j/config/enums.ts"),a=s("./app/j/core/index.ts"),r=s("./app/j/core/default_store/DefaultStore.ts"),o=s("./node_modules/reselect/lib/index.js"),i=(0,r.iu)(a.jZ),l=(e,t)=>t,d=(0,o.createSelector)(i,l,((e,t)=>e.acknowledgedOnboardingSteps[t.name])),u=(0,o.createSelector)(i,(e=>e.isBrowseNavOpen)),c=((0,o.createSelector)(i,(e=>e.isSearchExpanded)),(0,o.createSelector)(i,(e=>e.hasRegisteredAds))),p=(0,o.createSelector)(i,l,((e,t)=>!1!==t.shouldShowAd&&e.shouldShowAd)),m=(0,o.createSelector)(i,(e=>e.user)),_=(0,o.createSelector)(m,(e=>null==e?void 0:e.id)),g=((0,o.createSelector)(m,(e=>null==e?void 0:e._isUnderAge)),(0,o.createSelector)(m,(e=>(null==e?void 0:e.selfIdentifiedTeacherStatus)===n.IXc.TEACHER)));(0,o.createSelector)(m,(e=>null==e?void 0:e.email))},"./app/j/hocs/keydownDecorator.tsx":(e,t,s)=>{"use strict";s.d(t,{a:()=>d,Z:()=>u});var n=s("./node_modules/@babel/runtime/helpers/esm/extends.js"),a=(s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/keymaster/keymaster.js")),r=s.n(a),o=s("./node_modules/react/index.js"),i=s("./app/j/utils/HOCs.ts"),l=1,d=["CapsLock","Tab"];function u(e){var t=Array.isArray(e)?e.join(", "):e;return(0,i.r)((function(e){return class extends o.Component{constructor(){super(...arguments),this.state={keydownEvent:null},this.componentDidMount=()=>{t?(r().pushScope(this.scope),r()(t,this.scope,this.handleKeydown)):window.document.addEventListener("keydown",this.handleKeydown,!0)},this.componentWillUnmount=()=>{t?(r().deleteScope(this.scope),r().unbind(t,this.scope)):window.document.removeEventListener("keydown",this.handleKeydown,!0)},this.handleKeydown=e=>{!t&&this.isModifierKey(e)||e.repeat||this.setState({keydownEvent:e},(()=>{this.setState({keydownEvent:null})}))},this.isModifierKey=e=>{var{altKey:t,ctrlKey:s,metaKey:n,shiftKey:a}=e;return t||s||n||a},this.scope="keydownDecorator#"+l++}render(){return o.createElement(e,(0,n.Z)({},this.props,{keydownEvent:this.state.keydownEvent}))}}}))}},"./app/j/hooks/usePrevious.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var n=s("./node_modules/react/index.js");function a(e){var t=(0,n.useRef)();return(0,n.useEffect)((()=>{t.current=e}),[e]),t.current}},"./app/j/i18n/getLocalizedLanguage.ts":(e,t,s)=>{"use strict";s.d(t,{w:()=>o,Z:()=>i});var n=s("./app/j/global/Rollbar.ts"),a=s("./app/j/i18n/$t.ts");function r(e){e?n.Z.warning("Unknown language code",{language:e}):n.Z.error("Empty language param",{language:e})}function o(e){switch(e){case"??":return(0,a.Z)("languages_uppercase.unknown");case"af":return(0,a.Z)("languages_uppercase.af");case"ak":return(0,a.Z)("languages_uppercase.ak");case"akk":return(0,a.Z)("languages_uppercase.akk");case"am":return(0,a.Z)("languages_uppercase.am");case"ang":return(0,a.Z)("languages_uppercase.ang");case"ar":return(0,a.Z)("languages_uppercase.ar");case"ase":return(0,a.Z)("languages_uppercase.ase");case"az":return(0,a.Z)("languages_uppercase.az");case"be":return(0,a.Z)("languages_uppercase.be");case"bg":return(0,a.Z)("languages_uppercase.bg");case"bh":return(0,a.Z)("languages_uppercase.bh");case"bn":return(0,a.Z)("languages_uppercase.bn");case"bo":return(0,a.Z)("languages_uppercase.bo");case"br":return(0,a.Z)("languages_uppercase.br");case"bs":return(0,a.Z)("languages_uppercase.bs");case"ca":return(0,a.Z)("languages_uppercase.ca");case"ceb":return(0,a.Z)("languages_uppercase.ceb");case"ch":return(0,a.Z)("languages_uppercase.ch");case"chem":return(0,a.Z)("languages_uppercase.chem");case"cho":return(0,a.Z)("languages_uppercase.cho");case"chr":return(0,a.Z)("languages_uppercase.chr");case"co":return(0,a.Z)("languages_uppercase.co");case"cop":return(0,a.Z)("languages_uppercase.cop");case"cs":return(0,a.Z)("languages_uppercase.cs");case"cy":return(0,a.Z)("languages_uppercase.cy");case"da":return(0,a.Z)("languages_uppercase.da");case"de":return(0,a.Z)("languages_uppercase.de");case"den":return(0,a.Z)("languages_uppercase.den");case"dv":return(0,a.Z)("languages_uppercase.dv");case"dyo":return(0,a.Z)("languages_uppercase.dyo");case"el":return(0,a.Z)("languages_uppercase.el");case"en":return(0,a.Z)("languages_uppercase.en");case"eo":return(0,a.Z)("languages_uppercase.eo");case"es":return(0,a.Z)("languages_uppercase.es");case"et":return(0,a.Z)("languages_uppercase.et");case"eu":return(0,a.Z)("languages_uppercase.eu");case"fa":return(0,a.Z)("languages_uppercase.fa");case"ff":return(0,a.Z)("languages_uppercase.ff");case"fi":return(0,a.Z)("languages_uppercase.fi");case"fil":return(0,a.Z)("languages_uppercase.fil");case"fo":return(0,a.Z)("languages_uppercase.fo");case"fr":return(0,a.Z)("languages_uppercase.fr");case"fy":return(0,a.Z)("languages_uppercase.fy");case"ga":return(0,a.Z)("languages_uppercase.ga");case"gd":return(0,a.Z)("languages_uppercase.gd");case"gl":return(0,a.Z)("languages_uppercase.gl");case"gn":return(0,a.Z)("languages_uppercase.gn");case"got":return(0,a.Z)("languages_uppercase.got");case"gu":return(0,a.Z)("languages_uppercase.gu");case"ha":return(0,a.Z)("languages_uppercase.ha");case"hai":return(0,a.Z)("languages_uppercase.hai");case"haw":return(0,a.Z)("languages_uppercase.haw");case"hi":return(0,a.Z)("languages_uppercase.hi");case"hil":return(0,a.Z)("languages_uppercase.hil");case"hmv":return(0,a.Z)("languages_uppercase.hmv");case"hr":return(0,a.Z)("languages_uppercase.hr");case"ht":return(0,a.Z)("languages_uppercase.ht");case"hu":return(0,a.Z)("languages_uppercase.hu");case"hy":return(0,a.Z)("languages_uppercase.hy");case"id":return(0,a.Z)("languages_uppercase.id");case"ig":return(0,a.Z)("languages_uppercase.ig");case"ipa":return(0,a.Z)("languages_uppercase.ipa");case"is":return(0,a.Z)("languages_uppercase.is");case"it":return(0,a.Z)("languages_uppercase.it");case"iu":return(0,a.Z)("languages_uppercase.iu");case"iw":return(0,a.Z)("languages_uppercase.iw");case"ja":return(0,a.Z)("languages_uppercase.ja");case"ja-ka":return(0,a.Z)("languages_uppercase.ja_ka");case"ja-ro":return(0,a.Z)("languages_uppercase.ja_ro");case"jv":return(0,a.Z)("languages_uppercase.jv");case"ka":return(0,a.Z)("languages_uppercase.ka");case"kg":return(0,a.Z)("languages_uppercase.kg");case"kin":return(0,a.Z)("languages_uppercase.kin");case"kio":return(0,a.Z)("languages_uppercase.kio");case"kk":return(0,a.Z)("languages_uppercase.kk");case"km":return(0,a.Z)("languages_uppercase.km");case"kn":return(0,a.Z)("languages_uppercase.kn");case"ko":return(0,a.Z)("languages_uppercase.ko");case"ksw":return(0,a.Z)("languages_uppercase.ksw");case"ku":return(0,a.Z)("languages_uppercase.ku");case"ky":return(0,a.Z)("languages_uppercase.ky");case"la":return(0,a.Z)("languages_uppercase.la");case"lb":return(0,a.Z)("languages_uppercase.lb");case"lkt":return(0,a.Z)("languages_uppercase.lkt");case"ln":return(0,a.Z)("languages_uppercase.ln");case"lo":return(0,a.Z)("languages_uppercase.lo");case"lt":return(0,a.Z)("languages_uppercase.lt");case"lua":return(0,a.Z)("languages_uppercase.lua");case"luo":return(0,a.Z)("languages_uppercase.luo");case"lv":return(0,a.Z)("languages_uppercase.lv");case"math":return(0,a.Z)("languages_uppercase.math");case"mg":return(0,a.Z)("languages_uppercase.mg");case"mh":return(0,a.Z)("languages_uppercase.mh");case"mi":return(0,a.Z)("languages_uppercase.mi");case"mjd":return(0,a.Z)("languages_uppercase.mjd");case"mk":return(0,a.Z)("languages_uppercase.mk");case"ml":return(0,a.Z)("languages_uppercase.ml");case"mn":return(0,a.Z)("languages_uppercase.mn");case"mnk":return(0,a.Z)("languages_uppercase.mnk");case"moh":return(0,a.Z)("languages_uppercase.moh");case"mr":return(0,a.Z)("languages_uppercase.mr");case"ms":return(0,a.Z)("languages_uppercase.ms");case"mt":return(0,a.Z)("languages_uppercase.mt");case"my":return(0,a.Z)("languages_uppercase.my");case"nah":return(0,a.Z)("languages_uppercase.nah");case"ne":return(0,a.Z)("languages_uppercase.ne");case"nl":return(0,a.Z)("languages_uppercase.nl");case"no":return(0,a.Z)("languages_uppercase.no");case"nv":return(0,a.Z)("languages_uppercase.nv");case"oc":return(0,a.Z)("languages_uppercase.oc");case"oj":return(0,a.Z)("languages_uppercase.oj");case"om":return(0,a.Z)("languages_uppercase.om");case"ood":return(0,a.Z)("languages_uppercase.ood");case"or":return(0,a.Z)("languages_uppercase.or");case"pa":return(0,a.Z)("languages_uppercase.pa");case"photo":return(0,a.Z)("languages_uppercase.photo");case"pi":return(0,a.Z)("languages_uppercase.pi");case"pl":return(0,a.Z)("languages_uppercase.pl");case"ps":return(0,a.Z)("languages_uppercase.ps");case"pt":return(0,a.Z)("languages_uppercase.pt");case"qu":return(0,a.Z)("languages_uppercase.qu");case"rar":return(0,a.Z)("languages_uppercase.rar");case"rm":return(0,a.Z)("languages_uppercase.rm");case"ro":return(0,a.Z)("languages_uppercase.ro");case"ru":return(0,a.Z)("languages_uppercase.ru");case"sa":return(0,a.Z)("languages_uppercase.sa");case"sd":return(0,a.Z)("languages_uppercase.sd");case"see":return(0,a.Z)("languages_uppercase.see");case"shn":return(0,a.Z)("languages_uppercase.shn");case"si":return(0,a.Z)("languages_uppercase.si");case"sk":return(0,a.Z)("languages_uppercase.sk");case"sl":return(0,a.Z)("languages_uppercase.sl");case"sm":return(0,a.Z)("languages_uppercase.sm");case"so":return(0,a.Z)("languages_uppercase.so");case"sq":return(0,a.Z)("languages_uppercase.sq");case"sr":return(0,a.Z)("languages_uppercase.sr");case"su":return(0,a.Z)("languages_uppercase.su");case"sv":return(0,a.Z)("languages_uppercase.sv");case"sw":return(0,a.Z)("languages_uppercase.sw");case"syc":return(0,a.Z)("languages_uppercase.syc");case"ta":return(0,a.Z)("languages_uppercase.ta");case"te":return(0,a.Z)("languages_uppercase.te");case"tet":return(0,a.Z)("languages_uppercase.tet");case"tg":return(0,a.Z)("languages_uppercase.tg");case"th":return(0,a.Z)("languages_uppercase.th");case"ti":return(0,a.Z)("languages_uppercase.ti");case"tl":return(0,a.Z)("languages_uppercase.tl");case"to":return(0,a.Z)("languages_uppercase.to");case"tr":return(0,a.Z)("languages_uppercase.tr");case"trc":return(0,a.Z)("languages_uppercase.trc");case"tt":return(0,a.Z)("languages_uppercase.tt");case"tyv":return(0,a.Z)("languages_uppercase.tyv");case"ug":return(0,a.Z)("languages_uppercase.ug");case"uk":return(0,a.Z)("languages_uppercase.uk");case"unm":return(0,a.Z)("languages_uppercase.unm");case"ur":return(0,a.Z)("languages_uppercase.ur");case"uz":return(0,a.Z)("languages_uppercase.uz");case"vi":return(0,a.Z)("languages_uppercase.vi");case"win":return(0,a.Z)("languages_uppercase.win");case"wo":return(0,a.Z)("languages_uppercase.wo");case"xh":return(0,a.Z)("languages_uppercase.xh");case"yi":return(0,a.Z)("languages_uppercase.yi");case"yo":return(0,a.Z)("languages_uppercase.yo");case"zh-CN":return(0,a.Z)("languages_uppercase.zh_cn");case"zh-pi":return(0,a.Z)("languages_uppercase.zh_pi");case"zh-TW":return(0,a.Z)("languages_uppercase.zh_tw");case"zu":return(0,a.Z)("languages_uppercase.zu");default:return r(e),e}}function i(e){switch(e){case"??":return(0,a.Z)("languages.unknown");case"af":return(0,a.Z)("languages.af");case"ak":return(0,a.Z)("languages.ak");case"akk":return(0,a.Z)("languages.akk");case"am":return(0,a.Z)("languages.am");case"ang":return(0,a.Z)("languages.ang");case"ar":return(0,a.Z)("languages.ar");case"ase":return(0,a.Z)("languages.ase");case"az":return(0,a.Z)("languages.az");case"be":return(0,a.Z)("languages.be");case"bg":return(0,a.Z)("languages.bg");case"bh":return(0,a.Z)("languages.bh");case"bn":return(0,a.Z)("languages.bn");case"bo":return(0,a.Z)("languages.bo");case"br":return(0,a.Z)("languages.br");case"bs":return(0,a.Z)("languages.bs");case"ca":return(0,a.Z)("languages.ca");case"ceb":return(0,a.Z)("languages.ceb");case"ch":return(0,a.Z)("languages.ch");case"chem":return(0,a.Z)("languages.chem");case"cho":return(0,a.Z)("languages.cho");case"chr":return(0,a.Z)("languages.chr");case"co":return(0,a.Z)("languages.co");case"cop":return(0,a.Z)("languages.cop");case"cs":return(0,a.Z)("languages.cs");case"cy":return(0,a.Z)("languages.cy");case"da":return(0,a.Z)("languages.da");case"de":return(0,a.Z)("languages.de");case"den":return(0,a.Z)("languages.den");case"dv":return(0,a.Z)("languages.dv");case"dyo":return(0,a.Z)("languages.dyo");case"el":return(0,a.Z)("languages.el");case"en":return(0,a.Z)("languages.en");case"eo":return(0,a.Z)("languages.eo");case"es":return(0,a.Z)("languages.es");case"et":return(0,a.Z)("languages.et");case"eu":return(0,a.Z)("languages.eu");case"fa":return(0,a.Z)("languages.fa");case"ff":return(0,a.Z)("languages.ff");case"fi":return(0,a.Z)("languages.fi");case"fil":return(0,a.Z)("languages.fil");case"fo":return(0,a.Z)("languages.fo");case"fr":return(0,a.Z)("languages.fr");case"fy":return(0,a.Z)("languages.fy");case"ga":return(0,a.Z)("languages.ga");case"gd":return(0,a.Z)("languages.gd");case"gl":return(0,a.Z)("languages.gl");case"gn":return(0,a.Z)("languages.gn");case"got":return(0,a.Z)("languages.got");case"gu":return(0,a.Z)("languages.gu");case"ha":return(0,a.Z)("languages.ha");case"hai":return(0,a.Z)("languages.hai");case"haw":return(0,a.Z)("languages.haw");case"hi":return(0,a.Z)("languages.hi");case"hil":return(0,a.Z)("languages.hil");case"hmv":return(0,a.Z)("languages.hmv");case"hr":return(0,a.Z)("languages.hr");case"ht":return(0,a.Z)("languages.ht");case"hu":return(0,a.Z)("languages.hu");case"hy":return(0,a.Z)("languages.hy");case"id":return(0,a.Z)("languages.id");case"ig":return(0,a.Z)("languages.ig");case"ipa":return(0,a.Z)("languages.ipa");case"is":return(0,a.Z)("languages.is");case"it":return(0,a.Z)("languages.it");case"iu":return(0,a.Z)("languages.iu");case"iw":return(0,a.Z)("languages.iw");case"ja":return(0,a.Z)("languages.ja");case"ja-ka":return(0,a.Z)("languages.ja_ka");case"ja-ro":return(0,a.Z)("languages.ja_ro");case"jv":return(0,a.Z)("languages.jv");case"ka":return(0,a.Z)("languages.ka");case"kg":return(0,a.Z)("languages.kg");case"kin":return(0,a.Z)("languages.kin");case"kio":return(0,a.Z)("languages.kio");case"kk":return(0,a.Z)("languages.kk");case"km":return(0,a.Z)("languages.km");case"kn":return(0,a.Z)("languages.kn");case"ko":return(0,a.Z)("languages.ko");case"ksw":return(0,a.Z)("languages.ksw");case"ku":return(0,a.Z)("languages.ku");case"ky":return(0,a.Z)("languages.ky");case"la":return(0,a.Z)("languages.la");case"lb":return(0,a.Z)("languages.lb");case"lkt":return(0,a.Z)("languages.lkt");case"ln":return(0,a.Z)("languages.ln");case"lo":return(0,a.Z)("languages.lo");case"lt":return(0,a.Z)("languages.lt");case"lua":return(0,a.Z)("languages.lua");case"luo":return(0,a.Z)("languages.luo");case"lv":return(0,a.Z)("languages.lv");case"math":return(0,a.Z)("languages.math");case"mg":return(0,a.Z)("languages.mg");case"mh":return(0,a.Z)("languages.mh");case"mi":return(0,a.Z)("languages.mi");case"mjd":return(0,a.Z)("languages.mjd");case"mk":return(0,a.Z)("languages.mk");case"ml":return(0,a.Z)("languages.ml");case"mn":return(0,a.Z)("languages.mn");case"mnk":return(0,a.Z)("languages.mnk");case"moh":return(0,a.Z)("languages.moh");case"mr":return(0,a.Z)("languages.mr");case"ms":return(0,a.Z)("languages.ms");case"mt":return(0,a.Z)("languages.mt");case"my":return(0,a.Z)("languages.my");case"nah":return(0,a.Z)("languages.nah");case"ne":return(0,a.Z)("languages.ne");case"nl":return(0,a.Z)("languages.nl");case"no":return(0,a.Z)("languages.no");case"nv":return(0,a.Z)("languages.nv");case"oc":return(0,a.Z)("languages.oc");case"oj":return(0,a.Z)("languages.oj");case"om":return(0,a.Z)("languages.om");case"ood":return(0,a.Z)("languages.ood");case"or":return(0,a.Z)("languages.or");case"pa":return(0,a.Z)("languages.pa");case"photo":return(0,a.Z)("languages.photo");case"pi":return(0,a.Z)("languages.pi");case"pl":return(0,a.Z)("languages.pl");case"ps":return(0,a.Z)("languages.ps");case"pt":return(0,a.Z)("languages.pt");case"qu":return(0,a.Z)("languages.qu");case"rar":return(0,a.Z)("languages.rar");case"rm":return(0,a.Z)("languages.rm");case"ro":return(0,a.Z)("languages.ro");case"ru":return(0,a.Z)("languages.ru");case"sa":return(0,a.Z)("languages.sa");case"sd":return(0,a.Z)("languages.sd");case"see":return(0,a.Z)("languages.see");case"shn":return(0,a.Z)("languages.shn");case"si":return(0,a.Z)("languages.si");case"sk":return(0,a.Z)("languages.sk");case"sl":return(0,a.Z)("languages.sl");case"sm":return(0,a.Z)("languages.sm");case"so":return(0,a.Z)("languages.so");case"sq":return(0,a.Z)("languages.sq");case"sr":return(0,a.Z)("languages.sr");case"su":return(0,a.Z)("languages.su");case"sv":return(0,a.Z)("languages.sv");case"sw":return(0,a.Z)("languages.sw");case"syc":return(0,a.Z)("languages.syc");case"ta":return(0,a.Z)("languages.ta");case"te":return(0,a.Z)("languages.te");case"tet":return(0,a.Z)("languages.tet");case"tg":return(0,a.Z)("languages.tg");case"th":return(0,a.Z)("languages.th");case"ti":return(0,a.Z)("languages.ti");case"tl":return(0,a.Z)("languages.tl");case"to":return(0,a.Z)("languages.to");case"tr":return(0,a.Z)("languages.tr");case"trc":return(0,a.Z)("languages.trc");case"tt":return(0,a.Z)("languages.tt");case"tyv":return(0,a.Z)("languages.tyv");case"ug":return(0,a.Z)("languages.ug");case"uk":return(0,a.Z)("languages.uk");case"unm":return(0,a.Z)("languages.unm");case"ur":return(0,a.Z)("languages.ur");case"uz":return(0,a.Z)("languages.uz");case"vi":return(0,a.Z)("languages.vi");case"win":return(0,a.Z)("languages.win");case"wo":return(0,a.Z)("languages.wo");case"xh":return(0,a.Z)("languages.xh");case"yi":return(0,a.Z)("languages.yi");case"yo":return(0,a.Z)("languages.yo");case"zh-CN":return(0,a.Z)("languages.zh_cn");case"zh-pi":return(0,a.Z)("languages.zh_pi");case"zh-TW":return(0,a.Z)("languages.zh_tw");case"zu":return(0,a.Z)("languages.zu");default:return r(e),e}}},"./app/j/lazy/LoginPromptModalContainerLazy.ts":(e,t,s)=>{"use strict";s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/es.promise.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./app/j/compatibility/lazilyLoadComponent.ts");t.Z=(0,n.Z)((()=>Promise.all([s.e("react"),s.e("redux"),s.e("common"),s.e("login_signup_lazy")]).then(s.bind(s,"./app/j/containers/LoginPromptModalContainer.ts"))))},"./app/j/lazy/PremiumLogo/PremiumLogoForTeachersLazy.ts":(e,t,s)=>{"use strict";s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/es.promise.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./app/j/compatibility/lazilyLoadComponent.ts");t.Z=(0,n.Z)((()=>s.e("premium_logo_lazy").then(s.bind(s,"./app/j/components/PremiumLogo/PremiumLogoForTeachers.tsx"))))},"./app/j/lazy/PremiumLogo/PremiumLogoLazy.ts":(e,t,s)=>{"use strict";s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/es.promise.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./app/j/compatibility/lazilyLoadComponent.ts");t.Z=(0,n.Z)((()=>s.e("premium_logo_lazy").then(s.bind(s,"./app/j/components/PremiumLogo/PremiumLogo.tsx"))))},"./app/j/lazy/QuestionHintContainerLazy.ts":(e,t,s)=>{"use strict";s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/es.promise.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./app/j/hocs/lazilyLoadComponent.tsx");t.Z=(0,n.Z)((()=>Promise.all([s.e("immutable"),s.e("quizlet_shared_kotlin"),s.e("progress"),s.e("common"),s.e("question_hint_container_lazy")]).then(s.bind(s,"./app/j/study-modes/learn/containers/QuestionHintContainer.ts"))))},"./app/j/live_game/checkpoint/constants.ts":(e,t,s)=>{"use strict";s.d(t,{s8:()=>o,I5:()=>i,GO:()=>l,BR:()=>d,eZ:()=>u,mq:()=>c,KI:()=>p,ON:()=>n,Ot:()=>a,wi:()=>r,X3:()=>m});var n,a,r,o=20,i=.5,l=1,d=4,u={LOBBY:"lobby",PLAYING:"playing",ENDED:"ended"},c=.01,p=5e3;!function(e){e.CHECKPOINT_ACTIVITY_SELECTION_LOADED="checkpoint_activity_selection_load",e.CHECKPOINT_ACTIVITY_SELECTED="checkpoint_activity_selected",e.CHECKPOINT_QUESTION_SELECTION_LOAD="checkpoint_question_selection_load",e.CHECKPOINT_QUESTIONS_SELECTED="checkpoint_questions_selected",e.CHECKPOINT_LEADERBOARD_DISPLAYED="checkpoint_leaderboard_displayed",e.CHECKPOINT_LOBBY_LOAD="checkpoint_lobby_load",e.CHECKPOINT_CREATE_CLICKED="checkpoint_create_clicked",e.CHECKPOINT_OPTIONS_CHANGED="checkpoint_options_changed",e.CHECKPOINT_PLAYER_WAITING="checkpoint_player_waiting",e.CHECKPOINT_PLAYER_JOINED="checkpoint_player_joined",e.CHECKPOINT_ANSWER_SUBMITTED="checkpoint_answer_submitted",e.CHECKPOINT_SUMMARY_BREAKDOWN_TEACHER_LOAD="checkpoint_summary_breakdown_teacher_load",e.CHECKPOINT_GAME_END_TEACHER="checkpoint_game_end_teacher",e.CHECKPOINT_GAME_END_PLAYER="checkpoint_game_end_player",e.CHECKPOINT_CREATE_NEW_ROUND="checkpoint_create_new_round",e.CHECKPOINT_START_AGAIN="checkpoint_start_again",e.CHECKPOINT_GAME_EXIT="checkpoint_game_exit",e.CHECKPOINT_COACHMARK_DISMISS="checkpoint_coachmark_dismiss",e.CHECKPOINT_START_GAME_ANYWAY="checkpoint_start_game_anyway",e.CHECKPOINT_FIRST_QUESTION_SELECTED="checkpoint_first_question_selected",e.CHECKPOINT_MUSIC_TOGGLE="checkpoint_music_toggle",e.CHECKPOINT_WRITTEN_ROUND_START="checkpoint_written_round_start",e.CHECKPOINT_MCQ_ROUND="checkpoint_mcq_round",e.CHECKPOINT_WRITTEN_ANSWER_TOGGLE_CLICKED="checkpoint_written_answer_toggle_clicked",e.CHECKPOINNT_START="checkpoint_start",e.CHECKPOINT_WATCH_HELP_VIDEO="checkpoint_watch_help_video",e.CHECKPOINT_TEACHER_ACTIVITY_PICKER_WATCH_VIDEO="checkpoint_teacher_activity_picker_watch_video"}(n||(n={})),function(e){e.CHECKPOINT_TEACHER_SUMMARY_SCREEN="checkpoint_teacher_summary_screen",e.CHECKPOINT_TEACHER_LOBBY_SCREEN="checkpoint_teacher_lobby_screen",e.CHECKPOINT_TEACHER_QUESTION_SCREEN="checkpoint_teacher_question_screen",e.CHECKPOINT_STUDENT_QUESTION_SCREEN="checkpoint_student_question_screen",e.CHECKPOINT_STUDENT_SUMMARY_SCREEN="checkpoint_student_summary_screen"}(a||(a={})),function(e){e.ROUND_SHAPE_ONE="round_shape_one",e.ROUND_SHAPE_TWO="round_shape_two",e.TRIANGLE_SHAPE="triangle_shape"}(r||(r={}));var m={elementCount:360,duration:3e4}},"./app/j/live_game/teacher/checkpoint/components/ProgressBar.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.values.js");var n,a=s("./node_modules/@linaria/react/lib/index.js"),r=s("./app/j/assembly/foundations/Color.ts"),o=s("./app/j/live_game/checkpoint/constants.ts"),i=s("./node_modules/react/index.js"),l=(0,a.z)("div")({name:"BarContainer",class:"b1431m4k",vars:{"b1431m4k-0":[e=>e.backgroundColor]}}),d=(0,a.z)("div")({name:"Bar",class:"btux6nu",vars:{"btux6nu-0":[e=>e.color],"btux6nu-2":[e=>e.widthPercent]}});!function(e){e[e.HIGH=13]="HIGH",e[e.MEDIUM=9]="MEDIUM",e[e.LOW=0]="LOW"}(n||(n={}));var u={[n.HIGH]:{progressColor:r.YP.$400,progressBackgroundColor:r.YP.$200},[n.MEDIUM]:{progressColor:r.gM.$400,progressBackgroundColor:r.gM.$200},[n.LOW]:{progressColor:r.HA.$500,progressBackgroundColor:r.fY.Twilight200Twilight800}};function c(e){var{currentCount:t=0,duration:s=o.s8}=e,[a,r]=(0,i.useState)(0),c=1/(10*s)*.8;(0,i.useEffect)((()=>{var e=0,t=!0,n=setInterval((()=>{e+=c,t&&r(e),e>=s&&clearInterval(n)}),.8);return()=>{t=!1}}),[]);var p=Math.round(a/s*1e4)/100,m=Object.values(n).filter((e=>"number"==typeof e)).find((e=>t>=e)),_=u[m];return i.createElement(l,{backgroundColor:_.progressBackgroundColor},i.createElement(d,{color:_.progressColor,"data-testid":"progress-bar",widthPercent:p+"%"}))}s("./.linaria-cache/app/j/live_game/teacher/checkpoint/components/ProgressBar.linaria.css")},"./app/j/login/constants.ts":(e,t,s)=>{"use strict";s.d(t,{vu:()=>a,g4:()=>r,Vv:()=>o,VO:()=>i,e:()=>l,MF:()=>n});var n,a="generic",r=250,o="login_multiple_accounts_found",i="login",l={PASSWORD:"password",USERNAME:"username"};!function(e){e.CHANGE_INPUT="LOGIN.CHANGE_INPUT",e.RESET_SUBMISSION="LOGIN.RESET_SUBMISSION",e.SUBMIT_FORM="LOGIN.SUBMIT_FORM",e.SUBMIT_FORM_ASYNC_FAILURE="LOGIN.SUBMIT_FORM_ASYNC_FAILURE",e.OPEN_AUTH_MODAL="LOGIN.OPEN_AUTH_MODAL",e.CLOSE_AUTH_MODAL="LOGIN.CLOSE_AUTH_MODAL",e.REQUEST_USERNAME="LOGIN.REQUEST_USERNAME"}(n||(n={}))},"./app/j/login/index.ts":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u,loginReducer:()=>d});var n=s("./app/j/core/default_store/DefaultStore.ts"),a=s("./app/j/login/constants.ts"),r=(s("./node_modules/core-js/modules/es.array.reduce.js"),s("./node_modules/immer/dist/immer.cjs.production.min.js")),o={[a.MF.CHANGE_INPUT]:(e,t)=>{var{payload:s}=t;return(0,r.default)(e,(e=>{var{name:t,value:n,type:a}=s,r="checkbox"===a?s.checked:n;e.form[t]=r,e.validationErrorsByInputName[t]=null}))},[a.MF.RESET_SUBMISSION]:e=>(0,r.default)(e,(e=>{e.wasSubmitted=!1})),[a.MF.SUBMIT_FORM]:e=>(0,r.default)(e,(e=>{e.wasSubmitted=!0,e.validationErrorsByInputName={[a.vu]:[]}})),[a.MF.SUBMIT_FORM_ASYNC_FAILURE]:(e,t)=>{var{payload:s}=t;return(0,r.default)(e,(e=>{e.validationErrorsByInputName=s.reduce(((e,t)=>(-1!==t.type.indexOf(a.e.USERNAME)?e[a.e.USERNAME]=t.message:-1!==t.type.indexOf(a.e.PASSWORD)?e[a.e.PASSWORD]=t.message:e[a.vu].push(t),e)),e.validationErrorsByInputName),e.numFailedAttempts+=1}))},[a.MF.REQUEST_USERNAME]:e=>(0,r.default)(e,(e=>{e.hasMultipleAccounts=!0}))},i=s("./node_modules/typesafe-actions/dist/typesafe-actions.umd.production.js"),l={form:{[a.e.PASSWORD]:"",[a.e.USERNAME]:""},hasMultipleAccounts:!1,numFailedAttempts:0,openedAuthModal:null,validationErrorsByInputName:{[a.vu]:[]},wasSubmitted:!1},d=(0,i.createReducer)(l,o);function u(e){void 0===e&&(e=(0,n.bh)()),e.registerReducer(a.VO,d)}},"./app/j/models/QStudiableAnswer.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var n=s("./app/j/models/QModel.ts");class a extends n.Z{}a.URL_BASE="studiable-answers",a.MODEL_NAME="studiableAnswer",a.ALLOW_SOFT_DELETE=!1,a.API_VERSION="3.4"},"./app/j/rich_text/RichTextContext.ts":(e,t,s)=>{"use strict";s.d(t,{K:()=>a,G:()=>r});var n=s("./node_modules/react/index.js"),{Provider:a,Consumer:r}=n.createContext({canEditRichText:!1,isSelfIdentifiedTeacher:!1,shouldShowRichText:!1})},"./app/j/signup/components/AuthPromptModal.tsx":(e,t,s)=>{"use strict";s.d(t,{VY:()=>n,qT:()=>w});var n,a,r=s("./node_modules/lodash/noop.js"),o=s.n(r),i=(s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/@linaria/react/lib/index.js")),l=s("./app/j/assembly/AssemblyBreakpoint.tsx"),d=s("./app/j/assembly/AssemblyLink.tsx"),u=s("./app/j/assembly/buttons/index.ts"),c=s("./app/j/assembly/buttons/components/AssemblySocialButton.tsx"),p=s("./app/j/assembly/modals/index.ts"),m=s("./app/j/compatibility/logger/useLogger.ts"),_=s("./app/j/compatibility/router.ts"),g=s("./app/j/config/enums.ts"),E=s("./app/j/context/RouteContext.tsx"),h=s("./app/j/i18n/useTranslation.ts"),S=s("./app/j/lazy/LoginPromptModalContainerLazy.ts"),y=s("./app/j/lazy/SignupPromptModalNewLazy.ts"),f=s("./node_modules/react/index.js"),v=s("./app/j/site_nav/types.ts"),T=s("./app/j/utils/LoginHelper.ts"),A=(0,i.z)("div")({name:"BodyWrapper",class:"b1eh875z"}),b=(0,i.z)("div")({name:"SignupOptions",class:"s1waozuo"}),j=(0,i.z)("div")({name:"LoginTextWrapper",class:"l1mutaxx"}),I=(0,i.z)("div")({name:"SubtextWrapper",class:"s1pg4q5d"});function w(e){var{additionalLogData:t={},barrierType:s,escapePath:r,includeSubtitle:i=!0,isOpen:w,onClose:C,onOpen:O=o(),placement:N,redirectPath:x,titleOverride:D}=e,{t:L}=(0,h.Z)(),k=(0,T.GG)((0,f.useContext)(E.jj).actionString),R=(0,_.jD)(),{logAuthEvent:P,logPageAction:M}=(0,m.wL)(),[Z,U]=(0,f.useState)(null),B=Object.assign({barrierType:s,placement:N},t),W=(()=>{switch(N){case n.STUDY_MODE_BACK_BUTTON:return"study-mode-back-button";case n.SET_PAGE_CURTAIN:return"study-mode-signup-curtain";case n.SET_PAGE_LEARN:case n.SET_PAGE_TEST:return"set-page-signup-wall-modal";case n.TEST:case n.LEARN:default:return"study-mode-signup-wall-modal"}})();function H(e){M(a.SOCIAL_AUTH_CLICKED,Object.assign({},B,{provider:e}))}function G(){M(a.EMAIL_LOGIN_MODAL_OPENED,Object.assign({},B)),P(g.g4I.LOGIN_FORM_OPENED,{auth_origin:W}),"curtain"===s&&C(),U(v.L.LOGIN)}function Q(){M(a.EMAIL_SIGNUP_MODAL_OPENED,Object.assign({},B)),P(g.g4I.SIGNUP_FORM_OPENED,{auth_origin:W}),"curtain"===s&&C(),U(v.L.SIGN_UP)}function F(e){var t={customParams:{signupOrigin:W,screenName:k}};return f.createElement(f.Fragment,null,f.createElement(l.ZP,{lowerBound:"s"},f.createElement(c.ZP,{onClick:()=>H(e),provider:e,size:"xlarge",urlParams:t,variant:c.h2.SMALL})),f.createElement(l.ZP,{upperBound:"s"},f.createElement(c.ZP,{onClick:()=>H(e),provider:e,size:"large",urlParams:t,variant:c.h2.DEFAULT})))}var q=f.createElement(f.Fragment,null,f.createElement(l.ZP,{lowerBound:"s"},f.createElement(u.B0,{isFullWidth:!0,onClick:Q,size:"xlarge",text:L("global.sign_up_modal.email"),topIcon:"mail-filled"})),f.createElement(l.ZP,{upperBound:"s"},f.createElement(u.B0,{isFullWidth:!0,leftIcon:"mail-filled",onClick:Q,size:"large",text:L("signup_wall_inline.cta")}))),z=f.createElement(I,null,f.createElement(j,null,L("global.sign_up_modal.already_have_account")),f.createElement(d.ZP,{onClick:G,size:"small",text:L("global.sign_up_modal.log_in_link"),variant:d.U_.Inverted})),K="escapableWall"===s&&f.createElement(I,null,f.createElement(j,null,L("global.sign_up_modal.wall.escape_hatch")),f.createElement(d.ZP,{linkTo:r,onClick:function(){M(a.ESCAPE_HATCH_CLICKED,Object.assign({},B))},size:"small",text:L("global.sign_up_modal.wall.escape_hatch_option"),variant:d.U_.Secondary})),V=f.createElement(y.Z,{actions:{onClose:function(){M(a.EMAIL_SIGNUP_MODAL_CLOSED,Object.assign({},B)),U(null)},onOpenLogin:G,onOpenSignup:Q},includeCloseButton:!0,isOpen:Z===v.L.SIGN_UP,redir:x||R,signupOrigin:W}),Y=f.createElement(S.Z,{isOpen:Z===v.L.LOGIN,onClose:function(){M(a.EMAIL_LOGIN_MODAL_CLOSED,Object.assign({},B)),U(null)},redir:x||R}),X=f.createElement(A,null,f.createElement(b,null,F(c.MC.GOOGLE),F(c.MC.FACEBOOK),q),z,K);return f.createElement(f.Fragment,null,V,Y,f.createElement(p.g,{body:X,includeCloseButton:"escapableWall"!==s,isOpen:w,justifyCenter:!0,mobileVariant:"bottomSheet",onClose:function(){"escapableWall"!==s&&(M(a.CLOSED,Object.assign({},B)),C())},onOpen:function(){M(a.OPENED,Object.assign({},B)),O()},shouldCloseOnOverlayClick:"escapableWall"!==s,subtitle:i?L("global.sign_up_modal.wall.subtitle"):void 0,title:D||L("global.sign_up_modal.wall.title")}))}!function(e){e.STUDY_MODE_BACK_BUTTON="study_mode_back_button",e.SET_PAGE_CURTAIN="set_page_curtain",e.SET_PAGE_LEARN="set_page_learn",e.SET_PAGE_TEST="set_page_test",e.LEARN="learn",e.TEST="test"}(n||(n={})),function(e){e.OPENED="auth_prompt_modal_opened",e.CLOSED="auth_prompt_modal_closed",e.SOCIAL_AUTH_CLICKED="auth_prompt_modal_social_auth_clicked",e.ESCAPE_HATCH_CLICKED="auth_prompt_modal_escape_hatch_clicked",e.EMAIL_LOGIN_MODAL_OPENED="auth_prompt_modal_email_login_modal_opened",e.EMAIL_SIGNUP_MODAL_OPENED="auth_prompt_modal_email_signup_modal_opened",e.EMAIL_LOGIN_MODAL_CLOSED="auth_prompt_modal_email_login_modal_closed",e.EMAIL_SIGNUP_MODAL_CLOSED="auth_prompt_modal_email_signup_modal_closed"}(a||(a={})),s("./.linaria-cache/app/j/signup/components/AuthPromptModal.linaria.css")},"./app/j/studiable-data/types.ts":(e,t,s)=>{"use strict";var n;s.d(t,{N:()=>n}),function(e){e.N_SIDED_CARD_ANSWER="NSidedCardAnswer",e.MCQ_ANSWER="McqAnswer"}(n||(n={}))},"./app/j/studiable-data/utils.ts":(e,t,s)=>{"use strict";s.d(t,{lt:()=>o,F_:()=>i,cD:()=>l,CC:()=>d,p:()=>u,xy:()=>c,Ai:()=>p,rn:()=>m,c4:()=>_,KN:()=>g});s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./app/j/config/enums.ts"),a=s("./app/j/studiable-data/types.ts");function r(e){var t={correctness:e.correctness,round:e.round,studiableItemId:e.itemId,studyModeType:e.studyMode,timestamp:e.timestamp};return"selectedOptionIds"in e?Object.assign({type:a.N.MCQ_ANSWER,selectedOptionIds:e.selectedOptionIds},t):Object.assign({type:a.N.N_SIDED_CARD_ANSWER,promptSideIds:e.promptSideIds,answerSideIds:e.answerSideIds},t)}function o(e){return r(e)}function i(e){return e.type===n.zqd.N_SIDED_CARD}function l(e){return e.type===n.zqd.MULTIPLE_CHOICE_QUESTION}function d(e){return 1===e.options.filter((e=>e.isCorrect)).length}function u(e){var t=e.media.find((e=>e.type===n.DDH.IMAGE));return void 0!==t&&"width"in t?t:null}function c(e){var t=e.media.find((e=>e.type===n.DDH.TEXT));return void 0!==t&&"plainText"in t?t:null}function p(e){var t=e.media.find((e=>e.type===n.DDH.AUDIO));return void 0===t||!("url"in t)||"width"in t?null:t}function m(e){var t=e.media.find((e=>e.type===n.DDH.DIAGRAM_SHAPE));return void 0!==t&&"shape"in t?t:null}function*_(e,t){for(var s of e)for(var n of s.cardSides)n.label===t&&(yield n)}function g(e,t){var s=e.cardSides.find((e=>e.label===t));return void 0===s?null:s}},"./app/j/study-engine/factory.ts":(e,t,s)=>{"use strict";var n=s("./node_modules/@quizlet/assistant-generator/kotlin_com_quizlet_shared_assistant_generator.js"),a=n.StudyEngineFactoryJs;t.Z=a},"./app/j/study-modes/cards/actions/constants.ts":(e,t,s)=>{"use strict";var n;s.d(t,{M:()=>n}),function(e){e.ADD_ITEM_TO_SEEN="CARDS_MODE.ADD_ITEM_TO_SEEN",e.CLEAR_SEEN_ITEMS="CARDS_MODE.CLEAR_SEEN_ITEMS",e.FLIP_CARD_SIDE="CARDS_MODE.FLIP_CARD_SIDE",e.NEXT_CARD="CARDS_MODE.NEXT_CARD",e.PREVIOUS_CARD="CARDS_MODE.PREVIOUS_CARD",e.RESET_CARDS="CARDS_MODE.RESET_CARDS",e.SET_EDIT_STUDIABLE_ITEM_ERRORS="CARDS_MODE.EDIT_STUDIABLE_ITEM_ERRORS",e.SET_HAS_INTERACTED_WITH_MODE="CARDS_MODE.SET_HAS_INTERACTED_WITH_MODE",e.SET_IS_AUDIO_PLAYING="CARDS_MODE.SET_IS_AUDIO_PLAYING",e.SET_IS_REQUESTING_EDIT="CARDS_MODE.SET_IS_REQUESTING_EDIT",e.SET_QUESTIONS="CARDS_MODE.SET_QUESTIONS",e.SET_SHUFFLE_SEED="CARDS_MODE.SET_SHUFFLE_SEED",e.TOGGLE_ANSWER_MODE="CARDS_MODE.TOGGLE_ANSWER_MODE",e.TOGGLE_AUTOPLAY="CARDS_MODE.TOGGLE_AUTOPLAY",e.TOGGLE_IS_CURRENT_IMAGE_ZOOMED="CARDS_MODE.TOGGLE_IS_CURRENT_IMAGE_ZOOMED",e.TOGGLE_IS_EDITING="CARDS_MODE.TOGGLE_IS_EDITING"}(n||(n={}))},"./app/j/study-modes/common/PoweredByQuizletPlus.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var n=s("./node_modules/@linaria/react/lib/index.js"),a=s("./app/j/components/PremiumBrandingBadge.tsx"),r=s("./app/j/i18n/useTranslation.ts"),o=s("./node_modules/react/index.js"),i=(0,n.z)("div")({name:"PoweredWrapper",class:"p10vrlcr"}),l=(0,n.z)("div")({name:"PoweredSign",class:"pmj1azt"});function d(){var{t:e}=(0,r.Z)();return o.createElement(i,null,o.createElement(l,null,e("assistant.powered_by")," ",o.createElement(a.ZP,null)))}s("./.linaria-cache/app/j/study-modes/common/PoweredByQuizletPlus.linaria.css")},"./app/j/study-modes/common/components/AnswerOption.tsx":(e,t,s)=>{"use strict";s.d(t,{B:()=>n,Z:()=>_});var n,a=s("./node_modules/@linaria/core/lib/index.js"),r=s("./node_modules/@linaria/react/lib/index.js"),o=s("./app/j/assembly/AssemblyIcon.tsx"),i=s("./app/j/assembly/foundations/Color.ts"),l=s("./app/j/constants/KeyConstants.ts"),d=s("./node_modules/react/index.js");!function(e){e.Default="default",e.Correct="correct",e.Disabled="disabled",e.Incorrect="incorrect",e.Selected="selected",e.SkippedCorrect="skippedCorrect",e.SkippedIncorrect="skippedIncorrect"}(n||(n={}));var u=(0,r.z)("section")({name:"Wrapper",class:"wbkjose"}),c=(0,r.z)("div")({name:"IconWrapper",class:"i16ts54e"}),p=(0,r.z)("div")({name:"KeyboardHint",class:"k17vky9d"});i.fY.Neutral400Ink300;function m(e){switch(e){case n.Correct:return"c17oj589";case n.Disabled:return"d1bwvwng";case n.Incorrect:return"i199r63q";case n.Selected:return"s1m93kwi";case n.SkippedCorrect:case n.SkippedIncorrect:return"s1bua9we";default:return null}}function _(e){var{children:t,hint:s,onClick:r,variant:i=n.Default}=e,_=function(e){return e===n.Correct||e===n.SkippedCorrect?d.createElement(o.ZP,{icon:"check"}):e===n.Incorrect||e===n.SkippedIncorrect?d.createElement(o.ZP,{icon:"x"}):null}(i);return d.createElement(u,{className:(0,a.cx)(m(i)),onClick:r,onKeyDown:e=>{e.key===l.B&&r&&(e.preventDefault(),r())},tabIndex:0},d.createElement("div",null,_?d.createElement(c,null,_):null,!_&&s?d.createElement(p,null,s):null),t)}s("./.linaria-cache/app/j/study-modes/common/components/AnswerOption.linaria.css")},"./app/j/study-modes/common/components/BottomBar.tsx":(e,t,s)=>{"use strict";s.d(t,{I:()=>S});s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.string.includes.js");var n=s("./node_modules/@linaria/core/lib/index.js"),a=s("./node_modules/@linaria/react/lib/index.js"),r=s("./app/j/assembly/AssemblyLink.tsx"),o=s("./app/j/assembly/buttons/index.ts"),i=s("./app/j/compatibility/logger/useLogger.ts"),l=s("./app/j/components/UIBreakpoint.tsx"),d=s("./app/j/global/Quizlet.ts"),u=s("./app/j/hocs/keydownDecorator.tsx"),c=s("./app/j/i18n/$t.ts"),p=s("./node_modules/polished/dist/polished.cjs.js"),m=s("./node_modules/react/index.js"),_=s("./app/j/utils/AuBtsExperimentHelper.ts"),g=s("./app/j/utils/BreakpointsHelper.ts"),E=s("./app/j/utils/breakpointSwitch.ts"),h=s("./app/j/utils/redirect.ts"),S=(0,p.hO)(80),y=(0,a.z)("div")({name:"BottomBarContainer",class:"b1cq2ucw",vars:{"b1cq2ucw-0":[e=>e.shouldShowPrefetchAnimation?5e3:1e3,"ms"]}}),f=(0,a.z)("div")({name:"ContentContainer",class:"c14r6g4y",vars:{"c14r6g4y-0":[e=>e.maxWidth]}}),v=(0,a.z)("div")({name:"ActionsContainer",class:"aq6b3lt"}),T=(0,a.z)("span")({name:"PressAnyKeyText",class:"p99jz1p"}),A=(0,a.z)("div")({name:"FeedbackLinkContainer",class:"f8nye8"});t.Z=(0,u.Z)()((function(e){var t,{actions:{onClick:s},continueButtonText:a,feedbackLink:S,keydownEvent:b,isOutOfMeteredRounds:j=!1,isNewStudyBreak:I=!1,prefetchInStudyModeVariant:w,setId:C,timeLeft:O=0,setHasFinishedAnimating:N,nextMeteredRoundNumber:x}=e,[D,L]=(0,m.useState)(!1),[k,R]=(0,m.useState)(!1),P=I&&O>0,M=(0,_.LL)();(0,m.useEffect)((()=>{var e=setTimeout((()=>{R(!0),N&&N(!0)}),1e3);return()=>{clearTimeout(e)}}),[]),(0,m.useEffect)((()=>{!k||!b||P||D||u.a.includes(b.key)||(b.preventDefault(),j||s(),L(!0))}),[k,D,b,s,P,j]);var{logPageAction:Z}=(0,i.wL)(),U=m.createElement(r.ZP,{linkTo:"/upgrade?source=learn_mode&redir="+C+"/learn",onClick:()=>Z("learn_continue_with_plus",{set_id:C,next_metered_round_number:x,test_variant:M()}),text:(0,c.Z)("assistant.continue_button.continue_with_plus"),variant:r.U_.Primary}),B=S&&!1===(null==(t=d.Z.user)?void 0:t._isUnderAge)&&!j,W=(0,p.hO)(840),H="oneQuestionAway"===w;return m.createElement(y,{"aria-live":"polite",className:(0,n.cx)((B||j)&&"fd5jvl9"),shouldShowPrefetchAnimation:H},m.createElement(f,{maxWidth:W},m.createElement(l.Z,{above:"l"},j?U:m.createElement(T,null,P?(0,c.Z)("study_ads_modal.skip_ad",{timeLeft:O}):(0,c.Z)("assistant.continue_button.press_any_key_text"))),m.createElement(v,null,B?m.createElement(A,null,S):null,j?m.createElement(l.Z,{below:"l"},m.createElement(A,null,U)):null,m.createElement(o.wI,{disabled:P,isFullWidth:(0,g.Lu)((0,E.b)(),"l"),onClick:()=>{Z("learn_continue",{set_id:C,next_metered_round_number:x,test_variant:M()}),j?(0,h.ZP)("/"+C+"/flashcards"):s()},size:"large",text:a||(j?(0,c.Z)("assistant.continue_button.study_with_flashcards_cta"):(0,c.Z)("assistant.continue_button.continue_cta"))}))))})),s("./.linaria-cache/app/j/study-modes/common/components/BottomBar.linaria.css")},"./app/j/study-modes/common/components/CardQuestionCounter.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s("./node_modules/@linaria/react/lib/index.js"),a=s("./app/j/i18n/useTranslation.ts"),r=s("./node_modules/react/index.js"),o=(0,n.z)("div")({name:"Counter",class:"cxwzz30"});function i(e){var{t}=(0,a.Z)();return r.createElement(o,null,t("test.counter",{current:e.currentQuestionRange,total:e.totalQuestionCount}))}s("./.linaria-cache/app/j/study-modes/common/components/CardQuestionCounter.linaria.css")},"./app/j/study-modes/common/components/FeedbackItem.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./app/j/i18n/$t.ts"),a=s("./node_modules/classnames/index.js"),r=s.n(a),o=s("./app/j/components/UIHeading.tsx"),i=s("./node_modules/react/index.js");class l extends i.PureComponent{constructor(){super(...arguments),this.getLabel=e=>{if(void 0!==e&&"string"==typeof e)return e;var{id:t,labelText:s}=e.props;return void 0!==t?(0,n.Z)(t):void 0!==s?s:""},this.getTermLabel=()=>(0,n.Z)("assistant.aria.feedback_item",{label:this.getLabel(this.props.label),term:this.props.text})}render(){var e=r()("FeedbackItem",{"FeedbackItem--success":"success"===this.props.variant,"FeedbackItem--error":"error"===this.props.variant});return i.createElement("div",{className:e,"data-testid":"feedback-item"},i.createElement("div",{"aria-hidden":!0,className:"FeedbackItem-label"},i.createElement(o.Z,{deprecatedStyle:!0,size:6},this.props.label)),i.createElement("div",{"aria-label":this.getTermLabel(),className:"FeedbackItem-content","data-testid":"feedback-term"},this.props.children))}}},"./app/j/study-modes/common/components/MultipleChoiceQuestionAnswersLabel.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>_});var n=s("./node_modules/@linaria/core/lib/index.js"),a=s("./node_modules/@linaria/react/lib/index.js"),r=s("./app/j/assembly/foundations/Spacing.ts"),o=s("./app/j/assembly/foundations/Typography.ts"),i=s("./app/j/config/enums.ts"),l=s("./app/j/i18n/useTranslation.ts"),d=s("./node_modules/react/index.js"),u=s("./app/j/study-modes/common/engine/utils/graded-answer-utils.ts"),c=s("./app/j/study-modes/common/engine/utils/question-element-utils.ts"),p=s("./app/j/study-modes/common/utils/answerFeedback.ts"),m=(0,a.z)("section")({name:"Label",class:"lv624w6"});o.rU.Three,r.Ki.Medium;function _(e){var{currentValue:t,gradedAnswer:s,question:a}=e,{t:r}=(0,l.Z)();var o=function(){if(void 0!==t&&null===s)return r("checkpoint.question.feedback.you_selected");if((0,u.ZP)(s)){if(!s.feedback.submittedAnswer)return r("assistant.label.dont_know_feedback");if(void 0===t&&(0,u.bt)(s))return r("assistant.label.correct_answer");if((0,u.e0)(s))return(0,p.c)(r);if((0,u.uL)(s))return(0,p.u)(r)}return a.metadata.answerSide===i.dU_.DEFINITION?r("assistant.label.multiple_choice_definitions"):r("assistant.label.multiple_choice_terms")}();return d.createElement(m,{"aria-label":function(){if(!s||s.isCorrect||!a.hasExactlyOneCorrectAnswer)return o;var e=s.feedback.expectedAnswer.value,t=a.options[e],n=(0,c.dC)(t);if(!n)return o;var i=r("assistant.label.answer_feedback.aria_correction",{correctAnswer:n});return o+" "+i}(),"aria-live":s?"assertive":void 0,className:(0,n.cx)((0,u.e0)(s)&&!(0,u.bt)(s)?"c1rj1z0r":null,!(0,u.jn)(s)&&(0,u.uL)(s)?"i5n2h5":null,(0,u.jn)(s)||(0,u.bt)(s)?"s1xr3rjo":null)},d.createElement("div",{"aria-hidden":!0},o))}s("./.linaria-cache/app/j/study-modes/common/components/MultipleChoiceQuestionAnswersLabel.linaria.css")},"./app/j/study-modes/common/components/MultipleChoiceQuestionDiagram.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>T});var n=s("./node_modules/@babel/runtime/helpers/esm/extends.js"),a=s("./node_modules/@linaria/react/lib/index.js"),r=s("./app/j/components/FormattedText.tsx"),o=s("./app/j/components/T.tsx"),i=s("./app/j/diagrams/components/Diagram.tsx"),l=s("./app/j/diagrams/components/DiagramShape.tsx"),d=s("./app/j/diagrams/DiagramConstants.ts"),u=s("./app/j/i18n/$t.ts"),c=s("./node_modules/nullthrows/nullthrows.js"),p=s.n(c),m=s("./node_modules/react/index.js"),_=s("./app/j/study-modes/common/components/FeedbackItem.tsx"),g=s("./app/j/study-modes/common/engine/utils/graded-answer-utils.ts"),E=s("./app/j/study-modes/common/engine/utils/question-element-utils.ts"),h=s("./app/j/study-modes/learn/utils/gradedAnswers.ts"),S=(0,a.z)("div")({name:"DiagramArea",class:"drm0kjp",vars:{"drm0kjp-3":[e=>e.shouldDelayPopup?"1s":"0s"]}});function y(e){return{id:0,lastModified:0,setId:0,termId:0,timestamp:0,shape:e}}function f(e){var{text:t}=(0,E.Sg)(e.question.prompt),s=t?m.createElement(r.Z,{lang:t.languageCode,richText:t.richText,text:t.plainText}):null;return(0,h.e0)(e.gradedAnswer)?m.createElement(_.Z,{label:m.createElement(o.Z,{id:"assistant.feedback.correct"}),text:(0,u.Z)("assistant.feedback.correct"),variant:"success"},s):s}function v(e){var t,s,n,a=(0,m.useRef)(null);return(0,m.useEffect)((()=>{a.current&&(0,h.eC)(e.gradedAnswer)&&a.current.openPopup()}),[e.gradedAnswer]),m.createElement(l.default,{diagramShape:e.diagramShape,onClick:()=>e.onAnswer(e.idx),ref:e=>{a.current=e},state:(t=e.gradedAnswer,s=e.idx,n=e.submittedAnswer,(0,h.eC)(t)?(0,h.Qi)(t,s)?(0,g.jn)(t)?null:d.kA.CORRECT:(0,h.fV)(t,s)?d.kA.INCORRECT:null:(null==n?void 0:n.value)===s?d.kA.ACTIVE:null)},(0,h.Qi)(e.gradedAnswer,e.idx)?m.createElement(f,{gradedAnswer:e.gradedAnswer,question:e.question}):null)}function T(e){var t=(0,E.Sg)(e.question.options[0]),{diagramImage:s}=p()(t.location,"Tried to render diagram without location");return m.createElement(S,{shouldDelayPopup:(0,h.uL)(e.gradedAnswer)},m.createElement(i.default,{image:s,variant:i.ZOOM_TO_POINTS_VARIANT},e.question.options.map(((t,s)=>{var a=(0,E.gS)(t);return a&&function(e,t){return!(0,h.eC)(e)||(0,h.fV)(e,t)||(0,h.Qi)(e,t)}(e.gradedAnswer,s)?m.createElement(v,(0,n.Z)({},e,{diagramShape:y(a),idx:s,key:a,shape:a})):null}))))}s("./.linaria-cache/app/j/study-modes/common/components/MultipleChoiceQuestionDiagram.linaria.css")},"./app/j/study-modes/common/components/MultipleChoiceQuestionOption.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});var n=s("./node_modules/@linaria/core/lib/index.js"),a=s("./node_modules/@linaria/react/lib/index.js"),r=s("./app/j/components/FormattedTextWithImage.tsx"),o=s("./app/j/components/Image.tsx"),i=s("./node_modules/react/index.js"),l=s("./app/j/study-modes/common/components/AnswerOption.tsx"),d=s("./app/j/study-modes/common/engine/utils/question-element-utils.ts"),u=s("./app/j/study-modes/common/utils/multipleChoiceUtils.ts"),c=s("./app/j/utils/BreakpointsHelper.ts"),p=(0,a.z)("div")({name:"TermOptionInner",class:"t1vgx2mw"});function m(e){var t,{element:s}=e,a=(0,d.Im)(s),m=(0,d.dC)(s),_=(0,d.Wv)(s),g=!(!a||m),E=g?"height":"square",h=g?"s":"xs",S=(0,u.xD)(e.index,null!=(t=e.gradedAnswer)?t:void 0,e.submittedAnswer);return i.createElement(l.Z,{hint:e.hasKeybindingsEnabled?""+(e.index+1):null,onClick:()=>e.onClick(e.index),variant:S},i.createElement(p,{"aria-selected":S===l.B.Selected,className:(0,n.cx)(g?"i12kgzg7":null),"data-testid":"option-"+(e.index+1)},g&&a?i.createElement(o.default,{clickToZoom:!1,height:(0,c.C1)()?60:120,shape:E,size:h,src:a}):i.createElement(r.Z,{clickToZoom:!1,imageHeight:(0,c.C1)()?60:120,imageShape:E,imageSize:h,imageUrl:a,lang:_,text:m})))}s("./.linaria-cache/app/j/study-modes/common/components/MultipleChoiceQuestionOption.linaria.css")},"./app/j/study-modes/common/components/MultipleChoiceQuestionPrompt.tsx":(e,t,s)=>{"use strict";s.d(t,{X:()=>v,D:()=>T});var n=s("./node_modules/@linaria/core/lib/index.js"),a=s("./node_modules/@linaria/react/lib/index.js"),r=s("./app/j/config/enums.ts"),o=s("./app/j/hocs/keydownDecorator.tsx"),i=s("./node_modules/react/index.js"),l=s("./app/j/study-modes/common/components/MultipleChoiceQuestionAnswersLabel.tsx"),d=s("./app/j/study-modes/common/components/MultipleChoiceQuestionDiagram.tsx"),u=s("./app/j/study-modes/common/components/MultipleChoiceQuestionOption.tsx"),c=s("./app/j/study-modes/common/components/StudyCardLayout.tsx"),p=s("./app/j/study-modes/common/components/TopRightWrapper.tsx"),m=s("./app/j/study-modes/common/containers/StudyCardQuestionContainer.tsx"),_=s("./app/j/study-modes/common/engine/utils/question-element-utils.ts"),g=s("./app/j/study-modes/common/utils/multipleChoiceUtils.ts"),E=s("./app/j/study-modes/learn/types.ts"),h=i.memo(l.Z),S=(0,a.z)(c.Z)({name:"StudyCardWrapper",class:"szaclz8"}),y=(0,a.z)("div")({name:"AnswersContainer",class:"a1xw9zoj"}),f=(0,a.z)("div")({name:"AnswerWrapper",class:"a1ik211e"});function v(e){(0,i.useEffect)((()=>{e.keydownEvent&&j(e.keydownEvent)}),[e.keydownEvent]);var t,s,a=void 0!==e.keydownEvent,{actions:o,gradedAnswer:l,question:c,submittedAnswer:v,isBottomBarShown:T=!1,isMobileCard:A=!1}=e,b=e=>{l||(I(),o.answerMultipleChoice({value:e}))},j=e=>{var t=Number(e.key);c&&(Number.isNaN(t)||0===t||t>c.options.length||c.metadata.answerSide===r.dU_.LOCATION||(e.preventDefault(),c.options[t-1]&&b(t-1)))},I=()=>{var{questionHint:t}=e;t&&o.logExampleSentencesEvent&&o.logExampleSentencesEvent({action:E.FE.ADVANCED_QUESTION,questionHint:t})};return i.createElement(S,{"aria-live":"polite",bottomBarShown:T,isMobileCard:A,key:c.metadata.studiableItemId},i.createElement(m.Z,{questionElement:c.prompt,questionHint:e.questionHint,shouldShowAudioIcon:!0,side:c.metadata.promptSide}),i.createElement(y,null,i.createElement(h,{gradedAnswer:l,question:c}),(0,g.xp)(c)?i.createElement(d.Z,{gradedAnswer:l,onAnswer:b,question:c,submittedAnswer:null!=v?v:void 0}):(t=c.metadata.answerSide===r.dU_.DEFINITION&&c.options.every((e=>!(0,_.rr)(e))),s=c.options.some(g._B),i.createElement(f,{className:(0,n.cx)(t?"i14vm27w":null,s?"f1w4syo":null),"data-testid":"MCQ Answers"},c.options.map(((e,t)=>i.createElement(u.Z,{element:e,gradedAnswer:l,hasKeybindingsEnabled:a,index:t,key:"option-"+t,onClick:b,submittedAnswer:v})))))),e.topRightLabel?i.createElement(p.T,null,e.topRightLabel):null)}var T=(0,o.Z)(["1","2","3","4"])(v);s("./.linaria-cache/app/j/study-modes/common/components/MultipleChoiceQuestionPrompt.linaria.css")},"./app/j/study-modes/common/components/QuestionElementView.tsx":(e,t,s)=>{"use strict";s.d(t,{f:()=>n,Z:()=>E});var n,a=s("./node_modules/@linaria/core/lib/index.js"),r=s("./node_modules/@linaria/react/lib/index.js"),o=s("./app/j/components/FormattedTextWithImage.tsx"),i=s("./node_modules/react/index.js"),l=s("./app/j/study-modes/common/engine/utils/question-element-utils.ts"),d=s("./app/j/diagrams/components/Diagram.tsx"),u=s("./app/j/diagrams/components/DiagramShape.tsx"),c=(0,r.z)("div")({name:"Wrapper",class:"wj6og3n"});function p(e){var{children:t,diagramShape:s,diagramShapeState:n,image:a}=e;return i.createElement(c,{onClick:e=>e.stopPropagation()},i.createElement(d.default,{image:a,variant:d.ZOOM_TO_POINTS_VARIANT},i.createElement(u.default,{diagramShape:s,onAdd:u.openDiagramShapePopup,state:n},t)))}s("./.linaria-cache/app/j/study-modes/learn/components/QuestionLocation.linaria.css"),function(e){e.DEFAULT="default",e.LARGE="large",e.SMALL="small"}(n||(n={}));var m=(0,r.z)("div")({name:"DiagramWrapper",class:"d1o5ra91"}),_=(0,r.z)("div")({name:"TextWrapper",class:"t1ix05zv",vars:{"t1ix05zv-0":[e=>e.onClick?"pointer":"auto"]}}),g={min:20,max:20,mode:"multi"};function E(e){var{alignment:t=o.v.Top,onClick:s,questionElement:r,shouldImageBeZoomable:d,textfit:u=g,variant:c=n.DEFAULT}=e;if(!r)return null;var{location:E,text:h,image:S}=(0,l.Sg)(r),y=!!h;return E?i.createElement(m,null,i.createElement(p,{diagramShape:E,image:E.diagramImage})):i.createElement(_,{className:(0,a.cx)(c===n.LARGE?"lopeq6p":null),"data-testid":"Question Text",onClick:s},i.createElement(o.Z,{alignment:t,clickToZoom:null==d||d,imageHeight:y?120:void 0,imageShape:y?"square":"original",imageSize:y?"s":"m",imageUrl:null==S?void 0:S.url,lang:null==h?void 0:h.languageCode,richText:null==h?void 0:h.richText,text:null==h?void 0:h.plainText,textfit:u}))}s("./.linaria-cache/app/j/study-modes/common/components/QuestionElementView.linaria.css")},"./app/j/study-modes/common/components/ReviewCard.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>E});var n=s("./node_modules/@babel/runtime/helpers/esm/extends.js"),a=s("./node_modules/@linaria/react/lib/index.js"),r=s("./app/j/assembly/buttons/index.ts"),o=s("./app/j/assembly/foundations/Primitives.tsx"),i=s("./app/j/assembly/foundations/Spacing.ts"),l=s("./node_modules/polished/dist/polished.cjs.js"),d=s("./node_modules/react/index.js"),u=s("./app/j/study-modes/common/components/StudyCardLayout.tsx"),c=(0,a.z)(u.Z)({name:"Card",class:"cnnm8fr",vars:{"cnnm8fr-2":[e=>e.isShowingLive?"100%":""+(0,l.hO)(840)],"cnnm8fr-3":[e=>e.isShowingLive?""+(0,l.hO)(156):"auto"],"cnnm8fr-5":[e=>e.isShowingFeedbackLink?""+i.Ki.Small:""+i.Ki.Xlarge],"cnnm8fr-9":[e=>e.isShowingFeedbackLink?""+i.Ki.Small:""+i.Ki.Xlarge]}}),p=(0,a.z)(o.H3)({name:"Title",class:"t1pp8hw6"}),m=(0,a.z)("p")({name:"Subtitle",class:"s10f7d6k"}),_=(0,a.z)("div")({name:"StatWrapper",class:"s1nk1180"}),g=(0,a.z)("div")({name:"ButtonWrapper",class:"b12ccik1",vars:{"b12ccik1-0":[e=>e.isShowingButtons?""+i.Ki.Large:0]}});function E(e){var{isShowingLive:t=!1,title:s,subtitle:a,stats:o,primaryButtonProps:i,secondaryButtonProps:l,feedbackLink:u}=e,E=void 0!==(null==i?void 0:i.text)||void 0!==(null==l?void 0:l.text);return d.createElement(c,{bottomBarShown:!1,isMobileCard:!0,isShowingFeedbackLink:!!u,isShowingLive:t},d.createElement(p,null,s),d.createElement(m,null,a),d.createElement(_,null,o),d.createElement(g,{isShowingButtons:E},void 0!==(null==l?void 0:l.text)?d.createElement(r.B0,(0,n.Z)({},l,{size:"large"})):null,void 0!==(null==i?void 0:i.text)?d.createElement(r.wI,(0,n.Z)({},i,{size:"large"})):null),u)}s("./.linaria-cache/app/j/study-modes/common/components/ReviewCard.linaria.css")},"./app/j/study-modes/common/components/RoundCompletePaywall.tsx":(e,t,s)=>{"use strict";s.d(t,{G:()=>n});var n,a=s("./node_modules/@babel/runtime/helpers/esm/extends.js"),r=s("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),o=s("./node_modules/@linaria/react/lib/index.js"),i=s("./app/j/assembly/AssemblyBreakpoint.tsx"),l=s("./app/j/assembly/buttons/index.ts"),d=s("./app/j/assembly/buttons/types.ts"),u=s("./app/j/assembly/foundations/Spacing.ts"),c=s("./app/j/compatibility/logger/useLogger.ts"),p=s("./app/j/i18n/useTranslation.ts"),m=s("./app/j/lazy/PremiumLogo/PremiumLogoForTeachersLazy.ts"),_=s("./app/j/lazy/PremiumLogo/PremiumLogoLazy.ts"),g=s("./node_modules/react/index.js"),E=s("./app/j/utils/AuBtsExperimentHelper.ts"),h=s("./app/j/utils/isNightTheme.ts"),S=s("./app/j/utils/redirect.ts"),y=["onClick","text"];!function(e){e[e.LEARN=0]="LEARN",e[e.TEST=1]="TEST"}(n||(n={}));var f=(0,o.z)("div")({name:"RoundCompletePaywallBody",class:"rfuez1"}),v=(0,o.z)("div")({name:"Logo",class:"lee6s69"}),T=(0,o.z)("div")({name:"LeftContainer",class:"l1jtkrt"}),A=(0,o.z)("div")({name:"RightContainer",class:"r1qmhx8c",vars:{"r1qmhx8c-0":[e=>e.isLearnMode?"start":"center"]}}),b=(0,o.z)("h2")({name:"Header",class:"h1kop4ho"}),j=(0,o.z)("p")({name:"Description",class:"d19y1sgm"}),I=(0,o.z)("div")({name:"CTAContainer",class:"c4nyfro",vars:{"c4nyfro-2":[e=>e.isLearnMode?u.Ki.Xlarge:u.Ki.Small]}}),w=(0,o.z)("div")({name:"SecondaryButtonContainer",class:"s1c2m539"});t.Z=e=>{var{isTeacher:t,children:s,onShow:o,page:u,setId:C,maxRounds:O,secondaryButtonProps:N,studyEventLogger:x}=e,D=(0,h.Z)(),L=(0,E.LL)(),{t:k}=(0,p.Z)(),{logPageAction:R}=(0,c.wL)(),P=u===n.LEARN,M=N||{},{onClick:Z,text:U}=M,B=(0,r.Z)(M,y),W=null!=U?U:k("learning_assistant.round_complete_paywall.not_now"),H=e=>{P?R("learn_round_complete_paywall_secondary_action",{isTeacher:t,set_id:C,rounds_completed:O,test_variant:L(),study_session_id:x.getStudySessionId()}):R("test_round_complete_paywall_secondary_action",{set_id:C,rounds_completed:O,test_variant:L(),study_session_id:x.getStudySessionId()}),Z&&Z(e)},G=()=>s?g.createElement(A,{isLearnMode:P},s):null;return(0,g.useEffect)((()=>{o&&o()}),[]),g.createElement(f,null,g.createElement(T,null,g.createElement(v,null,t?g.createElement(m.Z,null):g.createElement(_.Z,null)),g.createElement(b,null,P?k("learning_assistant.round_complete_paywall.header",{number:O}):k("test_mode_enhanced.round_complete_paywall.header")),g.createElement(i.ZP,{upperBound:"m"},G()),g.createElement(j,null,k(P?"learning_assistant.round_complete_paywall.description":"test_mode_enhanced.round_complete_paywall.description")),g.createElement(I,{isLearnMode:P},g.createElement(l.wI,{key:"modal-primary-button",onClick:()=>{P?R("learn_round_complete_paywall_primary_action",{isTeacher:t,set_id:C,rounds_completed:O,test_variant:L(),study_session_id:x.getStudySessionId()}):R("test_round_complete_paywall_primary_action",{set_id:C,rounds_completed:O,test_variant:L(),study_session_id:x.getStudySessionId()});var e=P?"learn":"test",s=P?"learn_mode":"test_mode";(0,S.ZP)("/upgrade?source="+s+"&redir="+C+"/"+e)},size:"large",text:k(t?"learning_assistant.round_complete_paywall.cta_teachers":"learning_assistant.round_complete_paywall.cta_students"),variant:d.dN.UPGRADE}),g.createElement(w,null,g.createElement(i.ZP,{lowerBound:"xs"},g.createElement(l.B0,(0,a.Z)({onClick:H,size:"large",text:W},B))),g.createElement(i.ZP,{upperBound:"xs"},g.createElement(l.GV,(0,a.Z)({onClick:H,size:"large",text:W,variant:D?d.vT.SECONDARY:d.vT.SECONDARY_INVERTED},B)))))),g.createElement(i.ZP,{lowerBound:"m"},G()))},s("./.linaria-cache/app/j/study-modes/common/components/RoundCompletePaywall.linaria.css")},"./app/j/study-modes/common/components/SpecialCharacterButtonGroup.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.array.sort.js");var n=s("./node_modules/@linaria/react/lib/index.js"),a=s("./app/j/assembly/buttons/index.ts"),r=s("./app/j/assembly/buttons/types.ts"),o=s("./app/j/i18n/$t.ts"),i=s("./app/j/i18n/localeCompare.ts"),l=s("./node_modules/react/index.js"),d=(0,n.z)("div")({name:"UppercaseSwitch",class:"u1jxe9b2"}),u=(0,n.z)("div")({name:"ButtonBar",class:"b1859v0f"}),c=(0,n.z)("span")({name:"Button",class:"bvhg5y9"});function p(e,t){return(0,i.Z)(e.character,t.character)}function m(e){var t,s,{charactersByLang:n,onClickButton:i}=e,[m,_]=(0,l.useState)(!1),g=()=>{_(!m)};return l.createElement(u,null,(t=[],s=[],Object.keys(n).forEach((e=>{n[e].forEach((n=>{var a=m?n.toUpperCase():n;-1!==t.indexOf(a)||(t.push(a),s.push({character:a,lang:e}))}))})),s.sort(p)).map((e=>{var{character:t,lang:s}=e;return l.createElement(c,{key:t},l.createElement(a.B0,{lang:s,onClick:()=>i(t),text:t}))})),Object.keys(n).some((e=>n[e].some((e=>e!==e.toUpperCase()))))?l.createElement(d,null,l.createElement(a.JZ,{alt:(0,o.Z)("global.icon.uppercase"),icon:"chevron-up-underline",onClick:g,variant:m?r.IQ.SECONDARY:r.IQ.TERTIARY})):null)}s("./.linaria-cache/app/j/study-modes/common/components/SpecialCharacterButtonGroup.linaria.css")},"./app/j/study-modes/common/components/SpecialCharacterInput.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>E});var n=s("./node_modules/@babel/runtime/helpers/esm/extends.js"),a=s("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),r=s("./node_modules/lodash/isEmpty.js"),o=s.n(r),i=(s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/@linaria/react/lib/index.js")),l=s("./app/j/assembly/AssemblyInput.tsx"),d=s("./app/j/components/UIBreakpoint.tsx"),u=s("./app/j/hooks/usePrevious.tsx"),c=s("./node_modules/react/index.js"),p=s("./app/j/study-modes/common/components/SpecialCharacterButtonGroup.tsx"),m=s("./app/j/utils/AccentHelper.ts"),_=["hideSpecialChars","inputRef","languageCodes","onNativeMouseDown","specificAccents"],g=(0,i.z)("div")({name:"Collapsible",class:"cr8mmtp"});function E(e){var{hideSpecialChars:t=!1,inputRef:s,languageCodes:r,specificAccents:i=[]}=e,E=(0,a.Z)(e,_),[h,S]=(0,c.useState)(!t),y=(0,u.Z)(t);(0,c.useLayoutEffect)((()=>{var e;return!1===y&&t?e=setTimeout((()=>S(!1)),500):S(!0),()=>{e&&clearTimeout(e)}}),[t]);var f,v=e=>{var t,n,a=(n=s.current)&&null!==n.selectionStart?n.selectionStart:-1,r=(()=>{var e=s.current;return e&&null!==e.selectionEnd?e.selectionEnd:-1})();if(-1!==r){var o=(null==(t=s.current)?void 0:t.value)||"",i=o.slice(0,a)+e+o.slice(r),l=window.document.createEvent("Event");l.initEvent("input",!0,!0);var d=s.current;if(d){var u,c=Object.getOwnPropertyDescriptor(d.constructor.prototype,"value");null!=c&&c.set?c.set.call(d,i):d.value=i,d.dispatchEvent(l),((e,t)=>{var n=s.current;null==n||n.setSelectionRange(e,t)})(a+e.length,a+e.length),null==(u=s.current)||u.focus()}}};return c.createElement("div",null,c.createElement(d.Z,{above:"s"},(f=(()=>{var e=m.Z.getCharactersByLangForLangs(r);return i.length>0&&r.length>0&&(e[r[0]]=i),e})(),o()(f)?null:c.createElement(g,{className:t?"collapsed":""},h?c.createElement(p.Z,{charactersByLang:f,onClickButton:v}):null))),c.createElement(l.Z,(0,n.Z)({ref:s},E)))}s("./.linaria-cache/app/j/study-modes/common/components/SpecialCharacterInput.linaria.css")},"./app/j/study-modes/common/components/StudyCardLayout.tsx":(e,t,s)=>{"use strict";var n=s("./node_modules/@linaria/react/lib/index.js"),a=s("./app/j/assembly/foundations/Spacing.ts"),r=s("./app/j/study-modes/common/components/BottomBar.tsx");t.Z=(0,n.z)("article")({name:"StudyCardLayout0",class:"s1t6zpc1",vars:{"s1t6zpc1-3":[e=>e.bottomBarShown?r.I:0],"s1t6zpc1-13":[e=>e.isMobileCard?a.wU.Medium:"initial"]}}),s("./.linaria-cache/app/j/study-modes/common/components/StudyCardLayout.linaria.css")},"./app/j/study-modes/common/components/TopRightWrapper.tsx":(e,t,s)=>{"use strict";s.d(t,{T:()=>n});var n=(0,s("./node_modules/@linaria/react/lib/index.js").z)("div")({name:"TopRightWrapper",class:"t1ebba9t"});s("./.linaria-cache/app/j/study-modes/common/components/TopRightWrapper.linaria.css")},"./app/j/study-modes/common/components/TypeTheAnswerField.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>g});s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./node_modules/@linaria/react/lib/index.js"),a=s("./app/j/assembly/buttons/index.ts"),r=s("./app/j/assembly/buttons/types.ts"),o=s("./app/j/config/enums.ts"),i=s("./app/j/i18n/getLocalizedLanguage.ts"),l=s("./app/j/i18n/useTranslation.ts"),d=s("./node_modules/nullthrows/nullthrows.js"),u=s.n(d),c=s("./node_modules/react/index.js"),p=s("./app/j/study-modes/common/components/SpecialCharacterInput.tsx"),m=(0,n.z)("form")({name:"Form",class:"fup90nw"}),_=(0,n.z)("div")({name:"Actions",class:"a151psh7"});function g(e){var{accents:t,actions:s,alwaysShowSpecialChars:n=!1,answerSide:d,autoFocus:g,disableInput:E=!1,focusOptions:h,lang:S,loading:y,logQuestionHintAdvanceQuestion:f,persistLabel:v,shouldShowLang:T,shouldShowSide:A,shouldShowSubmitButton:b=!0,submitButtonText:j}=e,{t:I}=(0,l.Z)(),[w,C]=(0,c.useState)(""),[O,N]=(0,c.useState)(!n),x=(0,c.useRef)(null),D={autoComplete:"off",disabled:E,hideSpecialChars:!n&&O,inputRef:x,label:(()=>{if(T)return I("assistant.written_question.type_the_language_label",{language:(0,i.Z)(S)});if(A){if(d===o.dU_.WORD)return I("assistant.written_question.type_the_term_label");if(d===o.dU_.DEFINITION)return I("assistant.written_question.type_the_definition_label")}return I("assistant.written_question.type_the_answer_label")})(),languageCodes:[S],onChange:e=>{C(e.target.value),s.onChangeInput&&s.onChangeInput(e)},onFocus:()=>{n||N(!1)},onBlur:()=>{n||N(!0)},persistLabel:v,specificAccents:t,spellCheck:!1,value:w},L=e=>{null!=e&&e.preventDefault&&e.preventDefault();var{submitAnswer:t}=s;t&&(t({submittedAnswer:w}),f())},k=Boolean(s.submitAnswer);return(0,c.useEffect)((()=>{var e;g&&(null==(e=x.current)||e.focus(h))}),[g]),c.createElement(m,{name:"form",onSubmit:L},c.createElement(p.Z,D),k?c.createElement(_,null,s.onClickDontKnow?c.createElement(a.GV,{onClick:()=>{var{onClickDontKnow:e}=s;u()(e)(),f()},text:I("assistant.written_question.don_t_know"),variant:r.vT.PRIMARY}):null,b?c.createElement(a.wI,{disabled:y,onClick:e=>{"keyboard"===e.pointerType&&L()},text:null!=j?j:I("assistant.written_question.answer"),type:"submit"}):null):null)}s("./.linaria-cache/app/j/study-modes/common/components/TypeTheAnswerField.linaria.css")},"./app/j/study-modes/common/components/UserAnswerFeedbackLabel.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>f});var n=s("./node_modules/@linaria/react/lib/index.js"),a=s("./app/j/assembly/AssemblyBadge.tsx"),r=s("./app/j/components/PremiumBadge.tsx"),o=s("./app/j/components/PremiumBrandingBadge.tsx"),i=s("./app/j/components/T.tsx"),l=s("./app/j/components/UIButton.tsx"),d=s("./app/j/components/UIDiv.tsx"),u=s("./app/j/components/UIHeading.tsx"),c=s("./app/j/components/UILink.tsx"),p=s("./app/j/components/UIOverlayTrigger.tsx"),m=s("./app/j/components/UIPopover.tsx"),_=s("./app/j/config/enums.ts"),g=s("./app/j/global/Quizlet.ts"),E=s("./app/j/i18n/$t.ts"),h=s("./node_modules/react/index.js"),S=s("./app/j/utils/logSubscriptionEvent.ts"),y=(0,n.z)("section")({name:"SmartGradingLabel",class:"s1vgo8wu"});class f extends h.PureComponent{handleCtaClick(e){(0,S.ZP)({action:_.Mpk.CLICK,cta:e,fullActionName:"smart_grading_upsell_popover_click"}),window.open("/upgrade?source=smart_grading","_blank")}renderSmartGradingPopover(){return h.createElement(m.Z,{extraClassNames:"SmartGradingPopover",includeArrowInBounds:!1},h.createElement(u.Z,{size:5},h.createElement(i.Z,{id:"assistant.feedback.smart_grading_popover_heading"})),h.createElement("div",{className:"SmartGradingPopover-text"},h.createElement(i.Z,{id:"assistant.feedback.smart_grading_popover_text"}),h.createElement(c.Z,{onClick:this.props.handleOpenOptionsModal},h.createElement(i.Z,{id:"assistant.feedback.update_options_link"}))))}renderSmartGradingUpsellBadge(){var e,t;return t=(null==g.Z||null==(e=g.Z.user)?void 0:e.type)===_.XsQ.TEACHER?_.XsQ.TEACHER:_.XsQ.PLUS,h.createElement("div",{className:"SmartGradingPopover-plusBadge"},h.createElement(r.Z,{styleVariant:a.P.Indigo,type:t}))}renderSmartGradingUpsellPopover(){var e,t,s=null!=g.Z&&null!=(e=g.Z.user)&&e._isEligibleForFreeTrial?h.createElement(i.Z,{id:"assistant.feedback.smart_grading_upsell_popover.cta.trial_eligible"}):h.createElement(i.Z,{id:"assistant.feedback.smart_grading_upsell_popover.cta.trial_ineligible"}),n=null!=g.Z&&null!=(t=g.Z.user)&&t._isEligibleForFreeTrial?(0,E.Z)("assistant.feedback.smart_grading_upsell_popover.cta.trial_eligible"):(0,E.Z)("assistant.feedback.smart_grading_upsell_popover.cta.trial_ineligible");return h.createElement(m.Z,{arrow:!1,extraClassNames:"SmartGradingPopover SmartGradingPopover--upsell",includeArrowInBounds:!1,variant:"rounded"},h.createElement(u.Z,{size:5},h.createElement(i.Z,{id:"assistant.feedback.smart_grading_upsell_popover.heading"})),h.createElement("div",{className:"SmartGradingPopover-text"},h.createElement(i.Z,{id:"assistant.feedback.smart_grading_upsell_popover.body"})),h.createElement(l.Z,{"aria-label":n,onClick:()=>this.handleCtaClick(n)},s),this.renderSmartGradingUpsellBadge())}renderYouSaidLabelWithSmartGradingBadge(){return h.createElement(d.Z,{className:"YouSaidLabelWithSmartGrading"},h.createElement(p.Z,{overlay:this.renderSmartGradingPopover(),position:"middle right",triggerAction:"hover"},h.createElement(y,null,(0,E.Z)("assistant.feedback.smart_grading_applied"),h.createElement(o.ZP,{logActionName:"smart_grading_applied_premium_branding_badge_view"}))))}renderYouSaidLabelWithSmartGradingUpsell(){return h.createElement(d.Z,{className:"YouSaidLabelWithSmartGrading"},h.createElement(y,null,(0,E.Z)("assistant.feedback.smart_grading_upsell_popover.cta.trial_eligible"),h.createElement(o.ZP,{logActionName:"try_smart_grading_premium_branding_badge_view"})))}render(){return this.props.shouldShowSmartGradingBadge?this.renderYouSaidLabelWithSmartGradingBadge():this.props.shouldShowSmartGradingUpsell?this.renderYouSaidLabelWithSmartGradingUpsell():null}}s("./.linaria-cache/app/j/study-modes/common/components/UserAnswerFeedbackLabel.linaria.css")},"./app/j/study-modes/common/containers/StudyCardQuestionContainer.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>W});var n=s("./app/j/audio_playback/selectors.ts"),a=s("./app/j/audio_playback/thunks.ts"),r=s("./app/j/core/default_store/DefaultStoreProvider.tsx"),o=s("./app/j/core/legacy_store/LegacyStore.ts"),i=s("./app/j/core/legacy_store/LegacyStoreProvider.tsx"),l=s("./node_modules/react-redux/lib/index.js"),d=s("./node_modules/redux/lib/redux.js"),u=s("./node_modules/reselect/lib/index.js"),c=s("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),p=s("./node_modules/@linaria/core/lib/index.js"),m=s("./node_modules/@linaria/react/lib/index.js"),_=s("./app/j/assembly/buttons/index.ts"),g=s("./app/j/assembly/buttons/types.ts"),E=s("./app/j/audio_playback/utils.ts"),h=s("./app/j/config/enums.ts"),S=s("./app/j/i18n/useTranslation.ts"),y=(s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/es.promise.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),(0,s("./app/j/hocs/lazilyLoadComponent.tsx").Z)((()=>Promise.all([s.e("common"),s.e("flag_studiable_metadata_container_lazy")]).then(s.bind(s,"./app/j/study-modes/learn/containers/FlagStudiableMetadataContainer.tsx"))))),f=s("./app/j/lazy/QuestionHintContainerLazy.ts"),v=s("./node_modules/react/index.js"),T=s("./app/j/study-modes/common/components/QuestionElementView.tsx"),A=s("./app/j/study-modes/common/engine/utils/question-element-utils.ts"),b=s("./app/j/study-modes/common/utils/label-utils.ts"),j=s("./app/j/study-modes/learn/actions/index.ts"),I=s("./app/j/assembly/AssemblyCoachmark.tsx"),w=s("./app/j/context/UserContext.ts"),C=s("./app/j/utils/BreakpointsHelper.ts"),O=s("./app/j/utils/breakpointSwitch.ts");var N=s("./app/j/study-modes/learn/selectors.ts"),x=(0,u.createStructuredSelector)({shouldShowAlternativeQuestionCoachmark:N.CY}),D=(0,d.compose)((0,l.connect)(x,(e=>({actions:(0,d.bindActionCreators)({fireUSPBrazeEvent:j.Do,updateShouldShowAlternativeQuestionCoachmark:j.HB},e)})),null,{context:i.tC}))((function(e){var{actions:{fireUSPBrazeEvent:t,updateShouldShowAlternativeQuestionCoachmark:s},hidden:n,shouldShowAlternativeQuestionCoachmark:a}=e,{t:r}=(0,S.Z)(),o=(0,v.useRef)(null),i=()=>{s(!1)},l=e=>{var t,s=e.target;null!=o&&null!=(t=o.current)&&t.contains(s)||i()};(0,v.useEffect)((()=>(document.addEventListener("click",l),()=>document.removeEventListener("click",l))),[]);var d=(0,v.useContext)(w.Z);d&&a&&t(d);var u=(0,C.Lu)((0,O.b)(),"s")?"bottom":"bottom left",c=r("assistant.label.alternative_question"),p=a&&!n?v.createElement("div",{ref:o},v.createElement(I.Z,{cta:{message:r("assistant.alternative_question.onboarding_coachmark.cta"),onDismiss:i},message:r("assistant.alternative_question.onboarding_coachmark.message"),placement:u,title:r("assistant.alternative_question.onboarding_coachmark.title")},c)):c;return v.createElement("span",null,p)})),L=(0,m.z)("div")({name:"Area",class:"a5hy006"}),k=(0,m.z)("div")({name:"Header",class:"h1ssq2st"}),R=(0,m.z)("div")({name:"HeaderWrapper",class:"hrq2jtf"}),P=(0,m.z)("div")({name:"AudioIconWrapper",class:"ahz8wgl"}),M=(0,m.z)("div")({name:"StarIconWrapper",class:"s1dr47li"}),Z=(0,m.z)("section")({name:"Label",class:"l1chmkuz"});s("./.linaria-cache/app/j/study-modes/common/components/StudyCardQuestion.linaria.css");var U=s("./app/j/study-modes/common/studiable-data/actions.ts"),B=(0,u.createStructuredSelector)({playingAudioId:n.jZ}),W=(0,d.compose)((0,l.connect)(null,(e=>({actions:(0,d.bindActionCreators)({starStudiableItem:U.Dk,unstarStudiableItem:U.lr},e)})),null,{context:i.tC}),(0,l.connect)(B,(e=>({actions:(0,d.bindActionCreators)({stopAndPlayAudio:a.DQ},e)})),o.Q,{context:r.jJ}))((function(e){var t,s,n,{actions:a,hidden:r,isStarred:o=!1,playingAudioId:i,questionElement:l,questionHint:d,questionSource:u,shouldShowAudioIcon:m=!1,shouldShowStarIcon:j=!1,side:I,studiableItemId:w,variant:C=T.f.DEFAULT}=e,{t:O}=(0,S.Z)(),N=null==(t=(0,A.Sg)(l).audio)?void 0:t.url,x=null==u?void 0:u.studiableMetadataType,U=()=>{N&&a.stopAndPlayAudio((0,E.os)(N))},B=function(){var e=(0,c.Z)((function*(){w&&(o?yield a.unstarStudiableItem(w):yield a.starStudiableItem(w,h.cip.FLASHCARDS))}));return function(){return e.apply(this,arguments)}}();return v.createElement(L,{className:(0,p.cx)(C===T.f.LARGE?"lasm49v":null,C===T.f.SMALL?"sb4n5cc":null)},v.createElement(R,null,(n=!!i&&i===N,v.createElement(k,null,(s=(0,b.y)(I),x===h._KG.ALTERNATIVE_QUESTION?v.createElement(Z,null,s," | ",v.createElement(D,{hidden:r})):v.createElement(Z,null,s)),m&&N?v.createElement(P,{onClick:e=>{e.stopPropagation(),e.preventDefault()}},v.createElement(_.JZ,{alt:O("global.icon.audio"),disabled:n,icon:"audio",onClick:U,variant:g.IQ.TERTIARY})):null,!r&&j?v.createElement(M,null,v.createElement(_.JZ,{alt:O("global.icon.star"),icon:o?"star-yellow":"star",onClick:B,variant:g.IQ.TERTIARY})):null)),x?v.createElement(y,{studiableMetadataType:x}):null),v.createElement(T.Z,{onClick:m?void 0:U,questionElement:l,variant:C}),d&&v.createElement(f.Z,{hint:d}))}))},"./app/j/study-modes/common/containers/StudyModesLayoutContainer.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>V});var n=s("./app/j/core/default_store/DefaultStoreProvider.tsx"),a=s("./app/j/core/legacy_store/LegacyStoreProvider.tsx"),r=s("./node_modules/react-redux/lib/index.js"),o=s("./node_modules/redux/lib/redux.js"),i=s("./node_modules/reselect/lib/index.js"),l=s("./node_modules/lodash/noop.js"),d=s.n(l),u=(s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/@linaria/core/lib/index.js")),c=s("./app/j/ads/components/ActionBasedAutoRefreshAd.tsx"),p=s("./app/j/ads/components/Ad.tsx"),m=s("./app/j/ads/context/StudyModeAdsContext.tsx"),_=s("./app/j/components/DeprecatedModeLayout.tsx"),g=s("./app/j/components/ModeLayout.tsx"),E=s("./app/j/config/enums.ts"),h=s("./app/j/context/RequestContext.ts"),S=s("./app/j/context/UserContext.ts"),y=s("./node_modules/react/index.js"),f=s("./app/j/signup/components/AuthPromptModal.tsx"),v=s("./app/j/study-modes/learn/types.ts"),T=s("./app/j/study_path/utils/studyUpsellHelper.ts"),A=s("./app/j/utils/AuBtsExperimentHelper.ts"),b=s("./app/j/utils/onPageHidden.ts"),j=y.memo((function(e){return e.isBrandedContentSet?y.createElement(p.Z,{headingAlignment:"block",id:e.sidebarAdsId}):y.createElement(c.Z,{id:e.sidebarAdsId,lastActionTimestamp:e.lastActionTimestamp})})),I=y.memo((function(e){return y.createElement(p.Z,{headingAlignment:"centerAlign",id:e.footerAdsId})})),w={[E.aKJ.LEARNING_ASSISTANT]:f.VY.LEARN,[E.aKJ.TEST]:f.VY.TEST};s("./.linaria-cache/app/j/study-modes/common/components/StudyModesLayout.linaria.css");var C=s("./app/j/study-modes/common/misc/ab_tests/selectors.ts"),O=s("./app/j/study-modes/common/misc/ads/selectors.ts"),N=s("./app/j/study-modes/common/sessions/actions.ts"),x=s("./app/j/study-modes/common/settings/selectors/index.ts"),D=s("./app/j/study-modes/common/studiable-data/selectors.ts"),L=s("./app/j/core/default_store/DefaultStore.ts"),k=s("./app/j/study-engine/types.ts"),R=s("./app/j/study-modes/common/misc/selectors.ts"),P=s("./app/j/study-modes/learn/actions/index.ts"),M=s("./app/j/study-modes/spell/actions/index.ts"),Z=s("./app/j/study-modes/test/testModeSlice.ts"),U=s("./app/j/study-modes/test/types.ts"),B=s("./app/j/study-modes/write/actions/engine.ts"),W=s("./app/j/study-modes/write/actions/initialization.ts"),H=s("./app/j/study-modes/write/selectors/index.ts"),G=s("./app/j/study-modes/write/types.ts"),Q=()=>(e,t)=>{var{ads:s}=(0,R.n)(t());switch(s.studyMode){case k.lt.LEARN:e((0,P.QP)()),e((0,P.P1)(!1));break;case k.lt.WEB_WRITE:(0,H.Wy)(t()).lastIntermissionView===G.i9.CHECKPOINT?e((0,B.tB)()):e((0,W.jI)());break;case k.lt.SPELL:e((0,M.kG)());break;case k.lt.TEST:(0,L.bh)().dispatch(Z.Nw.setTestModeView(U.d.TEST))}},F=s("./app/j/study-modes/learn/selectors.ts"),q=s("./app/j/study-modes/test/selectors.ts"),z=(0,i.createStructuredSelector)({adsIds:O.SV,currentView:F.R5,isAdModalView:F.KL,isBrandedContentSet:O.nm,isEmbedding:x.QE,lastActionTimestamp:O.Xb,shouldShowAd:x.Cr,shouldBeFullHeight:x.FE,shouldShowNewStudyBreak:O.cS,shouldShowStudyTopNav:C.rU,shouldShowTasksScreen:F.O8,studyableId:D.uf,studyablePath:D.f3,studyModeType:x.ez}),K=(0,i.createStructuredSelector)({isEnrolledInMwebStudyBreakAdTest:q.BX,isTestModeAdView:q.Xy}),V=(0,o.compose)((0,r.connect)(z,(e=>({actions:(0,o.bindActionCreators)({exitSession:N.mc,closeAdModalAndGoToTheNextStep:Q},e)})),null,{context:a.tC}),(0,r.connect)(K,null,null,{context:n.jJ}))((function(e){var{actions:t,currentView:s,shouldShowStudyTopNav:n,studyableId:a,studyablePath:r,studyModeType:o,lastActionTimestamp:i,adsIds:l,isBrandedContentSet:c}=e,p=(0,y.useContext)(S.Z),{countryCode:C}=(0,y.useContext)(h.Z),O=(0,A.bC)(p,C)&&void 0!==w[o],[N,x]=(0,y.useState)(O);(0,y.useEffect)((()=>{if([E.aKJ.FLASHCARDS,E.aKJ.TEST].includes(o))return d();var e=(0,b.Z)((()=>t.exitSession()),!0);return()=>e.remove()}),[o,t]);var D,L=n?g.Z:_.Z;return y.createElement(m.Uw,null,y.createElement("div",{className:(0,u.cx)("StudyModesLayout",s===v.py.TASK_ROUND_CHECKPOINT&&(0,T.OA)(null==p?void 0:p.type)?"r19uqhu7":null,e.isEmbedding?"e12cnd5w":null)},O?y.createElement(f.qT,{additionalLogData:{studiableContainerId:a},barrierType:"escapableWall",escapePath:r,isOpen:N,onClose:()=>{x(!1)},onOpen:()=>{x(!0)},placement:w[o]}):null,y.createElement(L,{adUnit:(D=l.sidebarAdsId,e.shouldShowAd&&D&&!e.shouldShowNewStudyBreak?y.createElement(j,{isBrandedContentSet:c,lastActionTimestamp:i,sidebarAdsId:D}):null),controls:e.modeControls,isEmbedding:e.isEmbedding,isTaskCardScreen:s===v.py.TASK_COMPLETION_CHECKPOINT_PLUS||s===v.py.TASK_SEQUENCE_COMPLETION_CHECKPOINT_PLUS||s===v.py.TASK_SEQUENCE_COMPLETION_CHECKPOINT_NON_PLUS,isTaskRoundCheckpointScreen:s===v.py.TASK_ROUND_CHECKPOINT||s===v.py.TASK_COMPLETION_CHECKPOINT_NON_PLUS,mWebAdUnit:e.shouldShowAd&&l.footerAdsId?(e=>y.createElement(I,{footerAdsId:e}))(l.footerAdsId):null,onCloseAdModal:e.actions.closeAdModalAndGoToTheNextStep,shouldBeFullHeight:e.shouldBeFullHeight,shouldHaveNoPadding:e.shouldShowNewStudyBreak||e.shouldShowTasksScreen,shouldShowNewStudyBreak:e.shouldShowNewStudyBreak,showAdModal:e.shouldShowAd&&(e.isAdModalView||e.isTestModeAdView),studyableId:e.studyableId,studyablePath:e.studyablePath},e.children)))}))},"./app/j/study-modes/common/engine/actions.ts":(e,t,s)=>{"use strict";s.d(t,{MF:()=>n,ox:()=>l,YC:()=>d,vE:()=>u,h5:()=>c,ig:()=>_,xS:()=>g,on:()=>E,DQ:()=>h});var n,a=s("./app/j/config/enums.ts"),r=s("./app/j/study-modes/common/engine/selectors.ts"),o=s("./app/j/study-modes/common/settings/selectors/index.ts"),i=s("./node_modules/typesafe-actions/dist/typesafe-actions.umd.production.js");!function(e){e.SET_STUDY_ENGINE_INSTANCE="STUDY_MODES_COMMON.STUDY_ENGINE.SET_STUDY_ENGINE_INSTANCE",e.SET_GRADED_ANSWER="STUDY_MODES_COMMON.STUDY_ENGINE.SET_GRADED_ANSWER",e.SET_STUDY_STEP_AND_PROGRESS="STUDY_MODES_COMMON.STUDY_ENGINE.SET_STUDY_STEP_AND_PROGRESS",e.ADD_TO_ANSWER_HISTORY="STUDY_MODES_COMMON.STUDY_ENGINE.ADD_TO_ANSWER_HISTORY",e.SET_ANSWER_HISTORY="STUDY_MODES_COMMON.STUDY_ENGINE.SET_ANSWER_HISTORY",e.SET_STUDY_STEP_AND_PROGRESS_FOR_TASKS="STUDY_MODES_COMMON.STUDY_ENGINE.SET_STUDY_STEP_AND_PROGRESS_FOR_TASKS"}(n||(n={}));var l=e=>(0,i.action)(n.SET_STUDY_ENGINE_INSTANCE,e),d=e=>(0,i.action)(n.SET_GRADED_ANSWER,e),u=e=>(0,i.action)(n.ADD_TO_ANSWER_HISTORY,e),c=e=>(0,i.action)(n.SET_ANSWER_HISTORY,e),p=(e,t,s)=>{var a,r=t.getTasksWithProgress(),o=t.getTaskRoundProgress(),l=t.getTaskSequenceProgress(),d=t.getCurrentTaskIndex();e((a={studyStep:s,tasksWithProgress:r,taskRoundProgress:o,taskSequenceProgress:l,currentTaskIndex:d},(0,i.action)(n.SET_STUDY_STEP_AND_PROGRESS_FOR_TASKS,a)))},m=(e,t,s)=>{var a,r=t.getTotalProgress(),o=t.getRoundProgress();e((a={studyStep:s,totalProgress:r,roundProgress:o},(0,i.action)(n.SET_STUDY_STEP_AND_PROGRESS,a)))},_=e=>(t,s)=>{var n=s(),i=(0,r.C1)(n),l=i.generateStudyStep(e);(0,o.ez)(n)===a.aKJ.LEARNING_ASSISTANT?p(t,i,l):m(t,i,l)},g=e=>(t,s)=>{var n=(0,r.C1)(s()).gradeAnswer(e);t(d(n))},E=(e,t)=>(s,n)=>{var a=(0,r.C1)(n()).gradeAnswer(e);t(a.isCorrect)},h=e=>(t,s)=>{(0,r.C1)(s()).setGradingSettings(e)}},"./app/j/study-modes/common/engine/question/document/selectors.ts":(e,t,s)=>{"use strict";s.d(t,{bl:()=>u,P:()=>c,Yt:()=>p});var n=s("./node_modules/nullthrows/nullthrows.js"),a=s.n(n),r=s("./node_modules/reselect/lib/index.js"),o=s("./app/j/study-modes/common/engine/selectors.ts"),i=s("./app/j/study-modes/common/engine/utils/question-element-utils.ts"),l=s("./app/j/study-modes/common/studiable-data/document/selectors.ts"),d=(0,r.createSelector)([o.wG],(e=>{if(!("prompt"in e))throw new Error("No prompt for question type: "+e.type+".");return Boolean((0,i.dC)(e.prompt))})),u=(0,r.createSelector)([o.wG,l.mb],((e,t)=>a()(t.find((t=>t.id===e.metadata.studiableItemId))))),c=(0,r.createSelector)(u,(e=>e.id)),p=e=>!d(e)||(0,l.lb)(e)===(0,l.aW)(e)},"./app/j/study-modes/common/engine/question/selectors.ts":(e,t,s)=>{"use strict";s.d(t,{yy:()=>u,fg:()=>c,Rf:()=>p,$f:()=>m,g3:()=>_,Ko:()=>g,fR:()=>E,Zf:()=>h,RU:()=>S,xb:()=>y,Gi:()=>f,bl:()=>v,P:()=>T,fT:()=>A,VG:()=>b,xP:()=>j,Ae:()=>I,Yt:()=>C});var n=s("./app/j/config/enums.ts"),a=s("./node_modules/nullthrows/nullthrows.js"),r=s.n(a),o=s("./node_modules/reselect/lib/index.js"),i=s("./app/j/study-modes/common/engine/selectors.ts"),l=s("./app/j/study-modes/common/engine/utils/question-element-utils.ts"),d=s("./app/j/study-modes/common/studiable-data/selectors.ts"),u=(0,o.createSelector)(i.wG,(e=>{if(!e.metadata.answerSide)throw new Error("No answerSide for question type: "+e.type+".");return e.metadata.answerSide})),c=(0,o.createSelector)(i.wG,(e=>{if(!e.metadata.promptSide)throw new Error("No promptSide for question type: "+e.type+".");return e.metadata.promptSide})),p=(0,o.createSelector)(i.wG,(e=>e.type)),m=(0,o.createSelector)(i.wG,(e=>e.metadata.questionSource)),_=(0,o.createSelector)(i.wG,(e=>{var t;return null==(t=e.metadata.questionScoringInferenceMetadata)?void 0:t.currentScore})),g=(0,o.createSelector)(i.wG,(e=>{var t;return null==(t=e.metadata.questionScoringInferenceMetadata)?void 0:t.modelName})),E=(0,o.createSelector)(i.wG,(e=>{var t;return null==(t=e.metadata.questionScoringInferenceMetadata)?void 0:t.modelVersion})),h=(0,o.createSelector)(i.wG,(e=>{var t;return null==(t=e.metadata.questionScoringInferenceMetadata)?void 0:t.priorityScore})),S=(0,o.createSelector)(i.wG,(e=>{var t;return null==(t=e.metadata.questionScoringInferenceMetadata)?void 0:t.priorityMethod})),y=(0,o.createSelector)(i.wG,(e=>{if(!("answerLanguageCode"in e))throw new Error("No answerLanguageCode for question type: "+e.type+".");return e.answerLanguageCode})),f=(0,o.createSelector)(d.Uv,u,((e,t)=>{switch(t){case n.dU_.WORD:return e.word;case n.dU_.DEFINITION:return e.definition;default:return[]}})),v=(0,o.createSelector)([i.wG,d.tF],((e,t)=>r()(t.find((t=>t.id===e.metadata.studiableItemId))))),T=(0,o.createSelector)(v,(e=>e.id)),A=(0,o.createSelector)([c,v],((e,t)=>r()(t.cardSides[e]))),b=(0,o.createSelector)([A],(e=>e.id)),j=(0,o.createSelector)([u,v],((e,t)=>r()(t.cardSides[e]))),I=(0,o.createSelector)([j],(e=>e.id)),w=(0,o.createSelector)([i.wG],(e=>{if(!("prompt"in e))throw new Error("No prompt for question type: "+e.type+".");return Boolean((0,l.dC)(e.prompt))})),C=e=>!w(e)||(0,d.lb)(e)===(0,d.aW)(e)},"./app/j/study-modes/common/engine/utils/graded-answer-utils.ts":(e,t,s)=>{"use strict";s.d(t,{Ap:()=>o,ZP:()=>i,EE:()=>l,uL:()=>d,ED:()=>u,Rj:()=>c,e0:()=>p,jn:()=>m,bt:()=>_,T1:()=>g});var n=s("./node_modules/memoize-one/dist/memoize-one.cjs.js"),a=s.n(n),r=s("./app/j/study-engine/types.ts"),o=a()((e=>{var{feedback:{submittedAnswer:t,expectedAnswer:s}}=e;return[t,s].forEach((e=>{if((null==e?void 0:e.type)!==r.xh.STRING_ANSWER)throw new Error("The Graded Answer passed in does not contain String Answers.")})),{submittedAnswerValue:t.value,expectedAnswerValue:s.value}}));function i(e){return!!e}function l(e,t){return t.feedback.expectedAnswer.value===e}function d(e){return!1===(null==e?void 0:e.isCorrect)}function u(e,t){var s;return(null==t||null==(s=t.feedback.submittedAnswer)?void 0:s.value)===e}function c(e,t){var{submittedAnswer:s}=t.feedback;return d(t)&&(null==s?void 0:s.value)===e}function p(e){return!0===(null==e?void 0:e.isCorrect)}function m(e){return null===(null==e?void 0:e.feedback.submittedAnswer)}function _(e){var t;return null!==e&&void 0===(null==(t=e.feedback.submittedAnswer)?void 0:t.value)&&!0===e.isCorrect}function g(e,t){var s;return void 0===(null==t||null==(s=t.feedback.submittedAnswer)?void 0:s.value)&&(null==t?void 0:t.feedback.expectedAnswer.value)===e}},"./app/j/study-modes/common/engine/utils/question-element-utils.ts":(e,t,s)=>{"use strict";s.d(t,{dC:()=>i,j6:()=>l,Wv:()=>d,Im:()=>u,Ux:()=>c,rr:()=>p,gS:()=>m,Sg:()=>_});s("./node_modules/core-js/modules/es.array.reduce.js");var n=s("./node_modules/memoize-one/dist/memoize-one.cjs.js"),a=s.n(n),r=s("./app/j/study-engine/types.ts");function o(e,t){return e.find((e=>e.type===t))}function i(e){var t;return null==(t=o(e.attributes,r.LK.TEXT_ATTRIBUTE))?void 0:t.plainText}function l(e){var t;return null==(t=o(e.attributes,r.LK.TEXT_ATTRIBUTE))?void 0:t.richText}function d(e){var t;return null==(t=o(e.attributes,r.LK.TEXT_ATTRIBUTE))?void 0:t.languageCode}function u(e){var t;return null==(t=o(e.attributes,r.LK.IMAGE_ATTRIBUTE))?void 0:t.url}function c(e,t){var s,n,a;return(null!=(s=null==(n=o(e.attributes,r.LK.TEXT_ATTRIBUTE))||null==(a=n.plainText)?void 0:a.length)?s:0)>t}function p(e){return(t=e.attributes,s=r.LK.TEXT_ATTRIBUTE,t.filter((e=>e.type===s))).length>0;var t,s}function m(e){var t;return null==(t=o(e.attributes,r.LK.LOCATION_ATTRIBUTE))?void 0:t.shape}var _=a()((e=>e.attributes.reduce(((e,t)=>{switch(t.type){case r.LK.AUDIO_ATTRIBUTE:e.audio=t;break;case r.LK.IMAGE_ATTRIBUTE:e.image=t;break;case r.LK.LOCATION_ATTRIBUTE:e.location=t;break;case r.LK.TEXT_ATTRIBUTE:e.text=t;break;default:!function(e){throw new Error("Unsupported Media Attribute: "+e+".")}(t)}return e}),{})))},"./app/j/study-modes/common/grading/actions.ts":(e,t,s)=>{"use strict";s.d(t,{MF:()=>n,sy:()=>d,yd:()=>u,cd:()=>c,Iu:()=>p});var n,a=s("./app/j/config/enums.ts"),r=s("./app/j/study-modes/common/engine/utils/question-element-utils.ts"),o=s("./app/j/study-modes/common/logging/actions.ts"),i=s("./app/j/study-modes/common/utils/studiablesToTermUtils.ts"),l=s("./node_modules/typesafe-actions/dist/typesafe-actions.umd.production.js");!function(e){e.OVERRIDE_CORRECTNESS_CLICK="GRADING.OVERRIDE_CORRECTNESS_CLICK",e.SET_ANSWER_GRADED_BY_LONGTEXT_GRADING_SERVICE="GRADING.SET_ANSWER_GRADED_BY_LONGTEXT_GRADING_SERVICE",e.SET_IS_GRADING="GRADING.SET_IS_GRADING"}(n||(n={}));var d=e=>(0,l.action)(n.SET_ANSWER_GRADED_BY_LONGTEXT_GRADING_SERVICE,e),u=e=>(0,l.action)(n.SET_IS_GRADING,e),c=()=>(0,l.action)(n.OVERRIDE_CORRECTNESS_CLICK),p=e=>{var{currentQuestion:t,submittedAnswerValue:s,expectedAnswerValue:n,gradingResult:l}=e;return e=>{e((0,o.$N)(a.AuQ.GRADE_TEXT,{cnn_score:l.cnn_score,displayed_grade:l.grade===a.lcN.CORRECT?a.lcN.CORRECT:a.lcN.WRONG,expected_answer_side:(0,i.Q)(t.metadata.answerSide),expected_answer_text:n,grade:l.grade,missing_text:l.missing,model_name:l.model,prompt_text:(0,r.dC)(t.prompt),request_successful:!0,score:l.score,submitted_answer_text:s}))}}},"./app/j/study-modes/common/grading/constants.ts":(e,t,s)=>{"use strict";s.d(t,{rs:()=>n,w$:()=>a,Un:()=>r});var n="user_enabled_smart_grading",a="user_disabled_smart_grading",r=1e3},"./app/j/study-modes/common/grading/grader/longtextGradingClient.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var n=s("./app/j/global/Rollbar.ts"),a=s("./app/j/study-modes/common/grading/constants.ts"),r=s("./app/j/utils/FetchWith.ts");function o(e,t){return(0,r.cZ)("/webapi/3.4/grading/grade-longtext-answer",{expectedAnswer:e,submittedAnswer:t},a.Un).then((e=>e)).catch((e=>(n.Z.warning("Error hitting longtext grading service: "+e),null)))}},"./app/j/study-modes/common/grading/utils/getIsAnswerEligibleForLongtextGrading.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.string.split.js");var n=s("./app/j/config/enums.ts");function a(e,t,s){return e.split(" ").length>=3&&t.split(" ").length>=3&&s===n.spR.ENGLISH}},"./app/j/study-modes/common/index.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>me});var n=s("./app/j/core/legacy_store/LegacyStore.ts"),a=s("./node_modules/redux/lib/redux.js"),r=s("./node_modules/immer/dist/immer.cjs.production.min.js"),o=s("./app/j/study-modes/common/engine/actions.ts"),i=s("./node_modules/typesafe-actions/dist/typesafe-actions.umd.production.js");var l=(e,t)=>(0,r.default)(e,(e=>{e.instance=t.payload})),d=(e,t)=>(0,r.default)(e,(e=>{e.gradedAnswer=t.payload})),u=(e,t)=>(0,r.default)(e,(e=>{if(null===e.answerHistory)throw new Error("You must set the answer history before adding to it.");e.answerHistory=e.answerHistory.concat(t.payload)})),c=(e,t)=>(0,r.default)(e,(e=>{e.answerHistory=t.payload})),p=(e,t)=>(0,r.default)(e,(e=>{var{roundProgress:s,studyStep:n,totalProgress:a}=t.payload;e.studyStep=n,e.totalProgress=a,e.roundProgress=s})),m=(e,t)=>(0,r.default)(e,(e=>{var{studyStep:s,tasksWithProgress:n,taskRoundProgress:a,taskSequenceProgress:r,currentTaskIndex:o}=t.payload;e.studyStep=s,e.tasksWithProgress=n,e.taskRoundProgress=a,e.taskSequenceProgress=r,e.currentTaskIndex=o}));var _=s("./app/j/study-modes/common/grading/actions.ts");var g=(e,t)=>(0,r.produce)(e,(e=>{e.answerGradedByLongtextGradingService=t.payload})),E=(e,t)=>(0,r.produce)(e,(e=>{e.isGrading=t.payload})),h=e=>(0,r.produce)(e,(t=>{t.overrideCorrectnessCounter=e.overrideCorrectnessCounter+1}));function S(e){var t={[_.MF.SET_ANSWER_GRADED_BY_LONGTEXT_GRADING_SERVICE]:g,[_.MF.SET_IS_GRADING]:E,[_.MF.OVERRIDE_CORRECTNESS_CLICK]:h};return(0,i.createReducer)(function(e){return{answerGradedByLongtextGradingService:!1,isEligibleForSmartGrading:e.isEligibleForSmartGrading,isGrading:!1,overrideCorrectnessCounter:0,shouldShowSmartGradingUpsell:e.shouldShowSmartGradingUpsell}}(e),t)}var y=s("./app/j/config/enums.ts"),f=s("./app/j/global/Quizlet.ts"),v=(s("./node_modules/core-js/modules/es.object.assign.js"),s("./app/j/global/Rollbar.ts")),T=s("./app/j/utils/log-event.ts"),A=s("./app/j/utils/unix-timestamp.ts");class b{assemblePayload(e){return Object.assign({person_id:f.Z.user?f.Z.user.id:f.Z.uid,client_id:"web",platform:y.t4T.WEB,client_timestamp:(0,A.vJ)()},e)}logMLFeedbackEvent(e){var{studySessionId:t,questionSessionId:s,mlFeature:n,studiableContainerId:a,studiableItemId:r,feedbackQuestionType:o,feedbackQuestion:i,feedbackAnswer:l,metadata:d}=e,u={study_session_id:t,question_session_id:s,ml_feature:n,ml_inference_id:null,studiable_container_id:a,studiable_item_id:r,feedback_question_type:o,feedback_question:i,flagging_answer:null,upvotes_answer:null,contribution_answer:null,metadata:d};switch(o){case y.ary.FLAGGING:"string"==typeof l&&(u.flagging_answer=String(l));break;case y.ary.UPVOTES:"boolean"==typeof l&&(u.upvotes_answer=Boolean(l));break;case y.ary.CONTRIBUTION:"string"==typeof l&&(u.contribution_answer=String(l));break;default:return void v.Z.error("Unexpected MLFeedbackType "+i)}var c=this.assemblePayload(u);(0,T.Z)("ml_feedback_events",c)}}var j=s("./app/j/utils/StudyEventLogger.ts");function I(e){return(0,i.createReducer)(function(e){var t,s=new j.Z({modeType:e.studyModeType,selectedOnly:e.selectedOnly,studyableId:e.studyable.id,studyableType:e.studyableType,embedType:e.isEmbedding?y.b_7.EXTERNAL:null,funnelUUID:e.funnelUUID,userId:null==f.Z||null==(t=f.Z.user)?void 0:t.id,uid:null==f.Z?void 0:f.Z.uid});return{mlFeedbackLogger:new b,studyEventLogger:s,questionEventLogger:s.getQuestionEventLogger()}}(e),{})}var w=s("./app/j/study-modes/common/metering/actions.ts");var C=(e,t)=>(0,r.produce)(e,(e=>{e.meteringData=t.payload}));function O(e){var t={[w.MF.SET_METERING_DATA]:C};return(0,i.createReducer)(function(e){var t;return{meteringData:null!=(t=e.meteringData)?t:{}}}(e),t)}function N(e){return(0,i.createReducer)(function(e){return{shouldShowStudyTopNav:e.shouldShowStudyTopNav,shouldInterleaveQuestions:e.shouldInterleaveQuestions,shouldShowUnderstandingTask:e.shouldShowUnderstandingTask}}(e),{})}var x=s("./app/j/study-modes/cards/actions/constants.ts"),D=s("./app/j/study-modes/common/misc/ads/actions.ts"),L=s("./app/j/utils/tamperProofNow.ts");var k=(e,t)=>(0,r.default)(e,(e=>{e.lastActionTimestamp=(0,L.Z)()})),R=(e,t)=>(0,r.default)(e,(e=>{e.shouldShowNewStudyBreak=t.payload})),P=(e,t)=>(0,r.default)(e,(e=>{e.areBidsReturned=t.payload})),M=(e,t)=>(0,r.default)(e,(e=>{e.isPrefetched=t.payload})),Z=(e,t)=>(0,r.default)(e,(e=>{e.isFlashcardAdViewable=t.payload}));function U(e){var t={[o.MF.SET_STUDY_STEP_AND_PROGRESS]:k,[x.M.NEXT_CARD]:k,[x.M.PREVIOUS_CARD]:k,[x.M.FLIP_CARD_SIDE]:k,[x.M.RESET_CARDS]:k,[D.MF.SET_SHOW_NEW_STUDY_BREAK]:R,[D.MF.SET_BIDS_ARE_RETURNED]:P,[D.MF.SET_IS_PREFETCHED]:M,[D.MF.SET_FLASHCARD_AD_VIEWABILITY]:Z};return(0,i.createReducer)(function(e){var t;return{areBidsReturned:!1,isBrandedContentSet:null!=(t=null==e?void 0:e.isBCSEnabled)&&t,isFlashcardAdViewable:!1,lastActionTimestamp:null,adsIds:e.adsIds,prefetchInStudyModeVariant:e.prefetchInStudyModeVariant,shouldShowNewStudyBreak:!1,studyMode:e.studyMode,isPrefetched:!1}}(e),t)}function B(e){return(0,a.combineReducers)({ads:U(e),abTests:N(e)})}var W=s("./app/j/study-modes/common/sessions/actions.ts");var H=(e,t)=>(0,r.default)(e,(e=>{e.sessionLuid=t.payload})),G=(e,t)=>(0,r.default)(e,(e=>{t.payload.isStarredOnly?e.initialSessions.starred=t.payload.session:e.initialSessions.unstarred=t.payload.session}));function Q(e){var t={[W.MF.SET_SESSION_LUID]:H,[W.MF.SET_INITIAL_SESSIONS_LUID]:G};return(0,i.createReducer)(function(e){return{initialSessions:e.sessions,personId:e.personId,sessionLuid:null}}(e),t)}var F=s("./app/j/study-modes/common/settings/actions.ts"),q=s("./app/j/utils/isCookieSupportEnabled.ts");function z(e){var t,s,n;return{acceptsPartialAnswer:e.acceptsPartialAnswer,advancedAudioSettings:e.advancedAudioSettings,answerWith:e.answerWithSetting,guidanceDisabled:null!=(t=e.guidanceDisabled)&&t,isAudioOn:e.audioEnabledSetting,locationQuestionTypes:e.locationQuestionTypes,promptWith:e.promptWithSetting,questionTypes:e.questionTypesSetting,smartGrading:e.smartGradingSetting||null===e.smartGradingSetting,sortingOn:null!=(s=e.sortingOn)&&s,studyPath:void 0===e.studyPathSetting?null:e.studyPathSetting,studyPathGoal:void 0===e.studyPathGoalSetting?null:e.studyPathGoalSetting,studyPathKnowledgeLevel:void 0===e.studyPathKnowledgeLevelSetting?null:e.studyPathKnowledgeLevelSetting,studyStarredOnly:null!=(n=e.selectedOnly)&&n,typoHelpGradingSetting:e.typoHelpGradingSetting||null===e.typoHelpGradingSetting,writtenTypes:e.writtenTypesSetting}}function K(e){var t;return{adModalShownAt:(0,L.Z)(),adModalTimesShown:0,canEditRichText:e.canEditRichText,hasNonImageOnlyDefinitions:e.hasNonImageOnlyDefinitions,hiddenSettings:null!=(t=e.hiddenSettings)?t:[],isCookieSupportEnabled:(0,q.Z)(),isEmbedding:e.isEmbedding,isOptionsModalOpen:!1,modePath:e.modePath,personId:e.personId,shouldShowAd:e.shouldShowAd,starredModePath:e.starredModePath,startTimestamp:e.userStudyable.startTimestamp,studyModeType:e.studyModeType,userStudyable:e.userStudyable}}var V=(e,t)=>(0,r.default)(e,(e=>{e.display=t.payload.display,e.preferences=t.payload.preferences})),Y=(e,t)=>(0,r.default)(e,(e=>{e.preferences=t.payload})),X=(e,t)=>(0,r.default)(e,(e=>{e.display.isOptionsModalOpen=t.payload})),J=(e,t)=>(0,r.default)(e,(e=>{e.preferences.acceptsPartialAnswer=t.payload})),$=(e,t)=>(0,r.default)(e,(e=>{e.preferences.typoHelpGradingSetting=t.payload})),ee=(e,t)=>(0,r.default)(e,(e=>{e.display.userStudyable.startTimestamp=t.payload,e.display.startTimestamp=t.payload})),te=(e,t)=>(0,r.default)(e,(e=>{e.display.adModalShownAt=t.payload.adModalShownAt,e.display.adModalTimesShown=t.payload.adModalTimesShown}));function se(e){var t={[F.aI.CHANGE_PREFERENCE]:Y,[F.aI.RESTART_USER_STUDYABLE]:ee,[F.aI.SET_IS_OPTIONS_MODAL_OPEN]:X,[F.aI.SETUP_SETTINGS]:V,[F.aI.UPDATE_ACCEPTS_PARTIAL_ANSWER]:J,[F.aI.UPDATE_TYPO_HELP_SETTING]:$,[F.aI.UPDATE_AD_MODAL_STATE]:te};return(0,i.createReducer)(function(e){return{display:K(e),preferences:z(e)}}(e),t)}var ne=s("./node_modules/lodash/keyBy.js"),ae=s.n(ne),re=(s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./app/j/study-engine/utils.ts")),oe=s("./app/j/study-modes/common/studiable-data/actions.ts");var ie=(e,t)=>{var{payload:s}=t;return(0,r.default)(e,(e=>{e.starredStudiableItemIds.add(s)}))},le=(e,t)=>{var{payload:s}=t;return(0,r.default)(e,(e=>{e.selectedTerms[s.termId]=s}))},de=(e,t)=>{var{payload:s}=t;return(0,r.default)(e,(e=>{e.starredStudiableItemIds.delete(s)}))},ue=(e,t)=>{var{payload:s}=t;return(0,r.default)(e,(e=>{delete e.selectedTerms[s]}))},ce=(e,t)=>{var{payload:s}=t;return(0,r.default)(e,(t=>{var n=e.studiableItems.findIndex((e=>e.id===s.id));-1!==n&&(delete t.studiableItems[n],t.studiableItems[n]=s)}))};function pe(e){var t={[oe.MF.ADD_STARRED_STUDIABLE_ITEM_ID]:ie,[oe.MF.ADD_STARRED_STUDIABLE_ITEM_ID_SUCCESS]:le,[oe.MF.REMOVE_STARRED_STUDIABLE_ITEM_ID]:de,[oe.MF.REMOVE_STARRED_STUDIABLE_ITEM_ID_SUCCESS]:ue,[oe.MF.REPLACE_STUDIABLE_ITEM]:ce};return(0,i.createReducer)(function(e){var t=null!==e.studiableDocumentData&&void 0!==e.studiableDocumentData?e.studiableDocumentData:e.studiableData,s={accents:e.studiableAccents,diagramImages:e.images,diagramImageRefs:e.imageRefs,editableStudiableItemIds:new Set(e.editableStudiableItemIds),selectedTerms:ae()(e.selectedTerms,(e=>{var{termId:t}=e;return t})),starredStudiableItemIds:new Set(e.selectedTerms.map((e=>(0,re.zn)(e.termId)))),studiableContainer:e.studyable,studiableContainerType:e.studyableType,crossModeResetTimestamp:e.crossModeResetTimestamp,progressBucketName:e.progressBucketName,studySummaries:e.studySummaries};return Object.assign({},t,s)}(e),t)}function me(e){var t;n.Z.registerReducer("studyModesCommon",(0,a.combineReducers)({logging:I(e),sessions:Q(e),settings:se(e),studiableData:pe(e),studyEngine:(t={[o.MF.SET_STUDY_ENGINE_INSTANCE]:l,[o.MF.SET_GRADED_ANSWER]:d,[o.MF.SET_STUDY_STEP_AND_PROGRESS]:p,[o.MF.ADD_TO_ANSWER_HISTORY]:u,[o.MF.SET_ANSWER_HISTORY]:c,[o.MF.SET_STUDY_STEP_AND_PROGRESS_FOR_TASKS]:m},(0,i.createReducer)({instance:null,gradedAnswer:null,studyStep:null,totalProgress:null,roundProgress:null,answerHistory:null,taskRoundProgress:null,tasksWithProgress:null,taskSequenceProgress:null,currentTaskIndex:null},t)),misc:B(e),grading:S(e),metering:O(e)}))}},"./app/j/study-modes/common/logging/actions.ts":(e,t,s)=>{"use strict";s.d(t,{dc:()=>m,lV:()=>_,zD:()=>g,Ol:()=>E,pJ:()=>h,F:()=>S,D5:()=>y,$N:()=>f,d9:()=>v});s("./node_modules/core-js/modules/es.object.assign.js");var n=s("./app/j/compatibility/logger/getLoggerConfig.ts"),a=s("./app/j/config/enums.ts"),r=s("./app/j/global/Quizlet.ts"),o=s("./app/j/study-modes/common/engine/question/document/selectors.ts"),i=s("./app/j/study-modes/common/logging/selectors.ts"),l=s("./app/j/study-modes/common/settings/selectors/index.ts"),d=s("./app/j/study-modes/common/studiable-data/selectors.ts"),u=s("./app/j/study-modes/learn/utils/index.ts"),c=s("./app/j/utils/logNavigationEvent.ts"),p=s("./app/j/utils/StudyPageVisibilityTracker.ts"),m=e=>{var{mlFeature:t,feedbackQuestion:s,feedbackQuestionType:n,feedbackAnswer:a,metadata:r}=e;return(e,l)=>{var u=l(),c=(0,d.uf)(u),p=(0,o.P)(u),m=(0,i.q0)(u),_=(0,i.Fy)(u).getQuestionSessionId(),g=(0,i.Hx)(u),E={studySessionId:m,questionSessionId:_,mlFeature:t,studiableContainerId:c,studiableItemId:p,feedbackQuestionType:n,feedbackQuestion:s,feedbackAnswer:a,metadata:r};g.logMLFeedbackEvent(E)}},_=(e,t)=>(s,n)=>{var a=n();(0,i.Fy)(a).logQuestionEvent(e,Object.assign({},(0,i.EJ)(a),t))},g=(e,t)=>(s,n)=>{var a=n();(0,i.Fy)(a).logQuestionEvent(e,Object.assign({},(0,i.cs)(a),t))},E=e=>{var{action:t,questionHint:s}=e;return(e,n)=>{var a=n(),r=(0,i.Fy)(a).getQuestionSessionId();(0,u.cR)({action:t,questionSessionId:r,questionHint:s})}},h=(e,t,s)=>(n,a)=>{var r=a(),o=(0,i.Lx)(r),d=(0,l.zg)(r);o.logStudyEvent(e,t,Object.assign({},s,{selectedOnly:d}))},S=e=>{var{action:t=a.$w5.CLICK,additionalInfo:s,clickCategory:n=a.Qje.BROWSE,clickName:o,screenName:i=r.Z.actionString}=e;return e=>{(0,c.Z)(i,n,o,s,t)}},y=(e,t)=>(s,n)=>{var a=n();(0,i.o2)(a).logMultipleChoiceOptionEvent(e,t)},f=(e,t)=>(s,n)=>{var a=n();(0,i.Uw)(a).logTextGradingEvent(e,t)},v=()=>(e,t)=>{var s=t(),a=(0,i.Lx)(s);new p.Z((function(e,t){void 0===t&&(t={}),a.logStudyEvent(e,{loggerConfig:(0,n.c)()},t)}))}},"./app/j/study-modes/common/logging/selectors.ts":(e,t,s)=>{"use strict";s.d(t,{Fy:()=>_,XU:()=>g,Lx:()=>E,Hx:()=>h,q0:()=>S,o2:()=>y,Uw:()=>f,Qp:()=>v,Gp:()=>b,EJ:()=>j,cs:()=>I});s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.json.stringify.js");var n=s("./app/j/config/enums.ts"),a=s("./app/j/legacyAssistant/types/QAssistantModeTypes.ts"),r=s("./node_modules/nullthrows/nullthrows.js"),o=s.n(r),i=s("./node_modules/reselect/lib/index.js"),l=s("./app/j/study-engine/types.ts"),d=s("./app/j/study-modes/common/engine/question/document/selectors.ts"),u=s("./app/j/study-modes/common/engine/question/selectors.ts"),c=s("./app/j/study-modes/common/selectors.ts"),p=s("./app/j/study-modes/common/utils/studiablesToTermUtils.ts"),m=(0,i.createSelector)(c.p,(e=>e.logging)),_=(0,i.createSelector)(m,(e=>e.questionEventLogger)),g=(0,i.createSelector)(_,(e=>e.getQuestionSessionId())),E=(0,i.createSelector)(m,(e=>e.studyEventLogger)),h=(0,i.createSelector)(m,(e=>e.mlFeedbackLogger)),S=(0,i.createSelector)(m,(e=>e.studyEventLogger.getStudySessionId())),y=(0,i.createSelector)(_,(e=>e.getMultipleChoiceOptionLogger())),f=(0,i.createSelector)(_,(e=>e.getTextGradingEventLogger())),v=(0,i.createSelector)(E,(e=>e.logStudyEvent)),T=e=>{switch(e){case l.mw.WRITTEN_QUESTION:return n.oK4.TYPING;case l.mw.SEPARATED_OPTION_MATCHING_QUESTION:return n.oK4.MATCH;case l.mw.MULTIPLE_CHOICE_QUESTION:return n.oK4.MULTIPLE_CHOICE;case l.mw.REVEAL_SELF_ASSESSMENT_QUESTION:return n.oK4.SELF_ASSESSMENT;case l.mw.SPELLING_QUESTION:case l.mw.FILL_IN_THE_BLANK_QUESTION:return n.oK4.TYPING;default:return null}},A=e=>{switch(e){case l.mw.WRITTEN_QUESTION:return(0,a.Q)().written;case l.mw.SEPARATED_OPTION_MATCHING_QUESTION:return(0,a.Q)().matching;case l.mw.MULTIPLE_CHOICE_QUESTION:return(0,a.Q)().multipleChoice;case l.mw.TRUE_FALSE_QUESTION:return(0,a.Q)().trueFalse;case l.mw.REVEAL_SELF_ASSESSMENT_QUESTION:return(0,a.Q)().revealSelfAssessment;case l.mw.SPELLING_QUESTION:return(0,a.Q)().spelling;case l.mw.MIXED_OPTION_MATCHING_QUESTION:return(0,a.Q)().mixedOptionMatching;case l.mw.FILL_IN_THE_BLANK_QUESTION:return(0,a.Q)().fillInTheBlank;default:return null}},b=(e,t,s,a,r,i,l,d,u,c)=>Object.assign({promptTermId:(0,p.K)(s),prompt_side:(0,p.Q)(o()(t)),answer_side:(0,p.Q)(o()(e)),answer_type:o()(T(a)),participation:n.qhD.INDIVIDUAL,question_type:A(a),question_score:i,question_scoring_model:l,question_scoring_model_version:d,priority_score:u,priority_method:c},null!==r&&{question_source:JSON.stringify(r)}),j=(0,i.createSelector)([u.yy,u.fg,u.P,u.Rf,u.$f,u.g3,u.Ko,u.fR,u.Zf,u.RU],b),I=(0,i.createSelector)([u.yy,u.fg,d.P,u.Rf,u.$f,u.g3,u.Ko,u.fR,u.Zf,u.RU],b)},"./app/j/study-modes/common/metering/actions.ts":(e,t,s)=>{"use strict";s.d(t,{MF:()=>n,zo:()=>u,EF:()=>c});var n,a=s("./app/j/config/enums.ts"),r=s("./app/j/study-modes/common/metering/selectors.ts"),o=s("./app/j/study-modes/common/metering/utils.ts"),i=s("./app/j/study-modes/common/studiable-data/selectors.ts"),l=s("./node_modules/typesafe-actions/dist/typesafe-actions.umd.production.js");!function(e){e.SET_METERING_DATA="METERING.SET_METERING_DATA"}(n||(n={}));var d=e=>(0,l.action)(n.SET_METERING_DATA,e),u=e=>(t,s)=>{t(d(e));var n=(0,i.uf)(s()),l=(0,r.UQ)(s());l&&(0,o.$)(a.jrE.TEST_SUBMISSION,n,l.numEvents)},c=e=>(t,s)=>{t(d(e));var n=(0,i.uf)(s()),l=(0,r.hh)(s());l&&(0,o.$)(a.jrE.LEARN_CHECKPOINT,n,l.numEvents)}},"./app/j/study-modes/common/metering/selectors.ts":(e,t,s)=>{"use strict";s.d(t,{aN:()=>c,hh:()=>p,UQ:()=>m,d$:()=>_,jM:()=>g,Br:()=>E,VO:()=>h,qR:()=>S,iU:()=>y,Mb:()=>f,Pi:()=>v});var n=s("./app/j/ab_tests/QMeasure.ts"),a=s("./app/j/config/enums.ts"),r=s("./app/j/global/Quizlet.ts"),o=s("./node_modules/reselect/lib/index.js"),i=s("./app/j/study-modes/common/metering/utils.ts"),l=s("./app/j/study-modes/common/selectors.ts"),d=s("./app/j/utils/AuBtsExperimentHelper.ts"),u=(0,o.createSelector)(l.p,(e=>e.metering)),c=(0,o.createSelector)(u,(e=>{var t;return null!=(t=e.meteringData)?t:{}})),p=(0,o.createSelector)(c,(e=>{var t;return(0,d.z)(r.Z.countryCode,n.Z,r.Z.user)&&null!=(t=e[a.jrE.LEARN_CHECKPOINT])?t:null})),m=(0,o.createSelector)(c,(e=>{var t;return(0,d.z)(r.Z.countryCode,n.Z,r.Z.user)&&null!=(t=e[a.jrE.TEST_SUBMISSION])?t:null})),_=(0,o.createSelector)(p,(e=>{var t=(0,d.z)(r.Z.countryCode,n.Z,r.Z.user),s=r.Z.user&&r.Z.user.type!==a.XsQ.NO_UPGRADE;if((0,d.ZA)(e,s,r.Z.countryCode,t))return s?"upgrade-plus-badge":"lock"})),g=(0,o.createSelector)(p,(e=>(0,i.X)(e))),E=(0,o.createSelector)(m,(e=>(0,i.X)(e))),h=(0,o.createSelector)(p,(e=>{if(!e)return null;var{numEvents:t,threshold:s}=e;return s-t})),S=(0,o.createSelector)(h,(e=>null===e?null:e>0)),y=(0,o.createSelector)(p,(e=>{if(!e)return null;var{threshold:t}=e;return t})),f=(0,o.createSelector)(m,(e=>{if(!e)return null;var{numEvents:t,threshold:s}=e;return s-t})),v=(0,o.createSelector)(p,(e=>{if(!e)return null;var{numEvents:t}=e;return t}))},"./app/j/study-modes/common/metering/utils.ts":(e,t,s)=>{"use strict";s.d(t,{X:()=>r,$:()=>o});var n=s("./app/j/compatibility/fetch.ts"),a=s("./app/j/global/Rollbar.ts"),r=e=>!!e&&e.numEvents>=e.threshold,o=(e,t,s)=>{var r={eventType:e,resourceId:t};return void 0!==s&&(r.eventCount=s),(0,n.cZ)("/webapi/3.4/metering/event",{body:r}).catch((e=>{a.Z.error("Failed to update metering event",e)}))}},"./app/j/study-modes/common/misc/ab_tests/selectors.ts":(e,t,s)=>{"use strict";s.d(t,{rU:()=>o,jm:()=>i,f:()=>l});var n=s("./node_modules/reselect/lib/index.js"),a=s("./app/j/study-modes/common/misc/selectors.ts"),r=(0,n.createSelector)(a.n,(e=>e.abTests)),o=(0,n.createSelector)(r,(e=>e.shouldShowStudyTopNav)),i=(0,n.createSelector)(r,(e=>{var t;return null!=(t=e.shouldInterleaveQuestions)&&t})),l=(0,n.createSelector)(r,(e=>{var t;return null!=(t=e.shouldShowUnderstandingTask)&&t}))},"./app/j/study-modes/common/misc/ads/actions.ts":(e,t,s)=>{"use strict";s.d(t,{MF:()=>n,lM:()=>r,yf:()=>o,Iy:()=>i,dP:()=>l});var n,a=s("./node_modules/typesafe-actions/dist/typesafe-actions.umd.production.js");!function(e){e.SET_SHOW_NEW_STUDY_BREAK="SET_SHOW_NEW_STUDY_BREAK",e.SET_BIDS_ARE_RETURNED="SET_BIDS_ARE_RETURNED",e.SET_IS_PREFETCHED="SET_IS_PREFETCHED",e.SET_FLASHCARD_AD_VIEWABILITY="SET_FLASHCARD_AD_VIEWABILITY"}(n||(n={}));var r=e=>(0,a.action)(n.SET_SHOW_NEW_STUDY_BREAK,e),o=()=>(0,a.action)(n.SET_SHOW_NEW_STUDY_BREAK,!1),i=e=>(0,a.action)(n.SET_IS_PREFETCHED,e),l=e=>(0,a.action)(n.SET_FLASHCARD_AD_VIEWABILITY,e)},"./app/j/study-modes/common/misc/ads/selectors.ts":(e,t,s)=>{"use strict";s.d(t,{Xb:()=>l,SV:()=>d,nm:()=>u,dx:()=>c,cS:()=>p,mt:()=>m});var n=s("./node_modules/nullthrows/nullthrows.js"),a=s.n(n),r=s("./node_modules/reselect/lib/index.js"),o=s("./app/j/study-modes/common/misc/selectors.ts"),i=(0,r.createSelector)(o.n,(e=>e.ads)),l=(0,r.createSelector)(i,(e=>e.lastActionTimestamp)),d=(0,r.createSelector)(i,(e=>a()(e.adsIds,"Please include ad units for your study modes in entry.ts file"))),u=(0,r.createSelector)(i,(e=>e.isBrandedContentSet)),c=(0,r.createSelector)(i,(e=>e.prefetchInStudyModeVariant)),p=(0,r.createSelector)(i,(e=>e.shouldShowNewStudyBreak)),m=((0,r.createSelector)(i,(e=>e.areBidsReturned)),(0,r.createSelector)(i,(e=>e.isPrefetched)),(0,r.createSelector)(i,(e=>e.isFlashcardAdViewable)))},"./app/j/study-modes/common/misc/selectors.ts":(e,t,s)=>{"use strict";s.d(t,{n:()=>r});var n=s("./node_modules/reselect/lib/index.js"),a=s("./app/j/study-modes/common/selectors.ts"),r=(0,n.createSelector)(a.p,(e=>e.misc))},"./app/j/study-modes/common/options/types.ts":(e,t,s)=>{"use strict";var n;s.d(t,{$:()=>n}),function(e){e.AUDIO="audio",e.MULTIPLE_ANSWERS="multipleAnswers",e.SORTING_ON="sortingOn",e.STARRED_ONLY="starredOnly",e.TYPO_HELP="typoHelp"}(n||(n={}))},"./app/j/study-modes/common/sessions/actions.ts":(e,t,s)=>{"use strict";s.d(t,{MF:()=>n,K_:()=>E,Ch:()=>S,kf:()=>y,KN:()=>f,T_:()=>v,TS:()=>T,ZN:()=>A,mc:()=>b});var n,a=s("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),r=(s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./app/j/config/enums.ts")),o=s("./app/j/core/utils.ts"),i=s("./app/j/global/Quizlet.ts"),l=s("./app/j/study-modes/common/engine/selectors.ts"),d=s("./app/j/study-modes/common/sessions/selectors.ts"),u=s("./app/j/study-modes/common/settings/selectors/index.ts"),c=s("./app/j/study-modes/common/studiable-data/selectors.ts"),p=s("./app/j/syncers/SessionSyncer.ts"),m=s("./node_modules/typesafe-actions/dist/typesafe-actions.umd.production.js"),_=s("./app/j/utils/tamperProofNow.ts"),g=s("./app/j/utils/unix-timestamp.ts");!function(e){e.SET_SESSION_LUID="STUDY_MODES_COMMON.SESSIONS.SET_SESSION_LUID",e.SET_INITIAL_SESSIONS_LUID="STUDY_MODES_COMMON.SESSIONS.SET_INITIAL_SESSIONS_LUID"}(n||(n={}));var E=e=>{var t;return t=(0,u.ez)(e)===r.aKJ.LEARNING_ASSISTANT?(0,l.C9)(e):(0,l.zt)(e).studyProgress,Math.round(t)},h=(e,t,s)=>{var n=E(s);0!==n&&t.get("score")!==n&&((0,u.Gw)(s).display.isCookieSupportEnabled&&((e,t,s)=>{t.set("score",s),t.set("lastModified",i.Z.SERVER_TIME),p.Z.save(e,t.properties)})(e,t,n))},S=e=>(0,m.action)(n.SET_SESSION_LUID,e),y=e=>(t,s)=>{var a;t((a={session:e,isStarredOnly:(0,u.zg)(s())},(0,m.action)(n.SET_INITIAL_SESSIONS_LUID,a)))},f=e=>{var{session:t}=e;return function(){var e=(0,a.Z)((function*(e,s){var n,a=s();if(n=t||{personId:Number((0,d.gP)(a)),selectedOnly:(0,u.zg)(a),type:(0,u.ez)(a),itemType:(0,c.Sd)(a),itemId:(0,c.uf)(a),timestamp:(0,g.S0)()},(0,u.Gw)(a).display.isCookieSupportEnabled){var r=p.Z.add(n);e(S(r)),yield p.Z.save(r,n).then((s=>{var[a,r]=s;if(!t&&r){var o=Object.assign({},n,{id:r.getProperties().id});e(y(o))}}))}}));return function(t,s){return e.apply(this,arguments)}}()},v=()=>function(){var e=(0,a.Z)((function*(e,t){var s=t();(0,d.a5)(s)||(yield e(f({session:(0,d.sl)(s)})))}));return function(t,s){return e.apply(this,arguments)}}(),T=function(e){return void 0===e&&(e={}),(t,s)=>{var n=s(),a=(0,d.Ug)(n);(0,u.Gw)(n).display.isCookieSupportEnabled&&p.Z.save(a,Object.assign({endedTimestamp:(0,g.S0)()},e)).catch((0,o.f)("Error updating session",!1))}},A=()=>(e,t)=>{var s,n=t(),a=E(n),r=(0,u.Gw)(n);if((0,d.Ug)(n))s=(0,d.Ug)(n);else{if(!(0,d.sl)(n))return;s=p.Z.add((0,d.sl)(n))}r.display.isCookieSupportEnabled&&p.Z.save(s,{score:a,endedTimestamp:(0,_.Z)()})},b=()=>(e,t)=>{var s=t(),n=(0,d.Ug)(s);if(!n)return null;var a=p.Z.getModel(n);if(!a)return null;h(n,a,s)}},"./app/j/study-modes/common/sessions/selectors.ts":(e,t,s)=>{"use strict";s.d(t,{sl:()=>c,gP:()=>p,Ug:()=>m,a5:()=>_,Gg:()=>g});var n=s("./node_modules/nullthrows/nullthrows.js"),a=s.n(n),r=s("./node_modules/reselect/lib/index.js"),o=s("./app/j/study-modes/common/selectors.ts"),i=s("./app/j/study-modes/common/settings/selectors/index.ts"),l=s("./app/j/syncers/SessionSyncer.ts"),d=(0,r.createSelector)(o.p,(e=>e.sessions)),u=(0,r.createSelector)(d,(e=>e.initialSessions)),c=(0,r.createSelector)([u,i.zg],((e,t)=>t?e.starred:e.unstarred)),p=(0,r.createSelector)(d,(e=>e.personId)),m=(0,r.createSelector)(d,(e=>e.sessionLuid)),_=(0,r.createSelector)(m,(e=>e?l.Z.getModel(e).getProperties():null)),g=(0,r.createSelector)(m,(e=>{var t=a()(e,"You must initialize a session before selecting it");return l.Z.getModel(t).getProperties()}))},"./app/j/study-modes/common/settings/actions.ts":(e,t,s)=>{"use strict";s.d(t,{aI:()=>n,bL:()=>m,oE:()=>_,zS:()=>g,CZ:()=>E,D5:()=>h,t0:()=>S,ex:()=>y,hv:()=>f,sL:()=>v});var n,a=s("./node_modules/lodash/merge.js"),r=s.n(a),o=(s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/nullthrows/nullthrows.js")),i=s.n(o),l=s("./app/j/study-modes/common/settings/selectors/index.ts"),d=s("./app/j/study-modes/common/settings/utils/syncPreferenceSettings.ts"),u=s("./app/j/study-modes/common/studiable-data/selectors.ts"),c=s("./node_modules/typesafe-actions/dist/typesafe-actions.umd.production.js"),p=s("./app/j/utils/tamperProofNow.ts");!function(e){e.SET_IS_OPTIONS_MODAL_OPEN="STUDY_MODES_COMMON.SETTINGS.SET_IS_OPTIONS_MODAL_OPEN",e.CHANGE_PREFERENCE="STUDY_MODES_COMMON.SETTINGS.CHANGE_PREFERENCE",e.RESTART_USER_STUDYABLE="STUDY_MODES_COMMON.SETTINGS.RESTART_USER_STUDYABLE",e.SETUP_SETTINGS="STUDY_MODES_COMMON.SETTINGS.SETUP_SETTINGS",e.UPDATE_ACCEPTS_PARTIAL_ANSWER="STUDY_MODES_COMMON.SETTINGS.UPDATE_ACCEPTS_PARTIAL_ANSWER",e.UPDATE_TYPO_HELP_SETTING="STUDY_MODES_COMMON.SETTINGS.UPDATE_TYPO_HELP_SETTING",e.UPDATE_AD_MODAL_STATE="STUDY_MODES_COMMON.SETTINGS.UPDATE_AD_MODAL_STATE"}(n||(n={}));var m=e=>(0,c.action)(n.SET_IS_OPTIONS_MODAL_OPEN,e),_=e=>(0,c.action)(n.RESTART_USER_STUDYABLE,e),g=e=>(0,c.action)(n.UPDATE_ACCEPTS_PARTIAL_ANSWER,e),E=e=>(0,c.action)(n.UPDATE_TYPO_HELP_SETTING,e),h=e=>(t,s)=>{var a,o=s(),i=(0,l.Gw)(o),d=Object.assign({},i,{preferences:r()({},i.preferences,e)});t((a=d,(0,c.action)(n.SETUP_SETTINGS,a)))},S=()=>(e,t)=>{var s,a=(0,l.nI)(t());e((s={adModalShownAt:(0,p.Z)(),adModalTimesShown:a.adModalTimesShown+1},(0,c.action)(n.UPDATE_AD_MODAL_STATE,s)))};var y=e=>(t,s)=>{var a,r,o,p,m=s(),_=(0,l.Iz)(m),g=(a=e,r=i()(a.questionTypes),o=Object.assign({},r,{matching:!1,multipleChoiceWithNoneOption:!1,copyAnswer:r.written}),Object.assign({},a,{questionTypes:o}));t((p=g,(0,c.action)(n.CHANGE_PREFERENCE,p))),(0,d.ZP)(_,g,{personId:(0,l.gP)(m),studyableId:(0,u.uf)(m),studyableType:(0,u.Sd)(m)},(0,l.ez)(m)),function(e,t,s){if(e.studyStarredOnly!==t.studyStarredOnly){var n=(0,l.$2)(s),a=(0,l.LP)(s),r=t.studyStarredOnly?a:n;window.history.pushState({},"",r)}}(_,g,m)},f=e=>(t,s)=>{var n=s(),a=(0,l.Iz)(n);t(y(Object.assign({},a,{studyStarredOnly:e})))},v=e=>(t,s)=>{t(g(e));var n=s(),a=(0,l.gP)(n),r=(0,u.uf)(n),o=(0,u.Sd)(n);(0,d.tA)(e,a,r,o)}},"./app/j/study-modes/common/settings/selectors/studySettings.ts":(e,t,s)=>{"use strict";s.d(t,{wV:()=>d,RG:()=>u,vf:()=>c,zE:()=>p});var n=s("./node_modules/lodash/pickBy.js"),a=s.n(n),r=s("./app/j/config/enums.ts"),o=s("./node_modules/reselect/lib/index.js"),i=s("./app/j/study-modes/common/settings/selectors/index.ts"),l=["written","multipleChoice","revealSelfAssessment"],d=((0,o.createSelector)(i.iv,(e=>a()(e,((e,t)=>l.indexOf(t)>-1)))),(0,o.createSelector)(i.ez,i.FZ,((e,t)=>e!==r.aKJ.LEARNING_ASSISTANT?null:t||r.JbB.STANDARD))),u=(0,o.createSelector)(i.Aq,(e=>null===e?r.sA9.CHALLENGE:e)),c=(0,o.createSelector)(i.b,(e=>null===e?r.GMu.LOW:e)),p=(0,o.createSelector)(i.Yo,(e=>e))},"./app/j/study-modes/common/settings/utils/index.ts":(e,t,s)=>{"use strict";s.d(t,{k7:()=>i,TR:()=>l,ov:()=>d,jo:()=>p,HU:()=>m,gQ:()=>_});s("./node_modules/core-js/modules/es.array.reduce.js"),s("./node_modules/core-js/modules/es.string.includes.js");var n=s("./app/j/config/enums.ts"),a=s("./app/j/config/study-setting-metadata.ts"),r=s("./app/j/legacyAssistant/types/QAssistantModeTypes.ts"),o=(e,t)=>Object.keys(t).reduce(((s,n)=>(e[n]&&s.push(t[n]),s)),[]),i=e=>null===e?[]:o(e,{definition:n.dU_.DEFINITION,term:n.dU_.WORD}),l=e=>null===e?[]:o(e,{definition:n.dU_.DEFINITION,term:n.dU_.WORD,location:n.dU_.LOCATION}),d=(e,t,s,n,a)=>{return{enabledQuestionTypes:(d=e,null===d?[]:o(d,{copyAnswer:(0,r.Q)().copyAnswer,fillInTheBlank:(0,r.Q)().fillInTheBlank,matching:(0,r.Q)().matching,multipleChoice:(0,r.Q)().multipleChoice,multipleChoiceWithNoneOption:(0,r.Q)().multipleChoiceWithNoneOption,revealSelfAssessment:(0,r.Q)().revealSelfAssessment,written:(0,r.Q)().written,spelling:(0,r.Q)().spelling})),enabledPromptSides:l(t),enabledAnswerSides:l(s),enabledWrittenAnswerSides:i(n),enabledLocationQuestionTypes:a};var d},u=e=>{var{bitValues:t}=a.ZP.ASSISTANT_MODE_QUESTION_TYPES;return{copyAnswer:e.includes(t.copyAnswer),fillInTheBlank:e.includes(t.fillInTheBlank),matching:e.includes(t.matching),multipleChoice:e.includes(t.multipleChoice),multipleChoiceWithNoneOption:e.includes(t.multipleChoiceWithNoneOption),revealSelfAssessment:e.includes(t.revealSelfAssessment),written:e.includes(t.written),spelling:e.includes(t.spelling)}},c=e=>({definition:e.includes(n.dU_.DEFINITION),term:e.includes(n.dU_.WORD),location:e.includes(n.dU_.LOCATION)}),p=e=>{return{answerWith:c(e.enabledAnswerSides),locationQuestionTypes:e.enabledLocationQuestionTypes,promptWith:c(e.enabledPromptSides),questionTypes:u(e.enabledQuestionTypes),writtenTypes:(t=e.enabledWrittenAnswerSides,{definition:t.includes(n.dU_.DEFINITION),term:t.includes(n.dU_.WORD)})};var t};function m(e,t){return s=e,n=t,Object.keys(n).reduce(((e,t)=>{if("locationQuestionTypes"===t)return e;var a=n[t];return null==a||a.length<1?e[t]=s[t]:e[t]=a,e}),{});var s,n}function _(e,t,s){return Object.keys(e).reduce(((n,a)=>{var r=t[a],o=s&&"questionTypes"===a;return null==r||r.length<1||o?n[a]=e[a]:n[a]=r,n}),{})}},"./app/j/study-modes/common/settings/utils/syncPreferenceSettings.ts":(e,t,s)=>{"use strict";s.d(t,{ZP:()=>y,Ex:()=>_,tA:()=>h});var n=s("./node_modules/lodash/isEqual.js"),a=s.n(n),r=s("./node_modules/lodash/flatten.js"),o=s.n(r),i=(s("./node_modules/core-js/modules/es.array.reduce.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./app/j/config/enums.ts")),l=s("./app/j/legacyAssistant/types/QAssistantModeTypes.ts");var d=s("./app/j/syncers/StudySettingSyncer.ts"),u=s("./app/j/utils/ensureArray.ts"),c=s("./app/j/utils/log-page-action.ts"),p=s("./app/j/utils/StudySettingEncodingHelper.ts");function m(e){switch(e){case"definition":return i.kH9.DEFINITION;case"term":case"word":return i.kH9.WORD;case"location":return i.kH9.LOCATION;default:return i.kH9.UNKNOWN}}function _(e,t){return Object.keys(t).filter((s=>!a()(t[s],e[s]))).reduce(((e,s)=>(e[s]=t[s],e)),{})}function g(e){if("boolean"==typeof e||"number"==typeof e)throw new Error("Cannot treat boolean as an immutable Map");return e}function E(e){return(0,p.S5)(Object.keys(e).filter((t=>!!e[t])).map(m).filter((e=>e!==i.kH9.UNKNOWN)))}function h(e,t,s,n){var a=i.Std.FLEXIBLE_GRADING_ACCEPT_PARTIAL_ANSWERS,r=e?1:0;d.Z.addAndSave({personId:t,settingType:a,settingValue:r,studyableId:s,studyableType:n})}function S(e,t,s){switch(t){case"isAudioOn":return e===i.aKJ.SPELLER?{settingType:i.Std.ASSISTANT_SPELL_MODE_AUDIO_ENABLED,settingValue:!!s}:{settingType:i.Std.TAP_TO_PLAY_AUDIO,settingValue:!!s};case"promptWith":var n=function(e){switch(e){case i.aKJ.LEARNING_ASSISTANT:return i.Std.PROMPT_TERM_SIDES;case i.aKJ.WRITE:return i.Std.WRITE_PROMPT_SIDES;case i.aKJ.FLASHCARDS:case i.aKJ.SPELLER:default:return null}}(e);return n?{settingType:n,settingValue:E(g(s))}:[];case"answerWith":var a=function(e){switch(e){case i.aKJ.LEARNING_ASSISTANT:return i.Std.ANSWER_TERM_SIDES;case i.aKJ.WRITE:return i.Std.WRITE_ANSWER_SIDES;case i.aKJ.FLASHCARDS:return i.Std.CARDS_ANSWER_SIDES;case i.aKJ.SPELLER:return i.Std.SPELL_ANSWER_SIDES;default:throw new Error("All study modes should contain answer with study setting type")}}(e);return a?{settingType:a,settingValue:E(g(s))}:[];case"questionTypes":return e!==i.aKJ.LEARNING_ASSISTANT?[]:{settingType:i.Std.ASSISTANT_MODE_QUESTION_TYPES,settingValue:Object.keys(g(s)).filter((e=>!!s[e])).map((e=>(0,l.Q)()[e]||0)).reduce(((e,t)=>e|t))};case"writtenTypes":return[{settingType:i.Std.ASSISTANT_MODE_WRITTEN_DEFINITION_SIDE,settingValue:!!g(s).term},{settingType:i.Std.ASSISTANT_MODE_WRITTEN_WORD_SIDE,settingValue:!!g(s).definition}];case"advancedAudioSettings":return[{settingType:i.Std.ASSISTANT_MODE_WORD_AUDIO_ENABLED,settingValue:!!g(s).wordEnabled},{settingType:i.Std.ASSISTANT_MODE_DEFINITION_AUDIO_ENABLED,settingValue:!!g(s).definitionEnabled},{settingType:i.Std.ASSISTANT_MODE_SLOW_WORD_AUDIO,settingValue:!!g(s).slowWordEnabled},{settingType:i.Std.ASSISTANT_MODE_SLOW_DEFINITION_AUDIO,settingValue:!!g(s).slowDefinitionEnabled}];case"acceptsPartialAnswer":return{settingType:i.Std.FLEXIBLE_GRADING_ACCEPT_PARTIAL_ANSWERS,settingValue:!!s};case"typoHelpGradingSetting":return{settingType:i.Std.FLEXIBLE_GRADING_ACCEPT_ANSWERS_WITH_TYPOS,settingValue:!!s};case"smartGrading":return{settingType:i.Std.SMART_GRADING,settingValue:!!s};case"studyPath":return{settingType:i.Std.STUDY_PATH,settingValue:Number(s)};case"guidanceDisabled":return{settingType:i.Std.GUIDANCE_DISABLED,settingValue:!!s};case"sortingOn":return{settingType:i.Std.CARDS_SORTING_ON,settingValue:!!s};default:return[]}}function y(e,t,s,n){var a=o()(Object.keys(_(e,t)).map((e=>{var a=S(n,e,t[e]);return(0,c.Z)("study_options_setting_changed",a),(0,u.Z)(a).map((e=>Object.assign({},s,e)))})));a.length&&d.Z.bulkAddAndSave(a)}},"./app/j/study-modes/common/studiable-data/actions.ts":(e,t,s)=>{"use strict";s.d(t,{MF:()=>n,yI:()=>E,m:()=>h,Dk:()=>S,lr:()=>y,OC:()=>f});var n,a=s("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),r=(s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./app/j/config/enums.ts")),o=s("./app/j/global/Rollbar.ts"),i=s("./node_modules/nullthrows/nullthrows.js"),l=s.n(i),d=s("./app/j/studiable-data/utils.ts"),u=s("./app/j/study-modes/common/studiable-data/document/selectors.ts"),c=s("./app/j/study-modes/common/studiable-data/selectors.ts"),p=s("./app/j/study-modes/common/utils/studiablesToTermUtils.ts"),m=s("./app/j/syncers/SelectedTermSyncer.ts"),_=s("./app/j/syncers/TermSyncer.ts"),g=s("./node_modules/typesafe-actions/dist/typesafe-actions.umd.production.js");!function(e){e.ADD_STARRED_STUDIABLE_ITEM_ID="STUDY_MODES.COMMON.ADD_STARRED_STUDIABLE_ITEM_ID",e.ADD_STARRED_STUDIABLE_ITEM_ID_SUCCESS="STUDY_MODES.COMMON.ADD_STARRED_STUDIABLE_ITEM_ID_SUCCESS",e.REMOVE_STARRED_STUDIABLE_ITEM_ID="STUDY_MODES.COMMON.REMOVE_STARRED_STUDIABLE_ITEM_ID",e.REMOVE_STARRED_STUDIABLE_ITEM_ID_SUCCESS="STUDY_MODES.COMMON.REMOVE_STARRED_STUDIABLE_ITEM_ID_SUCCESS",e.REPLACE_STUDIABLE_ITEM="STUDY_MODES.COMMON.REPLACE_STUDIABLE_ITEM"}(n||(n={}));var E=e=>(0,g.action)(n.ADD_STARRED_STUDIABLE_ITEM_ID,e),h=e=>(0,g.action)(n.ADD_STARRED_STUDIABLE_ITEM_ID_SUCCESS,e),S=(e,t)=>function(){var s=(0,a.Z)((function*(s,n){var a=n(),i=(0,c.uf)(a);if((0,c.Sd)(a)!==r.MG.SET){var l=(0,u.h1)(a)[e];if(l.studiableContainerType!==r.MG.SET)throw new Error("Unsupported studiable item with a studiable container != SET.");i=l.studiableContainerId}s(E(e));try{var d=(0,p.K)(e),[_,g]=yield m.Z.addAndSave({termId:d,setId:i,source:t});s(h(g.properties))}catch(S){o.Z.warn("Failed API request on selected-terms.",S)}}));return function(e,t){return s.apply(this,arguments)}}(),y=e=>function(){var t=(0,a.Z)((function*(t,s){var a=s(),r=(0,c.Jh)(a),i=(0,p.K)(e);t((e=>(0,g.action)(n.REMOVE_STARRED_STUDIABLE_ITEM_ID,e))(e));try{var l=r[i],d=m.Z.add(l);yield m.Z.del(d),t((e=>(0,g.action)(n.REMOVE_STARRED_STUDIABLE_ITEM_ID_SUCCESS,e))(e))}catch(u){o.Z.warn("Failed API request on selected-terms.",u)}}));return function(e,s){return t.apply(this,arguments)}}(),f=(e,t,s)=>function(){var o=(0,a.Z)((function*(a){var o=(0,p.K)(e.id),i=(0,d.KN)(e,r.dU_.WORD),u=(0,d.KN)(e,r.dU_.DEFINITION);if(!i||!u)throw new Error("Studiable Item must have valid word and definition card sides to be edited.");var{plainText:c,richText:m}=l()((0,d.xy)(i)),{plainText:E,richText:h}=l()((0,d.xy)(u));try{_.Z.setShouldSyncDelay(!1);var S={id:o,word:c,wordRichText:m,definition:E,definitionRichText:h},y=e.studiableContainerType===r.MG.SET?e.studiableContainerId:void 0,[f,v]=yield _.Z.addAndSave(Object.assign({},S,{setId:y}));v.isValid()&&(a((e=>(0,g.action)(n.REPLACE_STUDIABLE_ITEM,e))(e)),t&&t(e))}catch(A){var[T]=A;s&&s([T.message])}}));return function(e){return o.apply(this,arguments)}}()},"./app/j/study-modes/common/studiable-data/document/selectors.ts":(e,t,s)=>{"use strict";s.d(t,{TQ:()=>_,mb:()=>g,h1:()=>E,hX:()=>h,r9:()=>y,bs:()=>f,aW:()=>v,lb:()=>A,UR:()=>I,kx:()=>w,Jh:()=>C,hJ:()=>O,uf:()=>x,Sd:()=>D,Uv:()=>L,Th:()=>k});var n=s("./node_modules/lodash/keyBy.js"),a=s.n(n),r=(s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./app/j/config/enums.ts")),o=s("./app/j/global/Rollbar.ts"),i=s("./app/j/progress_dashboard/calculateProgress.ts"),l=s("./node_modules/reselect/lib/index.js"),d=s("./app/j/studiable-data/utils.ts"),u=s("./app/j/study-modes/common/selectors.ts"),c=s("./app/j/study-modes/common/settings/selectors/index.ts"),p=s("./app/j/study-modes/common/studiable-data/selectors.ts"),m=s("./app/j/study-modes/common/studiable-data/utils/filterStudiableData.ts"),_=(0,l.createSelector)(u.p,(e=>e.studiableData)),g=(0,l.createSelector)(_,(e=>e.studiableItems)),E=(0,l.createSelector)(g,(e=>a()(e,(e=>e.id)))),h=(0,l.createSelector)(_,(e=>e.studiableItems.map((e=>e.id)))),S=(0,l.createSelector)(_,(e=>e.starredStudiableItemIds)),y=(0,l.createSelector)([_,c.zg,S,p.tK,p.cg,p.CF],((e,t,s,n,a,r)=>{var{studiableItems:l,studiableContainer:d,studiableMetadataByType:u,setIdToDiagramImage:c,exampleSentenceByStudiableItemId:p}=e,_=new Set;if(!t&&void 0!==n){var g=l.map((e=>e.id)),E=[Object.assign({},d,{termIds:g,crossModeResetTimestamp:r})],h=(0,i.Z)(E,n||[]),S=h[d.id];null==S&&o.Z.error("Progress buckets for studiable container: "+d.id+" does not exist, got progress buckets by set id: "+h);var y=S[a];_=new Set(y.map(Number))}var f=t?s:_;return 0===f.size?{studiableItems:l,setIdToDiagramImage:c,exampleSentenceByStudiableItemId:p,studiableMetadataByType:u}:(0,m.o)({studiableItems:l,setIdToDiagramImage:c,exampleSentenceByStudiableItemId:p,studiableMetadataByType:u},f)})),f=(0,l.createSelector)(y,(e=>e.studiableItems.some((e=>!!(0,d.F_)(e)&&e.cardSides.some(d.p))))),v=(0,l.createSelector)(_,(e=>T(e.studiableItems,r.dU_.DEFINITION)));function T(e,t){for(var s of(0,d.c4)(e.filter(d.F_),t)){var n=(0,d.xy)(s);if(n)return n.languageCode}return null}var A=(0,l.createSelector)(_,(e=>T(e.studiableItems,r.dU_.WORD))),b=(0,l.createSelector)(_,(e=>!1===(0,d.c4)(e.studiableItems.filter(d.F_),r.dU_.WORD).next().done)),j=(0,l.createSelector)(_,(e=>!1===(0,d.c4)(e.studiableItems.filter(d.F_),r.dU_.DEFINITION).next().done)),I=(0,l.createSelector)(b,j,p.XQ,((e,t,s)=>({definition:t,location:s,term:e}))),w=(0,l.createSelector)(y,(e=>{var t;return(null==e?void 0:e.studiableMetadataByType)&&!(null==(t=e.studiableMetadataByType[r._KG.FILL_IN_THE_BLANK_KEYPHRASES])||!t.length)})),C=(0,l.createSelector)(_,(e=>e.selectedTerms)),O=(0,l.createSelector)(_,(e=>e.diagramImages?e.diagramImages[0]:null)),N=(0,l.createSelector)(_,(e=>e.studiableContainer)),x=(0,l.createSelector)(N,(e=>e.id)),D=(0,l.createSelector)(_,(e=>e.studiableContainerType)),L=(0,l.createSelector)(_,(e=>e.accents)),k=(0,l.createSelector)(g,(e=>e.some((e=>e.type===r.zqd.MULTIPLE_CHOICE_QUESTION))))},"./app/j/study-modes/common/studiable-data/utils/getMediaByType.ts":(e,t,s)=>{"use strict";s.d(t,{JZ:()=>r,FB:()=>o,GI:()=>i});var n=s("./app/j/config/enums.ts");function a(e){return t=>t.connections.find((t=>t.mediaType===e))}var r=a(n.DDH.TEXT),o=a(n.DDH.AUDIO),i=a(n.DDH.IMAGE);a(n.DDH.DIAGRAM_SHAPE)},"./app/j/study-modes/common/types.ts":(e,t,s)=>{"use strict";var n;s.d(t,{_:()=>n}),function(e){e.FRONT="front",e.BACK="back"}(n||(n={}))},"./app/j/study-modes/common/utils/answerFeedback.ts":(e,t,s)=>{"use strict";function n(e){var t=-1;return()=>(t<e-1?t++:t=0,t)}s.d(t,{c:()=>o,u:()=>i});var a=n(5),r=n(3);function o(e){switch(a()){case 1:return e("assistant.label.answer_feedback.correct.1");case 2:return e("assistant.label.answer_feedback.correct.2");case 3:return e("assistant.label.answer_feedback.correct.3");case 4:return e("assistant.label.answer_feedback.correct.4");default:return e("assistant.label.answer_feedback.correct.0")}}function i(e){switch(r()){case 1:return e("assistant.label.answer_feedback.incorrect.1");case 2:return e("assistant.label.answer_feedback.incorrect.2");default:return e("assistant.label.answer_feedback.incorrect.0")}}},"./app/j/study-modes/common/utils/label-utils.ts":(e,t,s)=>{"use strict";s.d(t,{h:()=>r,y:()=>o});var n=s("./app/j/i18n/$t.ts"),a=s("./app/j/config/enums.ts");function r(e){switch(e){case a.dU_.WORD:return(0,n.Z)("assistant.label.term");case a.dU_.DEFINITION:return(0,n.Z)("assistant.label.definition");default:return(0,n.Z)("assistant.label.term")}}function o(e){switch(e){case a.dU_.WORD:return(0,n.Z)("assistant.label.term");case a.dU_.DEFINITION:return(0,n.Z)("assistant.label.definition");case a.dU_.LOCATION:return(0,n.Z)("assistant.label.location");default:return(0,n.Z)("assistant.label.term")}}},"./app/j/study-modes/common/utils/multipleChoiceUtils.ts":(e,t,s)=>{"use strict";s.d(t,{xD:()=>i,xp:()=>l,_B:()=>d});var n=s("./app/j/config/enums.ts"),a=s("./app/j/study-modes/common/components/AnswerOption.tsx"),r=s("./app/j/study-modes/common/engine/utils/graded-answer-utils.ts"),o=s("./app/j/study-modes/common/engine/utils/question-element-utils.ts");function i(e,t,s){if((0,r.ZP)(t)){var n=t.feedback.submittedAnswer;return n?(0,r.EE)(e,t)?a.B.Correct:(0,r.e0)(t)||(null==n?void 0:n.value)!==e?a.B.Disabled:a.B.Incorrect:(0,r.EE)(e,t)?a.B.SkippedCorrect:a.B.Disabled}return(null==s?void 0:s.value)===e?a.B.Selected:a.B.Default}function l(e){var{location:t}=(0,o.Sg)(e.options[0]);return t&&e.metadata.answerSide===n.dU_.LOCATION}function d(e){return(0,o.Ux)(e,150)}},"./app/j/study-modes/common/utils/renderStudyMode.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>p});var n=s("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),a=(s("./node_modules/core-js/modules/es.object.assign.js"),s("./app/j/audio_playback/index.ts")),r=s("./app/j/core/default_store/DefaultStoreProvider.tsx"),o=s("./app/j/core/legacy_store/LegacyStoreProvider.tsx"),i=s("./node_modules/react/index.js"),l=s("./app/j/study-modes/common/index.ts"),d=s("./app/j/study-modes/common/containers/StudyModesLayoutContainer.ts"),u=s("./app/j/utils/readReactTarget.ts"),c=s("./app/j/utils/renderReactAppToDOM.tsx");function p(e,t,s,n){return m.apply(this,arguments)}function m(){return(m=(0,n.Z)((function*(e,t,s,n){var{target:p,data:m}=yield(0,u.Z)("AssistantMode"),_=Object.assign({},m,s);return(0,l.Z)(_),(0,a.ZP)(),n&&n(m),(0,c.Z)(i.createElement(r.ZP,null,i.createElement(o.ZP,null,i.createElement(d.Z,{modeControls:i.createElement(t,null)},i.createElement(e,null)))),p),m}))).apply(this,arguments)}},"./app/j/study-modes/common/utils/studyModeAdHelper.ts":(e,t,s)=>{"use strict";s.d(t,{$:()=>l,W:()=>d});var n=s("./app/j/ads/AdsHelper.ts"),a=s("./app/j/ads/utils/screenSizes.ts"),r=s("./app/j/study-modes/common/settings/selectors/index.ts"),o=s("./app/j/utils/isAdBlockerEnabled.ts"),i=s("./app/j/utils/viewport.ts"),l=e=>(0,i.d)()>a.r.tiny[0]&&(0,i.C)()>a.r.tiny[1]&&(0,r.Cr)(e())&&!(0,o.Z)(),d=e=>e.shouldShowAd&&(0===e.adModalTimesShown||e.adModalTimesShown>0&&(0,n.Rk)(e.adModalShownAt,5))},"./app/j/study-modes/common/utils/writtenGrading.ts":(e,t,s)=>{"use strict";s.d(t,{T:()=>a,w:()=>r});var n=s("./app/j/study-modes/common/grading/utils/isAnswerGradedAsCorrectWithLevenshteinPlus.ts");function a(e,t){var s;if(!e)return!1;var a=(0,n.q)(null!=(s=null==e?void 0:e.gradingSettingsSuggestion)?s:null);return Boolean((null==e?void 0:e.isCorrect)&&(a||t))}function r(e,t){var s;return!(!e||e.isCorrect)&&Boolean((null==(s=e.gradingSettingsSuggestion)?void 0:s.acceptsPartialAnswer)&&!t)}},"./app/j/study-modes/learn/actions/index.ts":(e,t,s)=>{"use strict";s.d(t,{MF:()=>M,BS:()=>ye,MY:()=>me,lo:()=>ke,N1:()=>be,wJ:()=>Ce,cH:()=>Pe,Do:()=>Me,oQ:()=>fe,jy:()=>ce,dz:()=>De,Sx:()=>ue,xQ:()=>je,lF:()=>Ae,O8:()=>we,Kr:()=>Re,P1:()=>de,W5:()=>le,Bm:()=>Le,fw:()=>ve,Zy:()=>_e,QP:()=>Se,zS:()=>Oe,j$:()=>Ne,HB:()=>Ze});var n=s("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),a=(s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.json.stringify.js"),s("./app/j/ab_tests/QMeasure.ts")),r=s("./app/j/ads/AdsHelper.ts"),o=s("./app/j/ads/enums/AdsNames.ts"),i=s("./app/j/ads/promises.ts"),l=s("./app/j/compatibility/logger/classComponentLoggers.ts"),d=s("./app/j/compatibility/logger/getLoggerConfig.ts"),u=s("./app/j/config/enums.ts"),c=s("./app/j/core/utils.ts"),p=s("./app/j/global/Quizlet.ts"),m=s("./app/j/global/Rollbar.ts"),_=s("./app/j/i18n/LocalizationConstants.ts"),g=s("./node_modules/immer/dist/immer.cjs.production.min.js"),E=s("./node_modules/react-redux/lib/index.js"),h=s("./app/j/study-engine/factory.ts"),S=s("./app/j/study-engine/types.ts"),y=s("./app/j/study-engine/utils.ts"),f=s("./app/j/study-modes/common/engine/actions.ts"),v=s("./app/j/study-modes/common/engine/selectors.ts"),T=s("./app/j/study-modes/common/grading/actions.ts"),A=s("./app/j/study-modes/common/logging/selectors.ts"),b=s("./app/j/study-modes/common/metering/actions.ts"),j=s("./app/j/study-modes/common/metering/selectors.ts"),I=s("./app/j/study-modes/common/misc/ab_tests/selectors.ts"),w=s("./app/j/study-modes/common/misc/ads/actions.ts"),C=s("./app/j/study-modes/common/misc/ads/selectors.ts"),O=s("./app/j/study-modes/common/sessions/actions.ts"),N=s("./app/j/study-modes/common/sessions/selectors.ts"),x=s("./app/j/study-modes/common/settings/actions.ts"),D=s("./app/j/study-modes/common/settings/selectors/index.ts"),L=s("./app/j/study-modes/common/settings/selectors/studySettings.ts"),k=s("./app/j/study-modes/common/settings/utils/index.ts"),R=(s("./node_modules/core-js/modules/es.promise.js"),s("./app/j/syncers/UserStudyableSyncer.ts"));function P(e){return new Promise(((t,s)=>R.Z.addAndSave(e).then((e=>{var[s,n]=e;return t(n.properties)})).catch((e=>{var[t]=e;return s(t)}))))}var M,Z=s("./app/j/study-modes/common/studiable-data/document/selectors.ts"),U=s("./app/j/study-modes/common/studiable-data/selectors.ts"),B=s("./app/j/study-modes/common/utils/studyModeAdHelper.ts"),W=s("./app/j/study-modes/learn/actions/loggings.ts"),H=s("./app/j/study-modes/learn/constants.ts"),G=s("./app/j/study-modes/learn/selectors.ts"),Q=s("./app/j/study-modes/learn/tasks/constants.ts"),F=s("./app/j/study-modes/learn/tasks/types.ts"),q=s("./app/j/study-modes/learn/tasks/utils/measureUserConfidenceUtils.ts"),z=s("./app/j/study-modes/learn/tasks/utils/taskSequenceHelpers.ts"),K=s("./app/j/study-modes/learn/types.ts"),V=s("./app/j/study-modes/learn/utils/index.ts"),Y=s("./app/j/study_path/constants.ts"),X=s("./app/j/tracking/BrazeHelper.ts"),J=s("./node_modules/typesafe-actions/dist/typesafe-actions.umd.production.js"),$=s("./app/j/utils/AuBtsExperimentHelper.ts"),ee=s("./app/j/utils/BreakpointsHelper.ts"),te=s("./app/j/utils/breakpointSwitch.ts"),se=s("./app/j/utils/FetchWith.ts"),ne=s("./app/j/utils/isAdBlockerEnabled.ts"),ae=s("./app/j/utils/LocalStorageHelper.ts"),re=s("./app/j/utils/redirect.ts"),oe=s("./app/j/utils/unix-timestamp.ts"),ie=s("./app/j/utils/Visitor.ts");!function(e){e.HIDE_FLASHCARD_SHORTCUTS="LEARN_MODE.HIDE_FLASHCARD_SHORTCUTS",e.INCREMENT_CHECKPOINT_COUNTER="INCREMENT_CHECKPOINT_COUNTER",e.SET_SEEN_CONFIDENCE_CHECK_IN_SETS="SET_SEEN_CONFIDENCE_CHECK_IN_SETS",e.SET_SEEN_CONFIDENCE_CHECK_IN_MODAL_SETS="SET_SEEN_CONFIDENCE_CHECK_IN_MODAL_SETS",e.SET_LEARN_VIEW="LEARN_MODE.SET_LEARN_VIEW",e.SET_IS_SETTINGS_MERGED="LEARN_MODE.IS_SETTINGS_MERGED",e.SET_IS_ADVANCING="LEARN_MODE.IS_ADVANCING",e.SET_SHOULD_SEE_SPELL_WRITE_COACHMARK="SET_SHOULD_SEE_SPELL_WRITE_COACHMARK",e.UPDATE_STUDY_MODE_AD_TIMESTAMP="UPDATE_STUDY_MODE_AD_TIMESTAMP.IS_SKIPPING_FEEDBACK",e.UPDATE_SHOULD_SHOW_ALTERNATIVE_QUESTION_COACHMARK="UPDATE_SHOULD_SHOW_ALTERNATIVE_QUESTION_COACHMARK",e.UPDATE_SHOULD_SHOW_TASKS_ONBOARDING="UPDATE_SHOULD_SHOW_TASKS_ONBOARDING"}(M||(M={}));var le=e=>(0,J.action)(M.SET_LEARN_VIEW,e),de=e=>(0,J.action)(M.SET_IS_ADVANCING,e),ue=()=>(0,J.action)(M.UPDATE_SHOULD_SHOW_TASKS_ONBOARDING),ce=()=>(0,J.action)(M.HIDE_FLASHCARD_SHORTCUTS),pe=(e,t)=>{var s,n=t(),r=(0,L.RG)(n),o=(0,L.vf)(n),i=(0,Z.r9)(n),l=(0,I.jm)(n),d=(0,L.zE)(n),u={parse_ugc_mcqs:a.Z.peekAtVariation("ParseUgcMcqs[default]")},c=h.Z.recommendStudySettings(S.lt.LEARN,i,_.ZX,r,o,!0,l,u),p=(0,D.Iz)(n),m=(0,V.OH)()&&!d,g=(0,k.jo)(c.nSidedCardSettings),E=(0,k.gQ)(g,p,m);e((0,x.D5)(E)),e((s=!0,(0,J.action)(M.SET_IS_SETTINGS_MERGED,s)));var y=(0,k.ov)(E.questionTypes,E.promptWith,E.answerWith,E.writtenTypes,E.locationQuestionTypes);return y.enabledQuestionTypes=(0,V.Zz)(y.enabledQuestionTypes),Object.assign({},c,{studyPath:(0,L.wV)(n),nSidedCardSettings:y})},me=()=>e=>{e((0,f.YC)(null)),e((0,T.sy)(!1))},_e=()=>(e,t)=>{var s,n=t(),r=(0,Z.r9)(n),o=pe(e,t),i=null!=(s=(0,D.R9)(n))&&s,l=(0,D.Id)(n),d=(0,v.z5)(n),u={acceptsPartialAnswer:i,levenshteinPlus:l},c=(0,U.CF)(n),p=(0,j.aN)(n),m=!(0,V.OH)(),_=(0,I.jm)(n),g={continue_studying_from_tasks:null,randomize_initial_term_order:null,parse_ugc_mcqs:a.Z.peekAtVariation("ParseUgcMcqs[default]")},E=h.Z.create(S.lt.LEARN,r,d,o,u,!0,_,c,g,p,m);E.studiableContentHasParsableMcqs()&&a.Z.getVariationAndEnroll("ParseUgcMcqs[default]"),e((0,f.ox)(E)),e((0,f.ig)([])),e(me())},ge=(e,t,s,n)=>{!(0,ne.Z)()&&(0,V.T7)()&&(0,i.L)().then((a=>{a.prefetchBids([e],(()=>{s&&t(s(n))}))}))},Ee=e=>{var t=(0,te.b)();return(0,ee.Lu)(t,"xs")&&(0,D.Cr)(e())&&!(0,C.nm)(e())&&!(0,ne.Z)()&&(e=>{var t=(0,G.JK)(e());return 0===t||t>0&&(0,r.Rk)((0,G.ey)(e()),5)})(e)},he=(e,t,s,n)=>{var i=n();if([K.py.TASK_ROUND_CHECKPOINT,K.py.TASK_COMPLETION_CHECKPOINT_NON_PLUS,K.py.TASK_COMPLETION_CHECKPOINT_PLUS,K.py.TASK_SEQUENCE_COMPLETION_CHECKPOINT_NON_PLUS,K.py.TASK_SEQUENCE_COMPLETION_CHECKPOINT_PLUS].includes(t)&&Ee(n))return s((0,J.action)(M.INCREMENT_CHECKPOINT_COUNTER)),s((0,J.action)(M.UPDATE_STUDY_MODE_AD_TIMESTAMP)),K.py.AD_MODAL;if((0,V.pj)(e))return(0,V.T7)()&&((e,t,s)=>{var n=(0,v.IQ)(t);1===(0,r.vx)(n)&&setTimeout((()=>{ge(e,s)}),1e3)})(o.h.STUDY_MODE_AD,i,s),K.py.QUESTION;if((0,y.KX)(e))throw new Error("Learn does not support the question type: "+e.type+".");if(e.type!==S.ju.CHECKPOINT&&e.type!==S.F9.LEARN_PAYWALL)throw new Error("Unrecognized study step type: "+e.type+".");var l=(0,v.Qw)(i);if(null!==l&&s((0,b.EF)(l)),(0,y.hB)(e)&&(0,$.z)(p.Z.countryCode,a.Z,p.Z.user))return K.py.PAYWALL;var d=(e=>{var t=(0,v.K9)(e),s=100===(0,v.C9)(e),n=(0,V.OH)()&&!("simplified"===a.Z.getFeatureFlagOrTestVariantWithoutEnrolling("SimplifiedGoalIntakeM1"));if(s){var r=(0,U.uf)(e),o=(0,G.MR)(e).includes(r);return(0,q.u_)()&&!o?K.py.TASK_MEASURE_CONFIDENCE:n?K.py.TASK_SEQUENCE_COMPLETION_CHECKPOINT_PLUS:K.py.TASK_SEQUENCE_COMPLETION_CHECKPOINT_NON_PLUS}var i=t[(0,v.TI)(e)];return(0,z.J$)(i)?n?K.py.TASK_COMPLETION_CHECKPOINT_PLUS:K.py.TASK_COMPLETION_CHECKPOINT_NON_PLUS:K.py.TASK_ROUND_CHECKPOINT})(i);return d!==K.py.TASK_COMPLETION_CHECKPOINT_NON_PLUS&&d!==K.py.TASK_SEQUENCE_COMPLETION_CHECKPOINT_NON_PLUS&&d!==K.py.TASK_ROUND_CHECKPOINT||(Ee(n)&&ge(o.h.STUDY_MODE_AD,s),((e,t)=>{var s=(0,te.b)();(0,V.T7)()&&(0,ee.P0)(s,"xs")&&(0,B.$)(e)&&(t((0,w.lM)(!0)),t((0,x.t0)()))})(n,s)),d},Se=()=>(e,t)=>{var s=(0,v.EY)(t()),n=(0,G.R5)(t()),a=he(s,n,e,t);[K.py.TASK_MEASURE_CONFIDENCE,K.py.TASK_SEQUENCE_COMPLETION_CHECKPOINT_NON_PLUS,K.py.TASK_SEQUENCE_COMPLETION_CHECKPOINT_PLUS].includes(a)&&e((0,O.TS)()),e(le(a))},ye=e=>(t,s)=>{(0,E.batch)((()=>{t((0,w.lM)(!1)),[K.py.LOADING,K.py.ONBOARDING].includes((0,G.R5)(s()))||t(de(!0)),t((0,f.ig)(e)),t(Se())}))},fe=()=>e=>{e(ye([])),e((0,W.Qi)(u.WFi.VIEW_START))},ve=()=>(e,t)=>{(0,E.batch)((()=>{e((0,O.KN)({session:(0,N.sl)(t())})),e(fe())}))},Te=_e,Ae=()=>e=>{e(le(K.py.LOADING)),e(Te()),e(ve())},be=()=>(e,t)=>{var s=t(),n=(0,D.Iz)(s);n.guidanceDisabled?(m.Z.warn("Learning Assistant - Attempted to disable guidance when already disabled"),e(Ae())):(0,E.batch)((()=>{e((0,x.ex)(Object.assign({},n,{guidanceDisabled:!0,studyPath:Y.h0,studyPathGoal:Y.Af,studyPathKnowledgeLevel:Y.Lm,questionTypes:Object.assign({},n.questionTypes,{fillInTheBlank:!1})}))),e(Ae()),e((0,x.bL)(!0))}))},je=()=>function(){var e=(0,n.Z)((function*(e,t){var s=t(),n=(0,D.G$)(s),a=(0,g.default)(n,(e=>{e.startTimestamp=(0,oe.S0)()}));try{var r=yield P(a);e((0,x.oE)(r.startTimestamp)),e((0,f.h5)([]));var o=(0,U.uf)(s);return void(0,re.ZP)("/"+o+"/learn/reset")}catch(i){(0,c.f)("Error updating user studyable; reason: "+i,!1)}}));return function(t,s){return e.apply(this,arguments)}}(),Ie=function(e){return void 0===e&&(e=!1),(t,s)=>{var n=s(),a=new Set((0,G.MR)(n)),r=(0,U.uf)(n);e?a.delete(r):a.add(r),t((e=>(0,J.action)(M.SET_SEEN_CONFIDENCE_CHECK_IN_SETS,e))([...a])),ie.Z.writeData({assistantLearnTasksSeenConfidenceCheckInSets:[...a]})}},we=()=>(e,t)=>{var s=t(),n=(0,v.K9)(s),a=(0,U.uf)(s),r=(0,A.Qp)(s);(0,l.Pv)((0,d.c)(),Q.I1.TASKS_RESTART_LEARN_TASK_SEQUENCE,{taskSequenceWithProgress:n,studiableId:a}),r(u.WVJ.EXIT_SCREEN,{loggerConfig:(0,d.c)()},{screen:u.HtK.RESULTS}),(0,q.u_)()&&e(Ie(!0)),e(((e,t)=>{var s=t(),n=(0,D.G$)(s);P((0,g.default)(n,(e=>{e.startTimestamp=(0,oe.S0)()}))).then((t=>{e((0,x.oE)(t.startTimestamp)),e((0,f.h5)([])),e(Ae())})).catch((e=>(0,c.f)("Error updating user studyable; reason: "+e,!1)))}))},Ce=()=>(e,t)=>{var s="/"+(0,U.uf)(t())+"/learn/finish-onboarding";(0,se.cZ)(s).catch((e=>{m.Z.warn("Error marking onboarding complete for Learn mode. User is able to continue Learn but will see onboarding next session.",e.message)})),e(ve())},Oe=e=>(t,s)=>{t((0,x.sL)(e));var n=(0,D.Id)(s());t((0,f.DQ)({acceptsPartialAnswer:e,levenshteinPlus:n}))},Ne=e=>(t,s)=>{var n;t((0,f.DQ)({acceptsPartialAnswer:null!=(n=(0,D.R9)(s()))&&n,levenshteinPlus:e}))},xe=()=>e=>{var t="simplified"===a.Z.getFeatureFlagOrTestVariantWithoutEnrolling("SimplifiedGoalIntakeM1")?K.py.TASK_SEQUENCE_COMPLETION_CHECKPOINT_NON_PLUS:K.py.TASK_SEQUENCE_COMPLETION_CHECKPOINT_PLUS;(0,E.batch)((()=>{e(Ie()),e(le(t))}))},De=function(e,t,s,n,a){return void 0===s&&(s=!1),void 0===n&&(n=!1),(r,o)=>{var i,l,d=o(),u=null==p.Z||null==(i=p.Z.user)?void 0:i.id,c=(0,U.uf)(d),m=(0,L.RG)(d),_=(0,L.vf)(d),g=(0,v.C9)(d);u&&(l={userId:u,setId:c,goal:m,knowledgeLevel:_,source:t},void 0!==a&&(l=Object.assign({},l,{confidenceLevel:a})),s&&(l=Object.assign({},l,{taskSequenceProgress:g})),(0,q.TI)(e,l,n))}},Le=()=>(e,t)=>{e(De(F.Q.SKIP_CLICKED,u.nb.TASK_SEQUENCE_COMPLETION)),e(xe())},ke=e=>(t,s)=>{t(De(F.Q.CONTINUE_CLICKED,u.nb.TASK_SEQUENCE_COMPLETION)),t(De(F.Q.CONFIDENCE_LEVEL_SUBMITTED,u.nb.TASK_SEQUENCE_COMPLETION,!0,!1,e)),t(xe())},Re=()=>(e,t)=>{var s=t(),n=(0,U.uf)(s),a=(0,G.Zj)(s),r=a.filter((e=>e===n)).length;r>=H.j1?m.Z.error("measure_user_confidence_modal","Modal has already appeared "+r+" times for setId: "+n):(a=[...a,n],e((e=>(0,J.action)(M.SET_SEEN_CONFIDENCE_CHECK_IN_MODAL_SETS,e))([...a])),ie.Z.writeData({assistantLearnTasksSeenConfidenceCheckInModalSets:[...a]}))},Pe=e=>(t,s)=>{var n=s();if((0,q.u_)()){var a=(0,U.uf)(n),r=(0,U.ZM)(n);X.BX(X.Tv,e,{studiable_id:a,studiable_name:r})}},Me=e=>(t,s)=>{var n=s(),a=(0,U.uf)(n),r=(0,U.ZM)(n);X.BX(X.xh,e,{studiable_id:a,studiable_name:r})},Ze=e=>(t,s)=>{(new ae.Z).setItem(H.G4,JSON.stringify(!e)),t((e=>(0,J.action)(M.UPDATE_SHOULD_SHOW_ALTERNATIVE_QUESTION_COACHMARK,e))(e))}},"./app/j/study-modes/learn/actions/loggings.ts":(e,t,s)=>{"use strict";s.d(t,{Sk:()=>c,Pv:()=>u,Qi:()=>d});s("./node_modules/core-js/modules/es.object.assign.js");var n=s("./app/j/config/enums.ts"),a=s("./app/j/study-engine/types.ts"),r=s("./app/j/study-engine/utils.ts"),o=s("./app/j/study-modes/common/engine/selectors.ts"),i=s("./app/j/study-modes/common/logging/actions.ts"),l=(e,t)=>e===n.p7P.CORRECT?t:null,d=(e,t)=>(s,n)=>{var l=n(),d=(0,o.EY)(l);if((0,r.KX)(d)){var u={};if(d.type===a.mw.MULTIPLE_CHOICE_QUESTION){var c=d;c.options.length>0&&(u.option_count=c.options.length)}s((0,i.zD)(e,Object.assign({},t,u)))}},u=(e,t,s)=>r=>{switch(e.type){case a.xh.STRING_ANSWER:""===e.value?r(d(n.WFi.ANSWER,{correctness:t,answer_option:n.AaD.DO_NOT_KNOW})):r(d(n.WFi.ANSWER,{correctness:t,answer_text:e.value}));break;case a.xh.OPTION_INDEX_ANSWER:r(d(n.WFi.ANSWER,{answeredTermId:l(t,s),correctness:t}));break;default:throw new Error("Answer of type "+e.type+" was not logged.")}},c=e=>{var{currentQuestion:t,submittedAnswer:s,expectedAnswer:a}=e;return e=>{var r=t.options.map((e=>{var t=e.attributes.filter((e=>e.mediaType===n.DDH.TEXT)).map((e=>e.plainText));return t.length>0?t[0]:""})),o=s.value,l=a.value;e((0,i.D5)(n.Q3A.ANSWER,{option_texts:r,chosen_option_index:o,correct_option_index:l}))}}},"./app/j/study-modes/learn/actions/progression.ts":(e,t,s)=>{"use strict";s.d(t,{Eq:()=>G,bU:()=>Y,T_:()=>F,er:()=>q,L0:()=>Q,Ci:()=>V,Im:()=>W,bD:()=>B});var n=s("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),a=(s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./app/j/config/enums.ts")),r=s("./app/j/global/Rollbar.ts"),o=s("./app/j/i18n/$t.ts"),i=s("./app/j/notifications/addNotification.ts"),l=s("./app/j/notifications/Constants.ts"),d=s("./node_modules/react-redux/lib/index.js"),u=(s("./node_modules/core-js/modules/es.promise.js"),s("./app/j/syncers/SessionSyncer.ts")),c=s("./app/j/global/Quizlet.ts");function p(e,t,s){return 0===s||t.score===s?t:function(e,t,s){return t.set("score",s),t.set("lastModified",c.Z.SERVER_TIME),u.Z.save(e,t.properties),t}(e,t,s)}var m=s("./app/j/studiable-data/types.ts"),_=s("./app/j/studiable-data/utils.ts"),g=s("./app/j/study-engine/types.ts"),E=s("./app/j/study-modes/common/engine/actions.ts"),h=s("./app/j/study-modes/common/engine/question/document/selectors.ts"),S=s("./app/j/study-modes/common/engine/selectors.ts"),y=s("./app/j/study-modes/common/engine/utils/question-element-utils.ts"),f=s("./app/j/study-modes/common/grading/actions.ts"),v=s("./app/j/study-modes/common/grading/grader/longtextGradingClient.ts"),T=s("./app/j/study-modes/common/grading/selectors.ts"),A=s("./app/j/study-modes/common/grading/utils/getIsAnswerEligibleForLongtextGrading.ts"),b=s("./app/j/study-modes/common/logging/actions.ts"),j=s("./app/j/study-modes/common/sessions/actions.ts"),I=s("./app/j/study-modes/common/sessions/selectors.ts"),w=s("./app/j/study-modes/common/settings/actions.ts"),C=s("./app/j/study-modes/common/settings/selectors/index.ts"),O=s("./app/j/study-modes/common/studiable-data/document/selectors.ts"),N=s("./app/j/study-modes/learn/actions/index.ts"),x=s("./app/j/study-modes/learn/actions/loggings.ts"),D=s("./app/j/study-modes/learn/selectors.ts"),L=s("./app/j/study-modes/learn/types.ts"),k=s("./app/j/models/QStudiableAnswer.ts");s("./node_modules/core-js/modules/es.string.includes.js");function R(){return navigator.userAgent.includes("QuizletSmokeTest")}function P(){return(P=(0,n.Z)((function*(e,t,s,n){if(R())return[];var r=yield k.Z.where({personId:e,containerId:t,containerType:a.MG.SET,studyMode:a.aKJ.LEARNING_ASSISTANT}),o=new Set(s);return r.map((e=>e.properties)).filter((e=>e.timestamp>=n&&o.has(e.itemId))).map(_.lt)}))).apply(this,arguments)}var M=s("./app/j/syncers/StudiableAnswerSyncer.ts"),Z=s("./app/j/utils/tamperProofNow.ts"),U=function(e){return void 0===e&&(e=null),function(){var t=(0,n.Z)((function*(t,s){var n,{studiableItemId:r,promptSideId:o,answerSideId:i,questionType:l,sessionLuid:d}=function(e){var t=(0,I.Ug)(e),s=(0,C.Gw)(e);if(!t&&s.display.isCookieSupportEnabled)throw new Error("Session LUID is null. It should be initialized on study mode start.");var n=(0,S.wG)(e),{metadata:{studiableItemId:a,promptSide:r,answerSide:o},questionType:i}=n;if(null===a)throw new Error("Studiable item ID cannot be null for Learn mode questions.");var l=(0,O.mb)(e).find((e=>e.id===a));if(!l)throw new Error("Studiable item not found for id: "+a+".");if(!(0,_.F_)(l))throw new Error("Studiable item must be a Card.");if(null===r)throw new Error("promptSide cannot be null for Learn mode questions.");var d=l.cardSides.find((e=>e.label===r));if(!d)throw new Error("Card side "+r+" missing for studiable item id: "+a+".");if(null===o)throw new Error("answerSide cannot be null for Learn mode questions.");var u=l.cardSides.find((e=>e.label===o));if(!u)throw new Error("Card side "+o+" missing for studiable item id: "+a+".");return{promptSideId:d.sideId,answerSideId:u.sideId,studiableItemId:a,questionType:i,sessionLuid:t}}(s()),g=(null!=(n=e)?n:(0,S.ZZ)(s()).isCorrect)?a.p7P.CORRECT:a.p7P.INCORRECT,y={type:m.N.N_SIDED_CARD_ANSWER,studyModeType:a.aKJ.LEARNING_ASSISTANT,round:l,studiableItemId:r,correctness:g,timestamp:(0,Z.Z)(),promptSideIds:[o],answerSideIds:[i]},v=null;if((0,O.Sd)(s())===a.MG.FOLDER){var T=(0,h.bl)(s());v={containerId:T.studiableContainerId,containerType:T.studiableContainerType}}t((0,E.vE)([y])),t((0,f.sy)(!1)),t((0,N.BS)([y]));var A=(0,j.K_)(s());if((0,C.Gw)(s()).display.isCookieSupportEnabled){var b=yield function(e,t){var s=u.Z.getModel(e);return new Promise(((n,a)=>{if(s.isNewRecord())return u.Z.save(e,{}).then((e=>{var[t,s]=e;return n(s.properties)})).catch((e=>{var[t]=e;return a(t)}));if(s.get("lastModified")>=c.Z.SERVER_TIME)return n(s.properties);var r=p(e,s,t);return n(r.properties)}))}(d,Math.round(A)),w=(0,D.bH)(s())(Object.assign({itemType:a.zqd.N_SIDED_CARD,itemId:r,sessionId:b.id},y,v));M.Z.addAndSave(w)}}));return function(e,s){return t.apply(this,arguments)}}()},B=e=>{var{answer:{answerCorrectness:t}}=e;return e=>{e((0,x.Qi)(a.WFi.VIEW_END)),(0,d.batch)((()=>{e((0,N.P1)(!0)),e(U(t)),e((0,N.MY)())})),e((0,x.Qi)(a.WFi.VIEW_START))}};var W=e=>function(){var t=(0,n.Z)((function*(t,s){var n=s(),a=yield function(e,t,s,n){return P.apply(this,arguments)}((0,C.gP)(n),(0,O.uf)(n),(0,O.hX)(n),(0,C.SN)(n));t((0,E.h5)(a)),t((0,N.Zy)()),t((e=>t=>{t(e?(0,N.fw)():(0,N.W5)(L.py.ONBOARDING))})(e))}));return function(e,s){return t.apply(this,arguments)}}(),H=e=>(t,s)=>{try{t((0,E.xS)(e))}catch(n){throw r.Z.debug("Error grading answer in Learn mode",{current_view:(0,D.R5)(s()),current_question_type:(0,S.xP)(s()),submitted_answer:e.value}),n}},G=()=>function(){var e=(0,n.Z)((function*(e,t){var s=(0,S.tq)(t());if(!s){var n=new Error("You must compute the graded answer before selecting it."),o=t();throw r.Z.error(n,{action:"advanceAfterGradedAnswer",state:o.toJS()}),n}var{isCorrect:i}=s,l=i?a.p7P.CORRECT:a.p7P.INCORRECT;i?window.setTimeout((()=>{e(B({answer:{answerCorrectness:l}}))}),L.Qr):e(((e,t)=>{var s=t(),{isCorrect:n}=(0,S.ZZ)(s),r=(0,S.wG)(s),o=n?a.p7P.CORRECT:a.p7P.INCORRECT;switch(r.type){case g.mw.MULTIPLE_CHOICE_QUESTION:e(z(n));break;case g.mw.WRITTEN_QUESTION:case g.mw.FILL_IN_THE_BLANK_QUESTION:e(K(n));break;default:e(B({answer:{answerCorrectness:o}}))}}))}));return function(t,s){return e.apply(this,arguments)}}(),Q=e=>{var{submittedAnswer:t}=e;return function(){var e=(0,n.Z)((function*(e,s){var n={type:g.xh.STRING_ANSWER,value:t},r=(0,S.C1)(s()).gradeAnswer(n),{gradingSettingsSuggestion:d,feedback:u,isCorrect:c}=r,p=(0,S.wG)(s()),m=p.metadata.studiableItemId,_=c?a.p7P.CORRECT:a.p7P.INCORRECT;e((0,E.YC)(r));var[h,j]=[u.expectedAnswer.value,n.value],I=(0,C.qg)(s())&&(0,T.lc)(s());if(c){var O=(0,C.Xz)(s());if(I||O){var N=c?a.lcN.CORRECT:a.lcN.WRONG,D=c?1:0;e((0,f.Iu)({currentQuestion:p,submittedAnswerValue:t,expectedAnswerValue:h,gradingResult:{grade:N,model:a.l3w.KOTLIN,score:D}}))}e((0,x.Pv)(n,_,m))}else{if(!c&&I&&(0,T.lc)(s())){var L=a.p7P.INCORRECT,k=u.expectedAnswerDescription?(0,y.Sg)(u.expectedAnswerDescription).text:null;if((0,A.Z)(h,j,null==k?void 0:k.languageCode)){e((0,f.yd)(!0)),e((0,b.$N)(a.AuQ.REQUEST_START));var R=yield(0,v.Z)(h,j);R?(e((0,b.$N)(a.AuQ.REQUEST_END,{request_successful:!0})),e((0,f.sy)(!0)),L=R.responses[0].data.longtextGradingResult.grade===a.lcN.CORRECT?a.p7P.CORRECT:a.p7P.INCORRECT,e((0,f.Iu)({currentQuestion:p,submittedAnswerValue:j,expectedAnswerValue:h,gradingResult:R.responses[0].data.longtextGradingResult}))):(e((0,b.$N)(a.AuQ.REQUEST_END,{request_successful:!1})),(0,i.Z)({duration:l.th.DEFAULT,icon:"exclamation",isDismissible:!0,message:(0,o.Z)("study_modes.smart_grading.toast_notification"),onClickSecondaryAction:()=>{e((0,w.bL)(!0))},secondaryActionLabel:(0,o.Z)("study_modes.smart_grading.toast_cta")}))}var P={isCorrect:L===a.p7P.CORRECT,feedback:u,gradingSettingsSuggestion:d};return e((0,E.YC)(P)),e((0,f.yd)(!1)),void e((0,x.Pv)(n,_,m))}e((0,x.Pv)(n,_,m))}}));return function(t,s){return e.apply(this,arguments)}}()},F=e=>{var{value:t}=e;return function(){var e=(0,n.Z)((function*(e,s){e(H({type:g.xh.OPTION_INDEX_ANSWER,value:t}));var n=(0,S.ZZ)(s()),{feedback:r,isCorrect:o}=n,i=r.submittedAnswer,l=(0,S.wG)(s()),d=l.metadata.studiableItemId;e((0,x.Sk)({currentQuestion:l,submittedAnswer:i,expectedAnswer:r.expectedAnswer}));var u=o?a.p7P.CORRECT:a.p7P.INCORRECT;e((0,x.Pv)(i,u,d))}));return function(t,s){return e.apply(this,arguments)}}()},q=e=>{var{value:t}=e;return e=>{var s=t===a.AaD.KNOW?a.p7P.CORRECT:a.p7P.INCORRECT;e((0,x.Qi)(a.WFi.ANSWER,{correctness:s,answer_option:t})),e(B({answer:{answerCorrectness:s}}))}},z=e=>t=>{var s={answerCorrectness:e?a.p7P.CORRECT:a.p7P.INCORRECT};t(B({answer:s}))},K=e=>t=>{var s={answerCorrectness:e?a.p7P.CORRECT:a.p7P.INCORRECT};t(B({answer:s}))},V=e=>t=>{var s={answerCorrectness:e};t((0,x.Qi)(e?a.WFi.OVERRIDE:a.WFi.OVERRIDE_TO_INCORRECT)),t((0,f.cd)()),t(B({answer:s}))},Y=()=>e=>{e((0,N.W5)(L.py.TASK_ROUND_CHECKPOINT))}},"./app/j/study-modes/learn/components/ProgressBar.tsx":(e,t,s)=>{"use strict";var n=s("./node_modules/@linaria/react/lib/index.js"),a=s("./node_modules/react/index.js"),r=s("./app/j/utils/bound-range.ts"),o=s("./app/j/utils/NumberFormatters.ts"),i=(0,n.z)("div")({name:"Bar",class:"b1bxhw81"}),l=(0,n.z)("div")({name:"Progress",class:"pwi055w"});function d(e){var{max:t,value:s}=e,n=(0,r.Z)(Math.round((0,o.nr)(s,t)),0,100);return a.createElement(i,null,a.createElement(l,{"data-testid":"ProgressBar-progress",style:{width:n+"%"}}))}t.Z=a.memo(d),s("./.linaria-cache/app/j/study-modes/learn/components/ProgressBar.linaria.css")},"./app/j/study-modes/learn/constants.ts":(e,t,s)=>{"use strict";s.d(t,{wk:()=>a,G4:()=>r,j1:()=>o,s$:()=>n});var n,a=250,r="HasSeenAlternativeQuestionCoachmark",o=2;!function(e){e.CLOSE_OPTIONS_MODAL_FROM_LEARN="closing_setting_screen_back_to_learn"}(n||(n={}))},"./app/j/study-modes/learn/selectors.ts":(e,t,s)=>{"use strict";s.d(t,{R5:()=>E,CY:()=>h,nc:()=>S,KL:()=>y,AL:()=>v,sQ:()=>T,Rn:()=>A,JK:()=>b,ey:()=>j,Zl:()=>I,bH:()=>w,s7:()=>C,jZ:()=>O,t0:()=>N,nL:()=>x,yP:()=>D,Ud:()=>L,O8:()=>k,MR:()=>R,Zj:()=>P,qb:()=>M,O7:()=>Z,iL:()=>U,w0:()=>B});s("./node_modules/core-js/modules/es.string.includes.js");var n=s("./node_modules/reselect/lib/index.js"),a=s("./app/j/study-engine/types.ts"),r=s("./app/j/study-modes/common/engine/question/document/selectors.ts"),o=s("./app/j/study-modes/common/engine/selectors.ts"),i=s("./app/j/study-modes/common/metering/selectors.ts"),l=s("./app/j/study-modes/common/studiable-data/selectors.ts"),d=s("./app/j/study-modes/learn/constants.ts"),u=s("./app/j/study-modes/learn/tasks/utils/measureUserConfidenceUtils.ts"),c=s("./app/j/study-modes/learn/types.ts"),p=s("./app/j/study-modes/learn/utils/index.ts"),m=s("./app/j/study-modes/spell/types.ts"),_=s("./app/j/study-modes/write/types.ts"),g=e=>e.get("learnMode"),E=(0,n.createSelector)(g,(e=>null==e?void 0:e.view)),h=(0,n.createSelector)(g,(e=>{var t;return null==(t=e.shouldShowAlternativeQuestionCoachmark)||t})),S=(0,n.createSelector)(g,(e=>{var t;return null!=(t=e.shouldShowTasksOnboarding)&&t})),y=((0,n.createSelector)(E,(e=>e===c.py.LOADING)),(0,n.createSelector)((e=>e),(e=>{var t,s,n;return(null==(t=e.get("learnMode"))?void 0:t.view)===c.py.AD_MODAL||(null==(s=e.get("write"))?void 0:s.currentView)===_.i9.AD_MODAL||(null==(n=e.get("spellMode"))?void 0:n.currentView)===m.f.AD_MODAL}))),f=(0,n.createSelector)(E,(e=>e===c.py.QUESTION)),v=((0,n.createSelector)(g,(e=>e.isSponsoredRewardRedeemUIDisabled)),(0,n.createSelector)(g,(e=>e.isAdvancing))),T=(0,n.createSelector)(g,(e=>e.hideFlashcardShortcuts)),A=(0,n.createSelector)(l.cg,(e=>void 0!==e)),b=(0,n.createSelector)(g,(e=>e.checkpointCounter)),j=(0,n.createSelector)(g,(e=>e.lastStudyModeAdTimestamp)),I=(0,n.createSelector)(f,(e=>e)),w=((0,n.createSelector)(o.zt,(e=>{var t=e.masteryBuckets;return{unfamiliar:t.unfamiliar,familiar:t.familiar,knownWell:t.mastered}})),(0,n.createSelector)(o.zt,(e=>e.studyProgress)),(0,n.createSelector)(g,(e=>e.buildNSidedCardAnswer))),C=(0,n.createSelector)(o.IQ,(e=>e.numItemsCompleted)),O=(0,n.createSelector)(o.IQ,(e=>e.numTotalItems)),N=((0,n.createSelector)(l.mb,(e=>e.length)),(0,n.createSelector)(o.ZZ,(e=>{if(!e.feedback.submittedAnswer)throw new Error("You cannot get the submitted written answer value if the submitted answer is null");if(e.feedback.submittedAnswer.type!==a.xh.STRING_ANSWER)throw new Error("Submitted answer type should be "+a.xh.STRING_ANSWER+", but got "+e.feedback.submittedAnswer.type);return e.feedback.submittedAnswer.value})),(0,n.createSelector)(o.ZZ,(e=>{if(e.feedback.expectedAnswer.type!==a.xh.STRING_ANSWER)throw new Error("Expected answer type should be "+a.xh.STRING_ANSWER+", but got "+e.feedback.expectedAnswer.type);return e.feedback.expectedAnswer.value})),(0,n.createSelector)(r.Yt,(e=>!e))),x=(0,n.createSelector)(g,(e=>{var t;return null!=(t=e.shouldSeeSpellWriteCoachmark)&&t})),D=(0,n.createSelector)(g,(e=>e.isSettingsMerged)),L=(0,n.createSelector)([v,o.wG,l.QV,r.P],((e,t,s,n)=>{if(e)return null;if(![a.mw.WRITTEN_QUESTION,a.mw.MULTIPLE_CHOICE_QUESTION].includes(t.type))return null;var r=null==s?void 0:s[n];return r?(0,p.uI)(r,t):null})),k=(0,n.createSelector)([E],(e=>{var{TASK_ROUND_CHECKPOINT:t,TASK_COMPLETION_CHECKPOINT_NON_PLUS:s}=c.py;return[t,s].includes(e)})),R=(0,n.createSelector)(g,(e=>{var t;return null!=(t=e.seenConfidenceCheckInSets)?t:[]})),P=(0,n.createSelector)(g,(e=>{var t;return null!=(t=e.seenConfidenceCheckInModalSets)?t:[]})),M=(0,n.createSelector)([P,E,l.uf,o.ut],((e,t,s,n)=>{var a;if(!(0,u.u_)())return!1;var r=e.filter((e=>e===s)).length,o=void 0===r||r<d.j1,i=t!==c.py.TASK_SEQUENCE_COMPLETION_CHECKPOINT_PLUS&&t!==c.py.TASK_MEASURE_CONFIDENCE,l=null==(a=n.taskRoundProgress)?void 0:a.numItemsCompleted;return o&&i&&(void 0!==l&&l>0)})),Z=(0,n.createSelector)([i.Pi,E],((e,t)=>null===e?null:t===c.py.TASK_ROUND_CHECKPOINT||t===c.py.TASK_COMPLETION_CHECKPOINT_PLUS?e:e+1)),U=(0,n.createSelector)([Z,i.jM],((e,t)=>null===e||t?null:e+1)),B=(0,n.createSelector)(g,(e=>{var t;return null!=(t=e.shouldSeeCreateClassToast)&&t}))},"./app/j/study-modes/learn/tasks/components/TasksConfidenceCheckIn.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>x});var n=s("./node_modules/@babel/runtime/helpers/esm/extends.js"),a=(s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.parse-int.js"),s("./node_modules/@linaria/react/lib/index.js")),r=s("./node_modules/@react-aria/interactions/dist/main.js"),o=s("./app/j/assembly/buttons/index.ts"),i=s("./app/j/assembly/foundations/Color.ts"),l=s("./app/j/assembly/modals/index.ts"),d=s("./app/j/config/enums.ts"),u=s("./app/j/i18n/useTranslation.ts"),c=s("./node_modules/polished/dist/polished.cjs.js"),p=s("./node_modules/react/index.js"),m=(0,a.z)("div")({name:"TasksConfidenceCheckInCard0",class:"t1o2i9dh",vars:{"t1o2i9dh-2":[e=>e.isSelected?i.fY.Indigo400Neutral400:i.fY.Neutral200Ink200],"t1o2i9dh-4":[e=>e.isSelected?i.fY.Indigo400Neutral400:i.fY.Neutral400Ink100]}});s("./.linaria-cache/app/j/study-modes/learn/tasks/components/TasksConfidenceCheckInCard.linaria.css");var _=s("./app/j/study-modes/learn/tasks/types.ts"),g=s("./app/i/tasks/confidence/not_confident.svg"),E=s("./app/i/tasks/confidence/somewhat_confident.svg"),h=s("./app/i/tasks/confidence/very_confident.svg"),S=s("./app/j/utils/isNightTheme.ts"),y=((0,c.hO)(180),(0,c.hO)(156),(0,c.hO)(104),(0,c.hO)(76),(0,c.hO)(83),(0,a.z)("div")({name:"Wrapper",class:"w1r5tngh"})),f=(0,a.z)("div")({name:"ContentContainer",class:"c1ufbptg"}),v=(0,a.z)("h2")({name:"TasksConfidenceCheckInTitle",class:"t1m7qbq7"}),T=(0,a.z)("div")({name:"TasksConfidenceCheckInPrompt",class:"t1u8jntd"}),A=(0,a.z)("div")({name:"TasksConfidenceCardandCTAWrapper",class:"t12de6qf"}),b=(0,a.z)("div")({name:"ConfidenceCardSection",class:"c7720zh"}),j=(0,a.z)("div")({name:"ConfidenceCardImageWrapper",class:"c18obtbe",vars:{"c18obtbe-0":[e=>e.backgroundColor]}}),I=(0,a.z)("div")({name:"ConfidenceCardTitle",class:"c139i5bw"}),w=(0,a.z)("div")({name:"CTASection",class:"c1g0uphf"}),{NOT_CONFIDENT:C,SOMEWHAT_CONFIDENT:O,VERY_CONFIDENT:N}=d.bwW;function x(e){var{actions:{logConfidenceCheckInAction:t,onContinue:s,onClose:a,onSkip:c},modalInfo:N,source:x}=e,[D,L]=(0,p.useState)(null),{t:k}=(0,u.Z)();(0,p.useEffect)((()=>{if(void 0===N||null!=N&&N.isOpen){var e,s=null!=(e=null==N?void 0:N.shouldIncludeTaskSequenceProgress)&&e;t(_.Q.VIEW,x,s,!1)}}),[null==N?void 0:N.isOpen]);var{pressProps:R}=(0,r.usePress)({onPress:e=>(e=>{var t=parseInt(e.target.id,10);t!==D&&L(t)})(e)}),P=e=>{var{backgroundColor:t,imageSrc:s,imageAltText:a,titleElement:r}=(e=>{switch(e){case C:return{backgroundColor:"#e9f9ff",imageSrc:g,imageAltText:k("assistant.tasks.measure_user_confidence.confidence_levels.not_confident"),titleElement:k("assistant.tasks.measure_user_confidence.confidence_levels.not_confident")};case O:return{backgroundColor:i.B7.$100,imageSrc:E,imageAltText:k("assistant.tasks.measure_user_confidence.confidence_levels.somewhat_confident"),titleElement:k("assistant.tasks.measure_user_confidence.confidence_levels.somewhat_confident")};default:return{backgroundColor:i.SA.$100,imageSrc:h,imageAltText:k("assistant.tasks.measure_user_confidence.confidence_levels.very_confident"),titleElement:k("assistant.tasks.measure_user_confidence.confidence_levels.very_confident")}}})(e);return p.createElement(m,(0,n.Z)({id:""+e,isSelected:e===D,key:e},R,{tabIndex:0}),p.createElement(j,{backgroundColor:(0,S.Z)()?i.Kz.$200:t},p.createElement("img",{alt:a,src:s})),p.createElement(I,null,r))},M=p.createElement(b,null,P(d.bwW.NOT_CONFIDENT),P(d.bwW.SOMEWHAT_CONFIDENT),P(d.bwW.VERY_CONFIDENT)),Z=p.createElement(o.B0,{"aria-label":k("assistant.tasks.measure_user_confidence.ctas.skip_cta"),isFullWidth:void 0===N,onClick:c,size:"large",text:k("assistant.tasks.measure_user_confidence.ctas.skip_cta")}),U=p.createElement(o.wI,{"aria-label":k("assistant.tasks.measure_user_confidence.ctas.continue_cta"),disabled:null===D,isFullWidth:void 0===N,onClick:()=>{null!==D&&s(D)},size:"large",text:k("assistant.tasks.measure_user_confidence.ctas.continue_cta")}),B=()=>{a&&a()},W=k("assistant.tasks.measure_user_confidence.title"),H=k("assistant.tasks.measure_user_confidence.description");return N?p.createElement(l.g,{body:M,includeFooterBorder:!1,isOpen:null==N?void 0:N.isOpen,onClose:B,primaryAction:U.props,secondaryAction:Z.props,subtitle:H,title:W}):p.createElement(y,null,p.createElement(f,null,p.createElement(v,null,W),p.createElement(T,null,H),p.createElement(A,null,M,p.createElement(w,null,Z,U))))}s("./.linaria-cache/app/j/study-modes/learn/tasks/components/TasksConfidenceCheckIn.linaria.css")},"./app/j/study-modes/learn/tasks/constants.ts":(e,t,s)=>{"use strict";s.d(t,{ow:()=>n,I1:()=>a,N_:()=>i,Fp:()=>l,I0:()=>d,cq:()=>u,ik:()=>c});var n,a,r=s("./app/j/assembly/foundations/Spacing.ts"),o=s("./node_modules/polished/dist/polished.cjs.js");!function(e){e.FEEDBACK="feedbackLink",e.ASSEMBLY_SECONDARY="assemblySecondary"}(n||(n={})),function(e){e.TASKS_BACK_TO_SET_PAGE_CLICK="TASKS_BACK_TO_SET_PAGE_CLICK",e.TASKS_ESCAPE_HATCH_LINK_CLICK="tasks_escape_hatch_link_click",e.TASKS_HEADER_SET_NAME_CLICKED="tasks_header_set_name_clicked",e.TASKS_NON_PLUS_COMPLETION_CHECKPOINT_CONTINUE_STUDYING="tasks_non_plus_completion_checkpoint_continue_studying",e.TASKS_NON_PLUS_COMPLETION_CHECKPOINT_SCREEN_LOAD="tasks_non_plus_completion_checkpoint_screen_load",e.TASKS_ONBOARDING_MODAL_CANCEL="tasks_onboarding_modal_cancel",e.TASKS_ONBOARDING_MODAL_CLOSE="tasks_onboarding_modal_close",e.TASKS_ONBOARDING_MODAL_LOAD="tasks_onboarding_modal_load",e.TASKS_PLUS_COMPLETION_CHECKPOINT_CONTINUE_STUDYING="tasks_plus_completion_checkpoint_continue_studying",e.TASKS_PLUS_COMPLETION_CHECKPOINT_SCREEN_LOAD="tasks_plus_completion_checkpoint_screen_load",e.TASKS_RESTART_LEARN_TASK_SEQUENCE="tasks_restart_learn_task_sequence",e.TASKS_ROUND_CHECKPOINT_AUDIO_CLICKED="tasks_round_checkpoint_audio_clicked",e.TASKS_ROUND_CHECKPOINT_SCREEN_LOAD="tasks_round_checkpoint_screen_load",e.TASKS_ROUND_CHECKPOINT_STAR_CLICKED="tasks_round_checkpoint_star_clicked",e.TASKS_ROUND_CHECKPOINT_STUDIED_TERMS="tasks_round_checkpoint_studied_terms",e.TASKS_SKIP_PERSONALIZATION_CANCEL_CLICK="tasks_skip_personalization_cancel_click",e.TASKS_SKIP_PERSONALIZATION_CONFIRM_CLICK="tasks_skip_personalization_confirm_click"}(a||(a={}));(0,o.hO)(646);var i="https://www.surveymonkey.com/r/WQVLF9Z",l="https://www.surveymonkey.com/r/WJPDJQ8",d="https://www.surveymonkey.com/r/73XPHJ9",u=((0,o.hO)(468),(0,o.hO)(940)),c=((0,o.hO)(104),(0,o.hO)(76),(0,o.hO)(100),r.Ki.Xlarge)},"./app/j/study-modes/learn/tasks/types.ts":(e,t,s)=>{"use strict";s.d(t,{n:()=>n,Q:()=>a});var n,a,r=s("./app/j/config/study-setting-metadata.ts");!function(e){e[e.FILL_IN_THE_BLANK=r.td.bitValues.fillInTheBlank]="FILL_IN_THE_BLANK",e[e.MULTIPLE_CHOICE=r.td.bitValues.multipleChoice]="MULTIPLE_CHOICE",e[e.REVEAL_SELF_ASSESSMENT=r.td.bitValues.revealSelfAssessment]="REVEAL_SELF_ASSESSMENT",e[e.WRITTEN=r.td.bitValues.written]="WRITTEN"}(n||(n={})),function(e){e.CONTINUE_CLICKED="tasks_measure_confidence_continue_clicked",e.NO_TEST="tasks_measure_confidence_no_test",e.EXIT_CLICKED="tasks_measure_confidence_exit_clicked",e.SKIP_CLICKED="tasks_measure_confidence_skip_clicked",e.CONFIDENCE_LEVEL_SUBMITTED="tasks_measure_confidence_confidence_level_submitted",e.VIEW="tasks_measure_confidence_view"}(a||(a={}))},"./app/j/study-modes/learn/tasks/utils/measureUserConfidenceUtils.ts":(e,t,s)=>{"use strict";s.d(t,{TI:()=>h,C8:()=>S,u_:()=>y});s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.string.search.js"),s("./node_modules/core-js/modules/es.object.assign.js");var n,a=s("./app/j/config/enums.ts"),r=s("./app/j/global/Quizlet.ts"),o=s("./app/j/study-modes/learn/tasks/types.ts"),i=s("./app/j/study-modes/learn/utils/index.ts"),l=s("./app/j/utils/log-page-action.ts"),d=s("./app/j/utils/urlHelper.ts"),u="utm_source",c="utm_medium",p="utm_campaign",m="setid",_="userid",g=[u,c,p,m,_];!function(e){e.NOT_CONFIDENT="not-confident",e.SOMEWHAT_CONFIDENT="somewhat-confident",e.VERY_CONFIDENT="very-confident",e.NO_TEST="no-test"}(n||(n={}));var E={[n.NOT_CONFIDENT]:a.bwW.NOT_CONFIDENT,[n.SOMEWHAT_CONFIDENT]:a.bwW.SOMEWHAT_CONFIDENT,[n.VERY_CONFIDENT]:a.bwW.VERY_CONFIDENT,[n.NO_TEST]:null};function h(e,t,s){void 0===s&&(s=!1),(0,l.Z)(e,t,{sendImmediate:s})}function S(){var e=(0,d.h)(window.location.search);if(g.every((t=>e.has(t)))){var t,s,n=e.get(p),r=e.get(c),i=e.get(u),l=Number(null!=(t=e.get(_))?t:null),S=Number(null!=(s=e.get(m))?s:null);if("measure-confidence"===n&&"email"===r&&i&&l&&S){var y=E[i],f={userId:l,setId:S,source:a.nb.EMAIL},v=null!==y?Object.assign({},f,{confidenceLevel:y}):f;h(null!==y?o.Q.CONFIDENCE_LEVEL_SUBMITTED:o.Q.NO_TEST,v)}}}function y(){var e,t=null==r.Z?void 0:r.Z.user;return null!=(e=t&&!t._isUnderAge&&(0,i.OH)())&&e}},"./app/j/study-modes/learn/tasks/utils/taskSequenceHelpers.ts":(e,t,s)=>{"use strict";s.d(t,{J$:()=>r,Gc:()=>o,ef:()=>i,Zx:()=>l,bN:()=>d});var n=s("./app/j/config/enums.ts");function a(e){var t;return(null==(t=e.questionSource)?void 0:t.studiableMetadataType)===n._KG.ALTERNATIVE_QUESTION&&e.isSkipped}function r(e){var{task:t}=e,s=t.questionTypes,n=e.progressByQuestionType;return s.every((e=>{var{numItemsCompleted:s,numTotalItems:r}=n[e];return!a(t)&&s===r}))}function o(e){var{task:t}=e,s=t.questionTypes,n=e.progressByQuestionType;return s.some((e=>{var{numItemsCompleted:s}=n[e];return!a(t)&&s>0}))}function i(e){return e.filter((e=>{var{task:t}=e;return!t.isSkipped})).every((e=>r(e)))}function l(e){var t=e.findIndex((e=>!r(e)));return-1===t?e.length-1:t}function d(e,t){return e>1&&0===t}},"./app/j/study-modes/learn/types.ts":(e,t,s)=>{"use strict";s.d(t,{py:()=>n,qk:()=>r,Qr:()=>d,FE:()=>l});var n,a,r,o,i=s("./app/j/study-engine/types.ts");!function(e){e[e.AD_MODAL=0]="AD_MODAL",e[e.LOADING=1]="LOADING",e[e.ONBOARDING=2]="ONBOARDING",e[e.QUESTION=3]="QUESTION",e[e.TASK_ROUND_CHECKPOINT=4]="TASK_ROUND_CHECKPOINT",e[e.TASK_COMPLETION_CHECKPOINT_PLUS=5]="TASK_COMPLETION_CHECKPOINT_PLUS",e[e.TASK_COMPLETION_CHECKPOINT_NON_PLUS=6]="TASK_COMPLETION_CHECKPOINT_NON_PLUS",e[e.TASK_SEQUENCE_COMPLETION_CHECKPOINT_PLUS=7]="TASK_SEQUENCE_COMPLETION_CHECKPOINT_PLUS",e[e.TASK_SEQUENCE_COMPLETION_CHECKPOINT_NON_PLUS=8]="TASK_SEQUENCE_COMPLETION_CHECKPOINT_NON_PLUS",e[e.TASK_MEASURE_CONFIDENCE=9]="TASK_MEASURE_CONFIDENCE",e[e.PAYWALL=10]="PAYWALL"}(n||(n={})),function(e){e.UNFAMILIAR="unfamiliar",e.FAMILIAR="familiar",e.KNOWN_WELL="knownWell"}(a||(a={})),function(e){e[e.FILL_IN_THE_BLANK_QUESTION=i.mw.FILL_IN_THE_BLANK_QUESTION]="FILL_IN_THE_BLANK_QUESTION",e[e.MULTIPLE_CHOICE_QUESTION=i.mw.MULTIPLE_CHOICE_QUESTION]="MULTIPLE_CHOICE_QUESTION",e[e.REVEAL_SELF_ASSESSMENT_QUESTION=i.mw.REVEAL_SELF_ASSESSMENT_QUESTION]="REVEAL_SELF_ASSESSMENT_QUESTION",e[e.WRITTEN_QUESTION=i.mw.WRITTEN_QUESTION]="WRITTEN_QUESTION"}(r||(r={})),function(e){e.PROMPT="promptSide",e.ANSWER="answerSide"}(o||(o={}));var l,d=800;!function(e){e.AVAILABLE="question_hint_available",e.BTN_CLICKED="question_hint_btn_clicked",e.ADVANCED_QUESTION="question_hint_advanced_question"}(l||(l={}))},"./app/j/study-modes/learn/utils/gradedAnswers.ts":(e,t,s)=>{"use strict";function n(e){return null!==e}function a(e,t){var s;return!!e&&(null==(s=e.feedback.expectedAnswer)?void 0:s.value)===t}function r(e,t){if(null===e)return!1;var{submittedAnswer:s}=e.feedback;return!e.isCorrect&&(null==s?void 0:s.value)===t}function o(e){return!1===(null==e?void 0:e.isCorrect)}function i(e){return!0===(null==e?void 0:e.isCorrect)}s.d(t,{eC:()=>n,Qi:()=>a,fV:()=>r,uL:()=>o,e0:()=>i})},"./app/j/study-modes/learn/utils/index.ts":(e,t,s)=>{"use strict";s.d(t,{pj:()=>_,uI:()=>g,Zz:()=>E,DW:()=>h,cR:()=>S,OH:()=>y,T7:()=>f});s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.object.values.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./app/j/ab_tests/QMeasure.ts"),a=s("./app/j/config/enums.ts"),r=s("./app/j/config/study-setting-metadata.ts"),o=s("./app/j/global/Quizlet.ts"),i=s("./app/j/global/Rollbar.ts"),l=s("./app/j/study-modes/common/engine/utils/question-element-utils.ts"),d=s("./app/j/study-modes/learn/tasks/types.ts"),u=s("./app/j/study-modes/learn/types.ts"),c=s("./app/j/utils/AuBtsExperimentHelper.ts"),p=s("./app/j/utils/log-page-action.ts"),m=s("./app/j/utils/metering/MeteringPlusPhasedRolloutExperiment.ts"),_=e=>Object.values(u.qk).includes(e.type);function g(e,t){var s,{sentence:n,spanStartIndex:a,spanLength:r,vocabTerm:o}=e,i=n.slice(a,a+r),d=(null!=(s=(0,l.dC)(t.prompt))?s:"")===o?i:null;return{preTerm:n.slice(0,a),vocabTerm:d,postTerm:n.slice(a+r)}}function E(e){var{revealSelfAssessment:t,multipleChoice:s,written:n,fillInTheBlank:a}=r.td.bitValues,o=[t,s,n,a];return e.filter((e=>o.includes(e)))}function h(e){var t=new Set;return e.forEach((e=>{var s;switch(e[0]){case d.n.FILL_IN_THE_BLANK:s="fill_in_the_blank";break;case d.n.MULTIPLE_CHOICE:s="multiple_choice";break;case d.n.REVEAL_SELF_ASSESSMENT:s="reveal_self_assessment";break;case d.n.WRITTEN:s="written";break;default:s=""}var n=e[1];if(n)switch(n.studiableMetadataType){case a._KG.ALTERNATIVE_QUESTION:s=s.concat(" alternative_questions");break;case a._KG.FILL_IN_THE_BLANK_KEYPHRASES:s=s.concat(" fill_in_the_blank_keyphrases");break;case a._KG.ITEM_DIFFICULTY:s=s.concat(" item_difficulty");break;case a._KG.ML_DISTRACTORS:s=s.concat(" ml_distractors")}t.add(s)})),t}function S(e){var{action:t,questionSessionId:s,questionHint:n}=e,a={question_session_id:s,question_hint:n};n&&s?(0,p.Z)(t,a):i.Z.error("Invalid question hint log state: questionHint: "+n+" questionSessionId: "+s)}var y=function(e){var t,s,r,i;return void 0===e&&(e=null),(null==(t=e)?void 0:t.type)===a.XsQ.PLUS||(null==(s=e)?void 0:s.type)===a.XsQ.TEACHER||(null==(r=o.Z.user)?void 0:r.type)===a.XsQ.PLUS||(null==(i=o.Z.user)?void 0:i.type)===a.XsQ.TEACHER||(0,c.z)(o.Z.countryCode,n.Z,o.Z.user)||(0,m.XB)()},f=function(e){var t,s;return void 0===e&&(e=null),(null==(t=e)?void 0:t.type)===a.XsQ.NO_UPGRADE||!o.Z.user||(null==(s=o.Z.user)?void 0:s.type)===a.XsQ.NO_UPGRADE}},"./app/j/study-modes/spell/actions/constants.ts":(e,t,s)=>{"use strict";var n;s.d(t,{M:()=>n}),function(e){e.ADD_TO_ANSWER_HISTORIES="SPELL.ADD_TO_ANSWER_HISTORIES",e.ADVANCED_TO_NEXT_STEP="SPELL.ADVANCED_TO_NEXT_STEP",e.SET_LOADING_ANIMATION="SPELL.SET_LOADING_ANIMATION",e.FADE_OUT_STEP="SPELL.FADE_OUT_STEP",e.SET_ANSWER_HISTORIES="SPELL.SET_ANSWER_HISTORIES",e.SET_CURRENT_ROUND="SPELL.SET_CURRENT_ROUND",e.SET_CURRENT_VIEW="SPELL.SET_CURRENT_VIEW"}(n||(n={}))},"./app/j/study-modes/spell/actions/index.ts":(e,t,s)=>{"use strict";s.d(t,{Rd:()=>$,kG:()=>ne,Ot:()=>Y,xS:()=>te,JQ:()=>x,pJ:()=>h.pJ,Gj:()=>K,oq:()=>V,xQ:()=>se,dl:()=>q});var n=s("./node_modules/lodash/last.js"),a=s.n(n),r=(s("./node_modules/core-js/modules/es.object.assign.js"),s("./app/j/config/enums.ts")),o=s("./app/j/i18n/LocalizationConstants.ts"),i=s("./app/j/legacyAssistant/types/QAssistantModeTypes.ts"),l=s("./node_modules/nullthrows/nullthrows.js"),d=s.n(l),u=s("./node_modules/react-redux/lib/index.js"),c=s("./node_modules/redux-actions/lib/index.js"),p=s("./app/j/study-engine/factory.ts"),m=s("./app/j/study-engine/types.ts"),_=s("./app/j/study-modes/common/engine/actions.ts"),g=s("./app/j/study-modes/common/engine/question/selectors.ts"),E=s("./app/j/study-modes/common/engine/selectors.ts"),h=s("./app/j/study-modes/common/logging/actions.ts"),S=s("./app/j/study-modes/common/sessions/actions.ts"),y=s("./app/j/study-modes/common/sessions/selectors.ts"),f=s("./app/j/study-modes/common/settings/actions.ts"),v=s("./app/j/study-modes/common/settings/selectors/index.ts"),T=s("./app/j/study-modes/common/settings/utils/index.ts"),A=s("./app/j/study-modes/common/studiable-data/selectors.ts"),b=s("./app/j/study-modes/common/utils/studyModeAdHelper.ts"),j=s("./app/j/study-modes/spell/actions/constants.ts"),I=s("./app/j/study-modes/spell/selectors.ts"),w=(0,c.PH)(j.M.ADD_TO_ANSWER_HISTORIES),C=(0,c.PH)(j.M.SET_ANSWER_HISTORIES),O=e=>t=>{t((0,_.vE)(e)),t((e=>(t,s)=>{var n=s(),a=(0,v.zg)(n);t(w({isStarredOnly:a,newAnswers:e}))})(e))},N=function(e){return void 0===e&&(e=!1),(t,s)=>{if(e){var n=s(),a=(0,I.FV)(n),r=(0,v.zg)(n)?a.starred:a.unstarred;t((0,_.h5)(r))}else t((0,_.h5)([])),t((o=[],(e,t)=>{var s=t(),n=(0,v.zg)(s);e(C({isStarredOnly:n,newAnswers:o}))}));var o}},x=(e,t)=>(s,n)=>{var a=n(),r=(0,I.oI)(a),o=(0,I.v9)(a);s((0,h.lV)(e,Object.assign({prompt_has_answer_audio:!!r,prompt_has_image:o},t)))},D={acceptsPartialAnswer:!1,promptWith:{term:!1,definition:!0,location:!1},answerWith:{term:!0,definition:!1,location:!1},questionTypes:{copyAnswer:!1,fillInTheBlank:!1,matching:!1,multipleChoice:!1,multipleChoiceWithNoneOption:!1,revealSelfAssessment:!1,written:!1,spelling:!0},locationQuestionTypes:void 0,writtenTypes:{term:!1,definition:!1}},L=s("./app/j/study-modes/spell/types.ts"),k=s("./app/j/study-modes/spell/utils/analysisItemUtils.ts"),R=s("./app/j/studiable-data/types.ts"),P=s("./app/j/utils/tamperProofNow.ts");var M=s("./app/j/syncers/StudiableAnswerSyncer.ts"),Z=s("./node_modules/typesafe-actions/dist/typesafe-actions.umd.production.js"),U=(0,c.PH)(j.M.SET_LOADING_ANIMATION),B=(0,c.PH)(j.M.FADE_OUT_STEP),W=(0,c.PH)(j.M.ADVANCED_TO_NEXT_STEP),H=(0,c.PH)(j.M.SET_CURRENT_ROUND),G=function(e){return void 0===e&&(e=!1),(t,s)=>{var n,a=s(),r=(0,E.EY)(a),o=(0,E.zt)(a),i=(0,E.z5)(a);if(r.type===m.mw.SPELLING_QUESTION&&(n=e&&0===i.length?L.f.ONBOARDING:L.f.QUESTION),r.type===m.ju.CHECKPOINT&&(n=100===Math.floor(o.studyProgress)?L.f.END:L.f.CHECKPOINT),!n)throw new Error("Cannot find next study view");t(W(n))}},Q=()=>(e,t)=>{var s=t(),{denominator:n}=(0,E.wT)(s),a=(0,E.z5)(s),r=(0,k.e)(a),o=(0,I.oJ)(s),{studiableItems:i}=(0,A.r9)(s),l=o;(r[o]?r[o].total:0)>=Math.min(i.length,7,n)&&(l+=1),e(H(l))},F=()=>(e,t)=>{var s,n,a=t(),r=o.ZX,l=(0,v.pE)(a),d=(0,v.e)(a),u=(0,E.z5)(a),c=(0,A.r9)(a),g={userLanguageCode:r,nSidedCardSettings:{enabledQuestionTypes:[(0,i.Q)().spelling],enabledPromptSides:(0,T.TR)(d),enabledAnswerSides:(0,T.TR)(l),enabledWrittenAnswerSides:[]},studyPath:null,studyPathGoal:null,knowledgeLevel:null,taskSequence:null},S=null!=(s=(0,v.R9)(a))&&s,y=(0,A.CF)(a);try{n=p.Z.legacyCreate(m.lt.SPELL,c,u,g,{acceptsPartialAnswer:S,levenshteinPlus:!1},false,false,y,{},{},!1)}catch(f){n=p.Z.legacyCreate(m.lt.SPELL,c,[],g,{acceptsPartialAnswer:S,levenshteinPlus:!1},false,false,y,{},{},!1)}e((0,_.ox)(n)),e((0,h.d9)())},q=()=>(e,t)=>{var s=t(),n=(0,y.sl)(s),a=(0,v.Iz)(s),r=(0,I.FV)(s),o=(0,v.zg)(s)?r.starred:r.unstarred;e((0,S.KN)({session:n})),e((0,f.D5)((0,T.HU)(D,a))),e((0,_.h5)(o)),e(F()),(0,u.batch)((()=>{e((0,_.ig)([])),e(G(!0))})),e(Q())},z=(e,t,s)=>{var n=t();(0,I.B7)(n)||(e(U(!0)),e(B(L.f.EMPTY)),setTimeout((()=>{s(),e(U(!1))}),200))},K=()=>(e,t)=>{var s=L.f.QUESTION;z(e,t,(()=>{e(W(s))}))},V=()=>(e,t)=>{var s=t(),n=(0,I.gt)(s),r=(0,E.z5)(s),o=a()(r);n&&!n.isCorrect&&z(e,t,(()=>{e(W(L.f.CORRECTION))})),null!=n&&n.isCorrect&&z(e,t,(()=>{(0,u.batch)((()=>{e((0,_.ig)([o])),e(G())})),e((0,_.YC)(null))}))},Y=()=>(e,t)=>{z(e,t,(()=>{e(W(L.f.QUESTION))}))},X=e=>{var t;e((0,f.t0)()),e((t=L.f.AD_MODAL,(0,Z.action)(j.M.SET_CURRENT_VIEW,t)))},J=e=>(0,b.$)(e)&&(0,b.W)((0,v.nI)(e())),$=()=>(e,t)=>{var s=t();if((0,I.Xh)(s)===L.f.CHECKPOINT&&J(t))X(e);else{var n=(0,I.oJ)(s);z(e,t,(()=>{e(H(n+1)),(0,u.batch)((()=>{e((0,_.ig)([])),e(G())}))}))}},ee=()=>(e,t)=>{var s=t(),n=(0,A.NN)(s),o=d()((0,E.z5)(s)),i=(0,I.oJ)(s),l=(0,E.wG)(s),u=d()((0,I.gt)(s)),{studiableItemId:c}=l.metadata,p=(0,v.Gw)(s),m=a()(o);if(!m||m.studiableItemId!==c||m.round!==i){var _=function(e){var{studiableData:t,currentRound:s,correctness:n,currentQuestion:a}=e,{studiableItemId:o,promptSide:i,answerSide:l}=a.metadata,u=t.studiableCardSides.filter((e=>e.studiableItemId===o&&e.label===i))[0].id,c=t.studiableCardSides.filter((e=>e.studiableItemId===o&&e.label===l))[0].id;return{type:R.N.N_SIDED_CARD_ANSWER,correctness:n,round:s,studiableItemId:d()(o),studyModeType:r.aKJ.SPELLER,timestamp:(0,P.Z)(),promptSideIds:[d()(u)],answerSideIds:[d()(c)]}}({studiableData:n,currentRound:i,correctness:u.isCorrect?r.p7P.CORRECT:r.p7P.INCORRECT,currentQuestion:l});p.display.isCookieSupportEnabled&&e((e=>(t,s)=>{var n=s(),a=(0,g.bl)(n).studiableContainerId,o=(0,I.bH)(n),i=Object.assign({},o(e),{containerType:r.MG.SET,containerId:a});M.Z.addAndSave(i)})(_)),e(O([_]))}},te=e=>(t,s)=>{var n=s();(0,I.B7)(n)||(t((0,_.xS)({type:m.xh.STRING_ANSWER,value:e})),t(ee()))},se=function(e){return void 0===e&&(e=!1),(t,s)=>{if("boolean"!=typeof e)throw new Error("resetProgress parameter should be type boolean. If used in association with onClick function, please wrap it in arrow function.");var n=s();if((0,I.Xh)(n)===L.f.END&&J(s))X(t);else{var a=(0,v.Iz)(n),r=!0===e?(0,y.sl)(n):null;z(t,s,(()=>{t((0,S.mc)()),t((0,S.KN)({session:r})),t((0,f.D5)((0,T.HU)(D,a))),t(N(!0===e)),t(F()),(0,u.batch)((()=>{t((0,_.ig)([])),t(G())})),t(!0===e?Q():H(1))}))}}},ne=()=>(e,t)=>{var{studyProgress:s}=(0,E.zt)(t());e(100===Math.floor(s)?se():$())}},"./app/j/study-modes/spell/selectors.ts":(e,t,s)=>{"use strict";s.d(t,{B7:()=>y,FV:()=>f,Xh:()=>v,oJ:()=>T,p4:()=>A,gt:()=>b,oI:()=>j,zx:()=>I,Im:()=>w,v9:()=>C,bH:()=>O,sw:()=>N,w2:()=>x,cP:()=>D,ZG:()=>L});s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.regexp.to-string.js");var n=s("./app/j/audio_playback/utils.ts"),a=s("./app/j/config/enums.ts"),r=s("./node_modules/nullthrows/nullthrows.js"),o=s.n(r),i=s("./node_modules/reselect/lib/index.js"),l=s("./app/j/study-engine/types.ts"),d=s("./app/j/study-modes/common/engine/question/selectors.ts"),u=s("./app/j/study-modes/common/engine/selectors.ts"),c=s("./app/j/study-modes/common/sessions/selectors.ts"),p=s("./app/j/study-modes/common/settings/selectors/index.ts"),m=s("./app/j/study-modes/common/studiable-data/selectors.ts"),_=s("./app/j/study-modes/common/studiable-data/utils/getMediaByType.ts"),g=s("./app/j/study-modes/spell/utils/analysisItemUtils.ts"),E=s("./app/j/study-modes/spell/utils/getDiffTextParts.ts"),h=s("./app/j/study-modes/spell/utils/getSpellAnalysisItems.ts"),S=e=>e.get("spellMode"),y=(0,i.createSelector)(S,(e=>e.isLoadingAnimation)),f=(0,i.createSelector)(S,(e=>e.answerHistories)),v=(0,i.createSelector)(S,(e=>e.currentView)),T=(0,i.createSelector)(S,(e=>e.currentRound)),A=(0,i.createSelector)(u.zt,(e=>{var t=e.masteryBuckets,{correctOneTime:s,correctTwoTimes:n,correctZeroTimes:a}=t;return s.length+n.length+a.length})),b=u.tq,j=(0,i.createSelector)(d.xP,p.o3,((e,t)=>e?(0,h.v)(e,t):null)),I=(0,i.createSelector)(d.xP,d.fT,((e,t)=>{var s=(0,_.JZ)(e),n=(0,_.JZ)(t);return!(!s||!n)&&(s.text.plainText===n.text.plainText&&s.text.richText===n.text.richText)})),w=(0,i.createSelector)(d.xP,(e=>{if(!e)return null;var t=(0,_.JZ)(e);return t&&t.text.ttsUrl?(0,n.lg)({studiableCardSide:e,url:t.text.ttsUrl+"&spell=1"}):null})),C=(0,i.createSelector)(d.fT,(e=>!!(0,_.GI)(e))),O=(0,i.createSelector)(c.sl,(e=>{var t=o()(e);return e=>Object.assign({sessionId:t.id,personId:t.personId.toString(),studyMode:a.aKJ.SPELLER,containerType:t.itemType,containerId:t.itemId,itemType:a.zqd.N_SIDED_CARD,itemId:e.studiableItemId},e)})),N=(0,i.createSelector)(b,u.wG,((e,t)=>{var{feedback:s}=o()(e),n=s.expectedAnswer.value,a=o()(s.submittedAnswer).value,r=t.answerLanguageCode;return(0,E.Z)({userInput:a,expectedAnswer:n,answerLanguage:r})})),x=(0,i.createSelector)(u.EY,u.zt,m.tF,p.o3,((e,t,s,n)=>{if(e.type===l.mw.SPELLING_QUESTION)return[];var a=e,{roundResults:r}=a;return r.map((e=>{var{studiableItemId:a,isCorrect:r}=e;return(0,h.Z)({advancedAudioSettings:n,isCorrect:r,studiableItemId:a,totalProgress:t,studiableItems:s})}))})),D=(0,i.createSelector)(u.z5,(e=>(0,g.e)(e))),L=(0,i.createSelector)(u.z5,u.zt,m.tF,p.o3,((e,t,s,n)=>(0,g.J)({advancedAudioSettings:n,answerHistory:e,studiableItems:s,totalProgress:t})))},"./app/j/study-modes/spell/types.ts":(e,t,s)=>{"use strict";var n,a;s.d(t,{f:()=>n,k:()=>a}),function(e){e.AD_MODAL="ad_modal",e.EMPTY="empty",e.CHECKPOINT="checkpoint",e.END="end",e.CORRECTION="correction",e.ONBOARDING="onboarding",e.QUESTION="question"}(n||(n={})),function(e){e.CORRECT_ONE_TIME="correctOneTime",e.CORRECT_TWO_TIMES="correctTwoTimes",e.CORRECT_ZERO_TIMES="correctZeroTimes"}(a||(a={}))},"./app/j/study-modes/spell/utils/analysisItemUtils.ts":(e,t,s)=>{"use strict";s.d(t,{e:()=>r,J:()=>o});var n=s("./app/j/config/enums.ts"),a=s("./app/j/study-modes/spell/utils/getSpellAnalysisItems.ts");function r(e){var t={};return e.forEach((e=>{var{round:s,correctness:a}=e;t[s]||(t[s]={numCorrect:0,total:0}),a===n.p7P.CORRECT&&(t[s].numCorrect=t[s].numCorrect+1),t[s].total=t[s].total+1})),t}function o(e){var{advancedAudioSettings:t,answerHistory:s,studiableItems:r,totalProgress:o}=e,i={},l={};return s.forEach((e=>{var{studiableItemId:t,correctness:s}=e;i[t]||(i[t]=0),s===n.p7P.INCORRECT&&(i[t]=i[t]+1)})),Object.keys(i).forEach((e=>{var s=i[e];l[s]||(l[s]=[]),l[s].push((0,a.Z)({advancedAudioSettings:t,isCorrect:!0,studiableItemId:Number(e),totalProgress:o,studiableItems:r}))})),l}},"./app/j/study-modes/spell/utils/getDiffTextParts.ts":(e,t,s)=>{"use strict";s.d(t,{i:()=>d,Z:()=>u});var n=s("./node_modules/lodash/truncate.js"),a=s.n(n),r=s("./node_modules/lodash/includes.js"),o=s.n(r),i=(s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./app/j/utils/diff.ts")),l=s("./app/j/config/languages.ts"),d=1e4;function u(e){for(var t,{userInput:s,expectedAnswer:n,answerLanguage:r}=e,u=a()(n,{length:d,omission:""}),c=(t=r,!o()(l.sZ,t)),p=new i.ZP({ignoreCase:c}).diff_main(s,u||""),m=[],_=p.length,g=0;g<_;g++){var E=p[g][0],h=p[g][1];c&&E===i.NL&&g<p.length-1&&p[g+1][0]===i.D$&&h.toLowerCase()===p[g+1][1].toLowerCase()&&(E=i.JZ,h=p[g+1][1],p.splice(g+1,1),_--),E===i.D$&&(h=h.replace(/ /g,"  ")),m.push({diffType:E,text:h})}return m}},"./app/j/study-modes/spell/utils/getProgressIndicator.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});s("./node_modules/core-js/modules/es.string.includes.js");var n=s("./app/j/study-modes/spell/types.ts");function a(e){var{totalProgress:t,studiableItemId:s}=e,{correctOneTime:a,correctTwoTimes:r,correctZeroTimes:o}=t.masteryBuckets;if(a.includes(s))return n.k.CORRECT_ONE_TIME;if(r.includes(s))return n.k.CORRECT_TWO_TIMES;if(o.includes(s))return n.k.CORRECT_ZERO_TIMES;throw new Error("Cannot find studiable item id in mastery buckets")}},"./app/j/study-modes/spell/utils/getSpellAnalysisItems.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>m,v:()=>c});var n=s("./app/j/audio_playback/utils.ts"),a=s("./app/j/config/enums.ts"),r=s("./node_modules/nullthrows/nullthrows.js"),o=s.n(r),i=s("./app/j/study-modes/common/studiable-data/utils/getMediaByType.ts");s("./app/j/study-engine/types.ts"),s("./app/j/study-modes/common/engine/utils/question-element-utils.ts"),s("./app/j/study-modes/common/types.ts"),s("./app/j/study-modes/learn/types.ts"),s("./app/j/study-modes/learn/utils/index.ts");function l(e,t){return e===a.dU_.WORD?t.slowWordEnabled:t.slowDefinitionEnabled}function d(e,t){return e===a.dU_.WORD?t.wordEnabled:t.definitionEnabled}var u=s("./app/j/study-modes/spell/utils/getProgressIndicator.ts");function c(e,t){var s,a=(0,i.JZ)(e),r=null!=(s=(0,i.FB)(e))?s:null;if(!a)return null;var o=function(e,t,s,n){if(!d(e.label,s))return null;var a=l(e.label,s)&&t.text.ttsSlowUrl?t.text.ttsSlowUrl:t.text.ttsUrl;return n?n.audio.url:a}(e,a,t,r);return o?(0,n.lg)({studiableCardSide:e,url:o}):null}function p(e,t,s){var n,a,r=t[e];if(!r)return null;var o=null!=(n=(0,i.JZ)(r))?n:null,l=null!=(a=(0,i.GI)(r))?a:null;return{audioItem:c(r,s),text:o?o.text:null,image:l?l.image:null}}function m(e){var{advancedAudioSettings:t,isCorrect:s,studiableItemId:n,totalProgress:r,studiableItems:i}=e,l=o()(i.find((e=>e.id===n))).cardSides,d=p(a.dU_.WORD,l,t);return{definition:p(a.dU_.DEFINITION,l,t),isCorrect:s,progressIndicator:(0,u.Z)({totalProgress:r,studiableItemId:n}),studiableItemId:n,word:o()(d)}}},"./app/j/study-modes/test/constants.ts":(e,t,s)=>{"use strict";s.d(t,{n4:()=>n,wp:()=>a,NG:()=>r,Yo:()=>o,mK:()=>i,UC:()=>l,NF:()=>d});var n=["trueFalse","mcq","matching","written"],a="testCTA",r="test_mode_click_print_results",o="test_mode_click_print_in_test",i="test_mode_click_print",l="testMode",d="testHasSeenCreateClassToast"},"./app/j/study-modes/test/selectors.ts":(e,t,s)=>{"use strict";s.d(t,{dO:()=>B,qu:()=>k,F4:()=>Q,_e:()=>O,H5:()=>I,te:()=>K,pn:()=>$,TT:()=>j,BX:()=>X,Yx:()=>w,Nv:()=>G,Xy:()=>Y,yM:()=>J,Qj:()=>R,dX:()=>F,jN:()=>q,SQ:()=>z,Nw:()=>x,co:()=>C,w0:()=>te,mW:()=>D,x1:()=>ee,iE:()=>W,et:()=>V,y5:()=>H,NK:()=>A,Us:()=>Z,_Q:()=>b,nS:()=>U,Ej:()=>P});s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.regexp.test.js"),s("./node_modules/core-js/modules/es.object.values.js"),s("./node_modules/core-js/modules/es.array.reduce.js"),s("./node_modules/core-js/modules/es.array.flat.js"),s("./node_modules/core-js/modules/es.array.unscopables.flat.js");var n=s("./app/j/constants/TimeConstants.ts"),a=s("./app/j/core/legacy_store/LegacyStore.ts"),r=s("./app/j/i18n/$t.ts"),o=s("./app/j/i18n/getLocalizedLanguage.ts"),i=s("./node_modules/nullthrows/nullthrows.js"),l=s.n(i),d=s("./node_modules/reselect/lib/index.js"),u=s("./app/j/study-modes/common/sessions/selectors.ts"),c=s("./app/j/study-modes/common/settings/selectors/index.ts"),p=s("./app/j/study-modes/test/constants.ts"),m=s("./app/j/study-modes/test/types.ts"),_=s("./app/j/study-modes/test/utils/getNextSkippedAnswer.ts");function g(e){var t=function(e){for(var t of p.n4)if(e[t])return{section:t,index:0};return null}(e);return t?(0,_.Z)(e,t):null}var E=s("./app/j/study-modes/test/utils/getQuestionDomId.ts"),h=s("./node_modules/lodash/groupBy.js"),S=s.n(h),y=(s("./node_modules/core-js/modules/es.object.assign.js"),s("./app/j/study-engine/types.ts"));var f=s("./app/j/study-modes/test/utils/settings.ts");function v(e){var t=new Set,s=new Set;if(e.forEach((e=>{t.add(e.wordLang),s.add(e.defLang)})),1===t.size&&1===s.size){var n=Array.from(t)[0],a=Array.from(s)[0];if(n!==a)return[n,a]}return null}var T=e=>e[p.UC],A=(0,d.createSelector)(T,(e=>e.testResults)),b=(0,d.createSelector)(T,(e=>e.userAnswers)),j=(0,d.createSelector)(b,(e=>{var{matching:t}=e;return!t||t.every((e=>null!==e))})),I=(0,d.createSelector)(A,(e=>{var t;return null!=(t=null==e?void 0:e.gradePercentage)?t:null})),w=(0,d.createSelector)([],(()=>!1)),C=(0,d.createSelector)(T,(e=>l()(e.serverData,"Missing test mode server data"))),O=(0,d.createSelector)(C,(e=>e.formUrl)),N=(0,d.createSelector)(C,(e=>e.studiableData)),x=((0,d.createSelector)(N,(e=>e.studiableItems)),(0,d.createSelector)(C,(e=>e.selectedCount))),D=(0,d.createSelector)(C,(e=>e.showToggleImagesOption)),L=((0,d.createSelector)(C,(e=>e.itemType)),(0,d.createSelector)(C,(e=>e.sets))),k=(0,d.createSelector)(L,(e=>{var t=v(e);if(null!==t){var[,s]=t;return(0,o.Z)(s)}return(0,r.Z)("test.start_with_term_definition_or_both.definition")})),R=(0,d.createSelector)([],(()=>(0,r.Z)("test.start_with_term_definition_or_both.location"))),P=(0,d.createSelector)(L,(e=>{var t=v(e);if(null!==t){var[s]=t;return(0,o.Z)(s)}return(0,r.Z)("test.start_with_term_definition_or_both.term")})),M=(0,d.createSelector)(T,(e=>e.settings)),Z=(0,d.createSelector)(M,(e=>e.test)),U=(0,d.createSelector)(M,(e=>e.user)),B=(0,d.createSelector)(T,(e=>l()(e.testGenerator,"Test generator must be initialized before use"))),W=(0,d.createSelector)([Z,U,B],((e,t,s)=>{var n=(0,c.J1)(a.Z.getState());return(0,f.h4)(e,n,t,s)})),H=(0,d.createSelector)(T,(e=>e.testQuestions)),G=(0,d.createSelector)(H,(e=>0===Object.keys(e).length||Object.values(e).every((e=>Array.isArray(e)?!(null!=e&&e.length):!e)))),Q=(0,d.createSelector)(b,(e=>{var t=g(e);return t?(0,E.Z)(t):null})),F=(0,d.createSelector)(A,(e=>{var t;return null!=(t=null==e?void 0:e.gradedAnswers.reduce(((e,t)=>e+(t.isCorrect?1:0)),0))?t:null})),q=(0,d.createSelector)(H,(e=>Object.values(e).reduce(((e,t)=>t?Array.isArray(t)?e+t.length:"prompts"in t?e+t.prompts.length:e:e),0))),z=(0,d.createSelector)(b,(e=>Object.values(e).flat().reduce(((e,t)=>t?e+1:e),0))),K=((0,d.createSelector)(U,(e=>e.showImages)),(0,d.createSelector)([b,A],((e,t)=>function(e,t){var s,n,a,r;if(!t)return null;var o=S()(t,(e=>{switch(e.feedback.expectedAnswer.type){case y.xh.STRING_ANSWER:return"written";case y.xh.OPTION_INDEX_ANSWER:case y.xh.OPTION_INDICES_ANSWER:return"mcq";case y.xh.BOOLEAN_ANSWER:return"trueFalse";default:throw new Error("Unexpected GradeAnswer type")}}));return Object.assign({},o,{matching:e.matching?null==(s=o.mcq)?void 0:s.slice(0,e.matching.length):void 0,mcq:e.mcq?null==(n=o.mcq)?void 0:n.slice(null!=(a=null==(r=e.matching)?void 0:r.length)?a:0):void 0})}(e,null==t?void 0:t.gradedAnswers)))),V=(0,d.createSelector)(T,(e=>null==e?void 0:e.view)),Y=(0,d.createSelector)(V,(e=>e===m.d.AD_MODAL)),X=(0,d.createSelector)(T,(e=>null==e?void 0:e.serverData.isEnrolledInMwebStudyBreakAdTest)),J=(0,d.createSelector)(T,(e=>e.isToCOpen)),$=(0,d.createSelector)(T,(e=>e.hasDismissedPaywallToast)),ee=(0,d.createSelector)(T,(e=>{var t,s,r=(0,u.a5)(a.Z.getState()),o=null!=(t=e.testEndTimestamp)?t:0,i=null!=(s=null==r?void 0:r.timestamp)?s:0;if(0===i)return 1;var l=o-i,d=Math.floor(l/n.sU);return d<1?1:d})),te=(0,d.createSelector)(T,(e=>e.shouldSeeCreateClassToast))},"./app/j/study-modes/test/test.entry.ts":(e,t,s)=>{"use strict";var n=s("./app/j/compatibility/logger/getLoggerConfig.ts"),a=s("./app/j/config/enums.ts"),r=s("./app/j/core/default_store/DefaultStore.ts"),o=s("./app/j/core/legacy_store/LegacyStore.ts"),i=s("./app/j/global/Quizlet.ts"),l=s("./app/j/login/index.ts"),d=s("./app/j/study-engine/types.ts"),u=s("./app/j/study-modes/common/logging/actions.ts"),c=s("./app/j/study-modes/common/utils/renderStudyMode.tsx"),p=s("./app/j/study-modes/spell/actions/index.ts"),m=s("./app/j/core/default_store/DefaultStoreProvider.tsx"),_=s("./app/j/core/legacy_store/LegacyStoreProvider.tsx"),g=s("./node_modules/react-redux/lib/index.js"),E=s("./node_modules/redux/lib/redux.js"),h=s("./node_modules/reselect/lib/index.js"),S=s("./app/j/study-modes/common/metering/selectors.ts"),y=s("./app/j/study-modes/common/settings/actions.ts"),f=s("./app/j/study-modes/common/settings/selectors/index.ts"),v=s("./app/j/study-modes/common/studiable-data/document/selectors.ts"),T=s("./app/j/study-modes/common/studiable-data/selectors.ts"),A=(s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/@linaria/react/lib/index.js")),b=s("./app/j/assembly/AssemblyBreakpoint.tsx"),j=s("./app/j/assembly/buttons/index.ts"),I=s("./app/j/assembly/buttons/types.ts"),w=s("./app/j/assembly/foundations/Spacing.ts"),C=s("./app/j/compatibility/logger/useLogger.ts"),O=s("./app/j/components/NewModeControls.tsx"),N=s("./app/j/components/UIModal.tsx"),x=s("./app/j/i18n/$t.ts"),D=s("./app/j/i18n/useTranslation.ts"),L=s("./node_modules/react/index.js"),k=(0,A.z)("section")({name:"StudiableContainerWrapper",class:"sil39py"}),R=(0,A.z)("section")({name:"StudiableContainerHeading",class:"ssbjprp",vars:{"ssbjprp-3":[e=>e.showJustTitle?"block":"none"]}}),P=(0,A.z)("section")({name:"QuestionProgressHeading",class:"q1nxab59"});function M(e){var{studiableContainerTitle:t}=e;return L.createElement(k,null,L.createElement(R,{showJustTitle:!0},t))}s("./.linaria-cache/app/j/study-modes/test/components/progress/styles.linaria.css");var Z=s("./app/j/study-modes/test/selectors.ts"),U=(0,A.z)("section")({name:"QuestionProgressHeading",class:"qzk5crt"}),B=(0,A.z)("section")({name:"StudiableContainerHeading",class:"sd72jj0"});function W(e){var{studiableContainerTitle:t}=e,s=(0,m.v9)(Z.SQ),n=(0,m.v9)(Z.jN);return L.createElement(k,null,L.createElement(U,null,s+" / "+n),L.createElement(B,null,t))}s("./.linaria-cache/app/j/study-modes/test/components/progress/QuestionProgress.linaria.css");var H=s("./app/j/ads/components/hooks/useAdTimer.ts"),G=s("./app/j/ads/context/StudyModeAdsContext.tsx"),Q=s("./app/j/assembly/AssemblyConfetti.tsx"),F=s("./app/j/context/UserContext.ts"),q=s("./app/j/utils/NumberFormatters.ts"),z=s("./app/j/utils/UserAgentHelper.ts");function K(e){var{studiableContainerTitle:t,shouldShowStickyHeader:s}=e,n=(0,m.v9)(Z.H5),r=(0,m.v9)(Z.jN),o=(0,m.v9)(Z.dX),[i,l]=(0,L.useState)(!1),d=(0,G.Jt)().isVideoAd?7:5,u=(0,L.useContext)(F.Z),c=u&&u.type===a.XsQ.PLUS,[p,_]=(0,H.Z)((0,z.s2)()||c?0:d);return(0,L.useEffect)((()=>{_()}),[_]),(0,L.useEffect)((()=>{c||(0,z.s2)()?l(100===n):l(100===n&&1===p)}),[p,n]),L.createElement(k,null,L.createElement(Q.Z,{active:i}),p<=1&&(s?L.createElement(P,null,o+" / "+r+"  "+(0,q.Sr)(null!=n?n:0)+" "):L.createElement(P,null,o+" / "+r+" ")),L.createElement(R,null,t))}var V=s("./app/j/study-modes/test/types.ts");function Y(e){var t=(0,m.v9)(Z.et);switch(t){case V.d.AD_MODAL:case V.d.PAYWALL:return L.createElement(M,{studiableContainerTitle:e.studiableContainerTitle});case V.d.TEST:return L.createElement(W,{studiableContainerTitle:e.studiableContainerTitle});case V.d.REVIEW:return L.createElement(K,{shouldShowStickyHeader:e.shouldShowStickyHeader,studiableContainerTitle:e.studiableContainerTitle});default:throw new Error("[TestProgress] Unknown TestModeView "+t)}}var X=s("./app/j/study-modes/learn/components/ProgressBar.tsx");function J(){var e=(0,m.v9)(Z.et),t=(0,m.v9)(Z.SQ),s=(0,m.v9)(Z.jN);return e!==V.d.TEST?null:L.createElement(X.Z,{max:s,value:t})}var $=s("./app/j/hooks/useBreakpoint.ts"),ee=s("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),te=s("./node_modules/lodash/pick.js"),se=s.n(te),ne=s("./node_modules/lodash/once.js"),ae=s.n(ne),re=(s("./node_modules/core-js/modules/es.array.sort.js"),s("./app/j/ab_tests/QMeasure.ts")),oe=s("./node_modules/immer/dist/immer.cjs.production.min.js"),ie=s("./node_modules/nullthrows/nullthrows.js"),le=s.n(ie),de=s("./node_modules/qs/lib/index.js"),ue=s.n(de),ce=s("./app/j/studiable-data/utils.ts"),pe=s("./app/j/study-modes/common/logging/selectors.ts"),me=s("./app/j/study-modes/common/metering/actions.ts"),_e=s("./app/j/study-modes/common/sessions/actions.ts"),ge=s("./app/j/study-modes/common/sessions/selectors.ts"),Ee=s("./app/j/study-modes/test/constants.ts"),he=s("./app/j/study-modes/test/testModeSlice.ts"),Se=s("./app/j/study-modes/test/utils/index.ts");s("./node_modules/core-js/modules/es.object.assign.js");function ye(e,t){var{metadata:s}=t;return s.studiableItemId&&s.promptSide?(0,ce.KN)(e,s.promptSide):null}var fe=s("./app/j/utils/tamperProofNow.ts");function ve(e){return e.isCorrect?a.p7P.CORRECT:e.feedback.submittedAnswer?a.p7P.INCORRECT:a.p7P.SKIPPED}var Te=(e,t,s,n,r)=>({personId:e,sessionId:r,studyMode:a.aKJ.TEST,round:s.questionType,correctness:ve(n),containerType:t.studiableContainerType,containerId:t.studiableContainerId,itemType:t.type,itemId:t.id,timestamp:(0,fe.Z)()}),Ae=(e,t,s,n,a)=>{var r=ye(t,s),o=function(e,t){var{metadata:s}=t;return s.studiableItemId&&s.answerSide?(0,ce.KN)(e,s.answerSide):null}(t,s);return r&&o?Object.assign({},Te(e,t,s,n,a),{promptSideIds:r?[r.sideId]:[],answerSideIds:o?[o.sideId]:[]}):null},be=s("./app/j/study-modes/test/utils/buildQuestionStorage.ts"),je=s("./app/j/study-modes/test/utils/getNextPosition.ts"),Ie=s("./app/j/study-modes/test/utils/getNextSkippedAnswer.ts");function we(e,t){return e&&t?e.map(((e,s)=>[e,le()(t[s])])):[]}function Ce(e,t){return e&&t?t.map((t=>[e,t])):[]}var Oe=s("./app/j/study-modes/test/utils/getQuestionDomId.ts"),Ne=(s("./node_modules/core-js/modules/es.array.reduce.js"),s("./node_modules/core-js/modules/es.string.trim.js"),s("./app/j/study-modes/common/utils/studiablesToTermUtils.ts"));function xe(e){switch(e.type){case d.mw.WRITTEN_QUESTION:return a.oK4.TYPING;case d.mw.SEPARATED_OPTION_MATCHING_QUESTION:return a.oK4.MATCH;case d.mw.MULTIPLE_CHOICE_QUESTION:return a.oK4.MULTIPLE_CHOICE;case d.mw.TRUE_FALSE_QUESTION:return a.oK4.TRUE_FALSE;default:throw new Error("Unsupported QuestionType in Test")}}var De=s("./app/j/study-modes/test/utils/questionType.ts");function Le(e){return e.isCorrect?a.p7P.CORRECT:e.feedback.submittedAnswer?a.p7P.INCORRECT:a.p7P.SKIPPED}var ke=[a.dU_.DEFINITION,a.dU_.WORD];function Re(e,t,s){var n=t.findIndex((e=>{var[t]=e;return(0,De.OH)(t)}));t.forEach(((t,r)=>{var[o,i]=t,l=!(0,De.OH)(o)||r===n;!function(e,t,s,n,r){var o=n.studiableItems.find((e=>e.id===t.metadata.studiableItemId));if(void 0!==o&&(0,ce.F_)(o)){var i=ye(o,t);i&&e.logQuestionEvent(a.WFi.ANSWER,{correctness:Le(s),answer_type:xe(t),participation:a.qhD.INDIVIDUAL,promptTermId:i.sideId,prompt_side:(0,Ne.Q)(t.metadata.promptSide),question_type:t.questionType},r)}}(e,o,i,s,l),(0,De.NS)(o)&&function(e,t,s){var n=t.metadata.answerSide;if(ke.includes(n)&&null!==s.feedback.submittedAnswer){var r=t.options.reduce(((e,t)=>[...e,...t.attributes.filter(De.j3).map((e=>e.plainText))]),[]);r.every((e=>0===e.trim().length))||e.getMultipleChoiceOptionLogger().logMultipleChoiceOptionEvent(a.Q3A.ANSWER,{option_texts:r,correct_option_index:s.feedback.expectedAnswer.value,chosen_option_index:s.feedback.submittedAnswer.value})}}(e,o,i)}))}var Pe=s("./app/j/study-modes/test/utils/settings.ts"),Me=s("./app/j/syncers/StudiableAnswerSyncer.ts"),Ze=s("./app/j/test/utils/QTestGenerator.ts"),Ue=s("./app/j/utils/BreakpointsHelper.ts"),Be=s("./app/j/utils/breakpointSwitch.ts"),We=s("./app/j/utils/ScrollHelper.ts"),He=s("./app/j/utils/StudySettingEncodingHelper.ts"),Ge=s("./app/j/utils/updateBrowserStateWithPath.ts"),Qe=s("./app/j/utils/Visitor.ts"),Fe=e=>(t,s)=>{var n=s(),a=(0,Z._Q)(n),r=(0,Z.TT)(n);if("matching"!==e.section||r){var o=(0,je.Z)(a,e);if(!o)return(0,Se.ow)(Ee.wp),void(0,Se.eI)(Ee.wp);var i=(0,Ie.Z)(a,o);if(i){var l="matching"===i.section?{section:"matching",index:0}:i,d=(0,Oe.Z)(l);(0,Se.ow)(d),(0,Se.eI)(d)}else(0,Se.ow)(Ee.wp),(0,Se.eI)(Ee.wp)}},qe=ae()((e=>{o.Z.dispatch((0,u.pJ)(a.WVJ.START_ANSWERING_FIRST_QUESTION,{loggerConfig:(0,n.c)()},{questionType:e}))})),ze=function(e,t,s,n){return void 0===n&&(n=!0),a=>{o.Z.dispatch((0,_e.T_)()),a(he.Nw.setUserAnswer({section:e,answer:t,index:s})),qe(e),null!==t&&n&&a(Fe({section:e,index:s}))}},Ke=e=>(t,s)=>{var n=s(),a=(0,Z.nS)(n),r=(0,Z.co)(n),i=(0,Z.et)(n),l=(0,oe.default)(e,(e=>{e.questionTypes.sort(((e,t)=>e-t))})),d=(0,Pe.c)(l),{acceptsPartialAnswer:u,levenshteinPlus:c}=(0,Pe.ti)(l);t(he.Nw.setTestSettings(d)),o.Z.dispatch((0,y.zS)(u)),o.Z.dispatch((0,y.CZ)(c)),t(he.Nw.setUserSettings(se()(l,["showImages","selectedOnly"]))),t($e()),a.selectedOnly!==l.selectedOnly&&(0,Pe.uJ)(l.selectedOnly,r.funnelUUID),i===V.d.REVIEW?t(Ve()):t(Xe()),t(et()),o.Z.dispatch((0,y.bL)(!1))},Ve=()=>e=>{(0,g.batch)((()=>{e(Xe());var t=(0,f.Cr)(o.Z.getState())&&(0,z.s2)();e(at(t?V.d.AD_MODAL:V.d.TEST))}))},Ye=()=>(e,t)=>{var s=(0,Z.dO)(t()),n=(0,Z.Us)(t());if(!(0,Z.NK)(t()))throw new Error("Could not retry with missed terms, missing test results");var a=s.retryTestAttemptWithMissed(n),r=(0,be.Z)(a.questions);(0,g.batch)((()=>{e(he.Nw.setTestQuestions(r)),e(he.Nw.clearUserAnswers(r)),e(he.Nw.clearGradedResults()),e(at(V.d.TEST)),e(he.Nw.setTestEndTimestamp(null)),o.Z.dispatch((0,_e.Ch)(null)),o.Z.dispatch((0,_e.kf)(null))}))},Xe=()=>(e,t)=>{var s=t(),n=o.Z.getState(),{showImages:a=!0}=(0,Z.nS)(s),r=(0,Se.SB)((0,v.r9)(n),a),i=(0,f.J1)(n),l=(0,S.aN)(n),d={parse_ugc_mcqs:re.Z.peekAtVariation("ParseUgcMcqs[default]")},u=Ze.A.create(r,i,d,l);u.studiableContentHasParsableMcqs()&&re.Z.getVariationAndEnroll("ParseUgcMcqs[default]"),e(he.Nw.setTestGenerator(u)),o.Z.dispatch((0,_e.Ch)(null)),o.Z.dispatch((0,_e.kf)(null)),e(Je()),e(he.Nw.clearGradedResults()),e(he.Nw.setTestEndTimestamp(null))},Je=()=>(e,t)=>{var s=t(),n=(0,Z.dO)(s),a=(0,Z.Us)(s),r=n.generateTestAttempt(a);if("questions"in r){var o=r,i=(0,be.Z)(o.questions);e(he.Nw.setTestQuestions(i)),e(he.Nw.clearUserAnswers(i))}else e(he.Nw.setTestModeView(V.d.PAYWALL))},$e=()=>(e,t)=>{var s=(0,Z.iE)(t());(0,Ge.Z)(window.location.pathname+"?"+ue().stringify({answerTermSides:(0,He.R1)(s.answerWith),promptTermSides:(0,He.R1)(s.promptWith),questionCount:s.questionCount,questionTypes:(0,He.Yu)(s.questionTypes),showImages:s.showImages}))},et=()=>(e,t)=>{var s=t(),n=(0,Z.Us)(s),a=(0,Z.iE)(s),r=(0,Z.co)(s);(0,Z.dO)(s).canGenerateTest(n)&&(0,Pe.Z$)(a,r)},tt=()=>function(){var e=(0,ee.Z)((function*(e,t){var s,n,a,r,i=t(),l=(0,Z.dO)(i),d=(0,Z._Q)(i),u=(0,v.r9)(o.Z.getState()),c=(0,Z.y5)(i),p=l.gradeTestAttempt([...null!=(s=null==d?void 0:d.written)?s:[],...null!=(n=null==d?void 0:d.matching)?n:[],...null!=(a=null==d?void 0:d.mcq)?a:[],...null!=(r=null==d?void 0:d.trueFalse)?r:[]]);(0,g.batch)((()=>{e(he.Nw.setTestResults(p)),e(he.Nw.setTestEndTimestamp(Math.floor((0,fe.Z)()/1e3))),e(at(V.d.REVIEW)),(0,Ue.TA)((0,Be.b)(),"xl")&&e(he.Nw.openToC())})),p.metadata.meteringData&&o.Z.dispatch((0,me.zo)(p.metadata.meteringData));var m=(0,Z.te)(t()),_=(0,pe.Fy)(o.Z.getState()),E=(0,Z.H5)(t()),h=function(e,t){return[...we(e.written,t.written),...Ce(e.matching,t.matching),...we(e.mcq,t.mcq),...we(e.trueFalse,t.trueFalse)]}(c,le()(m));Re(_,h,u),yield e(st(h)),o.Z.dispatch((0,_e.TS)({score:E}))}));return function(t,s){return e.apply(this,arguments)}}(),st=e=>function(){var t=(0,ee.Z)((function*(t,s){yield o.Z.dispatch((0,_e.T_)());var n=s(),a=(0,Z.co)(n).currentPersonId,r=(0,ge.a5)(o.Z.getState()),i=(0,f.Gw)(o.Z.getState()),l=(0,v.r9)(o.Z.getState());if(r||i.display.isCookieSupportEnabled){if(!r)throw new Error("Cannot save answers without study session. Session is null.");var d=e.map((e=>{var[t,s]=e;if(!t.metadata.studiableItemId)return null;var n=le()(l.studiableItems.find((e=>e.id===t.metadata.studiableItemId)));return(0,ce.F_)(n)?Ae(a,n,t,s,r.id):((e,t,s,n,a)=>{var{submittedAnswer:r}=n.feedback;return Object.assign({},Te(e,t,s,n,a),{selectedOptionIds:r?[].concat(r.value):[]})})(a,n,t,s,r.id)}));Me.Z.bulkAddAndSave(d.filter((e=>null!==e)))}}));return function(e,s){return t.apply(this,arguments)}}();function nt(e){return e===V.d.REVIEW?a.HtK.RESULTS:null}var at=e=>(t,s)=>{var r=nt((0,Z.et)(s())),i=nt(e);r&&o.Z.dispatch((0,u.pJ)(a.WVJ.EXIT_SCREEN,{loggerConfig:(0,n.c)()},{screen:r})),i&&o.Z.dispatch((0,u.pJ)(a.WVJ.ENTER_SCREEN,{loggerConfig:(0,n.c)()},{screen:i})),t(he.Nw.setTestModeView(e))},rt=()=>(e,t)=>{(0,S.Br)(o.Z.getState())?e(he.Nw.setTestModeView(V.d.PAYWALL)):(o.Z.dispatch((0,y.bL)(!0)),We.Z.scrollToTop())},ot=()=>e=>{e(he.Nw.dismissClassCreateToast()),Qe.Z.writeData({[Ee.NF]:!0})},it=(0,A.z)("section")({name:"CTAWrapper",class:"c18d0p2t"});function lt(){var e=(0,m.v9)(Z.NK),t=(0,_.v9)(S.Br),s=(0,m.I0)(),{logPageAction:n}=(0,C.wL)(),{t:a}=(0,D.Z)(),r=(0,$.Z)(),o=(0,Ue.Nc)(r,"m")?"large":"medium",i=100===(null==e?void 0:e.gradePercentage);return L.createElement(it,null,!i&&L.createElement(j.B0,{onClick:()=>{n("clicked_retest_with_missed"),s(Ye())},size:o,text:a("test.review_card.retry_test_with_missed_button")}),L.createElement(j.wI,{onClick:()=>{n("clicked_take_a_new_test"),s(rt())},rightIcon:t?"lock":void 0,size:o,text:a("test.review_card.retry_test_button")}))}s("./.linaria-cache/app/j/study-modes/test/components/TestReviewCTAs.linaria.css");var dt,ut=s("./node_modules/@babel/runtime/helpers/esm/extends.js"),ct=s("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),pt=(s("./node_modules/core-js/modules/es.parse-int.js"),s("./node_modules/core-js/modules/es.json.stringify.js"),s("./node_modules/classnames/index.js")),mt=s.n(pt),_t=s("./app/j/compatibility/logger/classComponentLoggers.ts"),gt=s("./app/j/components/T.tsx"),Et=s("./app/j/components/UIBreakpoint.tsx"),ht=s("./app/j/components/UIButton.tsx"),St=s("./app/j/components/UICheckbox.tsx"),yt=s("./app/j/components/UIColumn.tsx"),ft=s("./app/j/components/UIDiv.tsx"),vt=s("./app/j/components/UIFieldset.tsx"),Tt=s("./app/j/components/UIInput.tsx"),At=s("./app/j/components/UILink.tsx"),bt=s("./app/j/components/UIModalBodySeparator.tsx"),jt=s("./app/j/components/UINotice.tsx"),It=s("./app/j/components/UIRow.tsx"),wt=s("./app/j/components/UISmall.tsx"),Ct=s("./app/j/components/UIToggle.tsx"),Ot=s("./app/j/config/study-setting-metadata.ts"),Nt=s("./app/j/study-modes/common/options/types.ts"),xt=["children","error"];function Dt(e){var{children:t,error:s=!1}=e,n=(0,ct.Z)(e,xt),a=mt()("TestModeOptions-settingMeta TestModeOptions-col",{"TestModeOptions-errorMessage":!!s});return L.createElement(ft.Z,(0,ut.Z)({},n,{className:a}),t)}!function(e){e.NONE="none",e.EMPTY_QUESTION_COUNT="empty_question_count",e.EXCEEDED_MAX_QUESTION_COUNT="exceeded_max_question_count"}(dt||(dt={}));class Lt extends L.PureComponent{constructor(e){super(e),this.handleSubmit=e=>{e.preventDefault(),this.props.onSettingsChange(this.state)},this.handleToggleAdvancedOptions=()=>{(0,_t.Pv)((0,n.c)(),"show_advanced_options"),this.setState((e=>({isAdvancedOptionsExpanded:!e.isAdvancedOptionsExpanded})))},this.handleGradingOptionEncoding=e=>e?1:0,this.handleToggleQuestionType=e=>{var t=parseInt(e.currentTarget.name,10),s=e.currentTarget.checked;this.setState((e=>{var{questionTypes:n}=e;return{questionTypes:(0,He.eR)(t,s,n)}}))},this.handleUpdateQuestionCount=e=>{var t,s=e.currentTarget.value||"0",n=parseInt(s,10);t=n<1?dt.EMPTY_QUESTION_COUNT:n>this.getMaxAvailableQuestions()?dt.EXCEEDED_MAX_QUESTION_COUNT:dt.NONE,this.setState({questionCount:n,questionCountErrorType:t})},this.handleToggleAnswerSide=e=>{var t=e.currentTarget.name,s=e.currentTarget.checked;this.setState((e=>{var{answerWith:n}=e;return{answerWith:(0,He.eR)(t,s,n)}}))},this.handleTogglePromptSide=e=>{var t=e.currentTarget.name,s=e.currentTarget.checked;this.setState((e=>{var{promptWith:n}=e;return{promptWith:(0,He.eR)(t,s,n)}}))},this.handleUpdateStarred=e=>{this.setState({selectedOnly:"true"===e})},this.handleUpdateShowImages=e=>{this.setState({showImages:e.currentTarget.checked})},this.handleShowGradingSettings=()=>{this.setState((e=>({showGradingSettings:!e.showGradingSettings})))},this.handleToggleAcceptMultipleAnswers=()=>this.setState((e=>({acceptsPartialAnswer:!e.acceptsPartialAnswer}))),this.handleToggleTypoHelp=()=>this.setState((e=>({typoHelpGradingSetting:!e.typoHelpGradingSetting}))),this.state=Object.assign({},this.props.options,{questionCountErrorType:dt.NONE,showGradingSettings:!1})}UNSAFE_componentWillReceiveProps(e){var t=this.getMaxAvailableQuestions(e);e.options.questionCount>t&&this.setState({questionCount:t})}getAnswerWithErrorMessage(){var{written:e}=Ot.Dx.bitValues,t=new Set(this.state.answerWith),s=new Set(this.state.questionTypes);return 0===t.size?L.createElement(gt.Z,{id:"test.options.answer_with_min_selected_error"}):1===s.size&&s.has(e)&&1===t.size&&t.has(a.dU_.LOCATION)?L.createElement(gt.Z,{id:"test.options.answer_with_written_location_error"}):this.hasSameSelectedSidesError()?L.createElement(gt.Z,{id:"test.options.same_selected_sides_error"}):null}getPromptWithErrorMessage(){return 0===new Set(this.state.promptWith).size?L.createElement(gt.Z,{id:"test.options.prompt_with_min_selected_error"}):this.hasSameSelectedSidesError()?L.createElement(gt.Z,{id:"test.options.same_selected_sides_error"}):null}getSidesRecallMessage(){var e=new Set(this.state.answerWith),t=e.has(a.dU_.WORD),s=e.has(a.dU_.DEFINITION),n=e.has(a.dU_.LOCATION);return t&&s&&n?L.createElement(gt.Z,{id:"test.options.selected_sides_recall_term_definition_location"}):t&&s?L.createElement(gt.Z,{id:"test.options.selected_sides_recall_term_definition"}):t&&n?L.createElement(gt.Z,{id:"test.options.selected_sides_recall_term_location"}):t?L.createElement(gt.Z,{id:"test.options.selected_sides_recall_term"}):s&&n?L.createElement(gt.Z,{id:"test.options.selected_sides_recall_definition_location"}):s?L.createElement(gt.Z,{id:"test.options.selected_sides_recall_definition"}):n?L.createElement(gt.Z,{id:"test.options.selected_sides_recall_location"}):null}getMaxAvailableQuestions(e){return void 0===e&&(e=this.props),e.options.selectedOnly?e.numSelectedTerms:Math.max(e.numTotalTerms-this.props.numDuplicateTerms,this.props.numStudiableItems)}getQuestionTypesErrorMessage(){return 0===this.state.questionTypes.length?L.createElement(gt.Z,{id:"test.options.question_types_min_selected_error"}):null}renderAdvancedOptions(){return L.createElement(Et.Z,{above:"s",key:"advancedOptions"},(e=>e?this.renderAdvancedOptionsDesktop():this.renderAdvancedOptionsMobile()))}renderQuestionTypes(){var{written:e,matching:t,multipleChoice:s,trueFalse:n}=Ot.Dx.bitValues,a=new Set(this.state.questionTypes);return L.createElement("ul",null,L.createElement("li",{className:"TestModeOptions-listOption"},L.createElement(St.Z,{checked:a.has(e),label:L.createElement(gt.Z,{id:"test.question_type.written"}),name:""+e,onChange:this.handleToggleQuestionType})),this.props.hasDiagrams?null:L.createElement("li",{className:"TestModeOptions-listOption"},L.createElement(St.Z,{checked:a.has(t),label:L.createElement(gt.Z,{id:"test.question_type.matching"}),name:""+t,onChange:this.handleToggleQuestionType})),L.createElement("li",{className:"TestModeOptions-listOption"},L.createElement(St.Z,{checked:a.has(s),label:L.createElement(gt.Z,{id:"test.question_type.multiple_choice"}),name:""+s,onChange:this.handleToggleQuestionType})),L.createElement("li",{className:"TestModeOptions-listOption"},L.createElement(St.Z,{checked:a.has(n),label:L.createElement(gt.Z,{id:"test.question_type.true_false"}),name:""+n,onChange:this.handleToggleQuestionType})),this.renderQuestionTypesError(),this.renderGradingSettings())}renderGradingSettings(){var{showGradingSettings:e,acceptsPartialAnswer:t,typoHelpGradingSetting:s}=this.state;return e?L.createElement(L.Fragment,null,L.createElement("li",{className:"TestModeOptions-listOption"},L.createElement(St.Z,{checked:null!==t&&t,label:L.createElement(gt.Z,{id:"assistant.options.multiple_answers.label"}),name:Nt.$.MULTIPLE_ANSWERS,onChange:this.handleToggleAcceptMultipleAnswers}),L.createElement(wt.Z,null,L.createElement("div",{className:"TestModeOptions-listOption-description"},L.createElement(gt.Z,{id:"assistant.options.multiple_answers.description"})))),L.createElement("li",{className:"TestModeOptions-listOption"},L.createElement(St.Z,{checked:!1!==s,label:L.createElement(gt.Z,{id:"study_modes.options.expanded_modal.typo_help.title"}),name:Nt.$.TYPO_HELP,onChange:this.handleToggleTypoHelp}),L.createElement(wt.Z,null,L.createElement("div",{className:"TestModeOptions-listOption-description"},L.createElement(gt.Z,{id:"study_modes.options.expanded_modal.typo_help.description"}))))):L.createElement("div",{className:"TestModeOptions-extraRow"},L.createElement(At.Z,{onClick:this.handleShowGradingSettings},L.createElement(gt.Z,{id:"assistant.options.show_feedback_options"})))}renderSides(){return L.createElement(L.Fragment,null,this.state.isAdvancedOptionsExpanded?this.renderAdvancedOptions():this.renderDefaultOptions(),L.createElement("div",{className:"TestModeOptions-toggle",key:"sidesAdvancedOptions"},L.createElement("div",{className:"TestModeOptions-flexContainer"},L.createElement(At.Z,{onClick:this.handleToggleAdvancedOptions},this.state.isAdvancedOptionsExpanded?L.createElement(gt.Z,{id:"test.options.selected_sides_advanced_options_hide"}):L.createElement(gt.Z,{id:"test.options.selected_sides_advanced_options_show"})))))}renderAnswerWith(e){void 0===e&&(e=!1);var t=e?"TestModeOptions-row":"TestModeOptions-col",s=new Set(this.state.answerWith);return L.createElement(vt.Z,{legend:L.createElement(gt.Z,{id:"test.options.answer_with_label"})},L.createElement("div",{className:"TestModeOptions-cols","data-testid":"AnswerWith"},L.createElement("div",{className:t},L.createElement(St.Z,{checked:s.has(a.dU_.WORD),label:this.props.promptWithWordLabel,name:""+a.dU_.WORD,onChange:this.handleToggleAnswerSide}),L.createElement(St.Z,{checked:s.has(a.dU_.DEFINITION),label:this.props.promptWithDefLabel,name:""+a.dU_.DEFINITION,onChange:this.handleToggleAnswerSide}),this.props.hasDiagrams?L.createElement(St.Z,{checked:s.has(a.dU_.LOCATION),label:this.props.promptWithLocationLabel,name:""+a.dU_.LOCATION,onChange:this.handleToggleAnswerSide}):null)))}renderPromptWith(){var e=new Set(this.state.promptWith);return L.createElement(vt.Z,{legend:L.createElement(gt.Z,{id:"test.options.prompt_with_label"})},L.createElement("div",{className:"TestModeOptions-cols","data-testid":"PromptWith"},L.createElement("div",{className:"TestModeOptions-row"},L.createElement(St.Z,{checked:e.has(a.dU_.WORD),label:this.props.promptWithWordLabel,name:""+a.dU_.WORD,onChange:this.handleTogglePromptSide}),L.createElement(St.Z,{checked:e.has(a.dU_.DEFINITION),label:this.props.promptWithDefLabel,name:""+a.dU_.DEFINITION,onChange:this.handleTogglePromptSide}),this.props.hasDiagrams?L.createElement(St.Z,{checked:e.has(a.dU_.LOCATION),label:this.props.promptWithLocationLabel,name:""+a.dU_.LOCATION,onChange:this.handleTogglePromptSide}):null)))}renderDefaultOptions(){return L.createElement(L.Fragment,null,this.renderAnswerWith(),this.renderAnswerWithError(),this.renderSidesRecallMessage())}renderAdvancedOptionsDesktop(){return L.createElement(ft.Z,null,L.createElement(It.Z,null,L.createElement(yt.Z,{mobileWidth:.5,width:.5},this.renderAnswerWith(!0)),L.createElement(yt.Z,{mobileWidth:.5,width:.5},this.renderPromptWith())),L.createElement("div",{className:"TestModeOptions-cols"},this.renderAnswerWithError(!0),this.renderPromptWithError(!0),this.renderSidesRecallMessage()))}renderAdvancedOptionsMobile(){var e=new Set(this.state.answerWith),t=new Set(this.state.promptWith);return L.createElement(ft.Z,null,L.createElement(It.Z,null,L.createElement(yt.Z,{mobileWidth:1,width:1},L.createElement(vt.Z,{legend:L.createElement(gt.Z,{id:"test.options.answer_with_label"})},L.createElement("div",{className:"TestModeOptions-cols"},L.createElement("div",{className:"TestModeOptions-col"},L.createElement(St.Z,{checked:e.has(a.dU_.WORD),label:this.props.promptWithWordLabel,name:""+a.dU_.WORD,onChange:this.handleToggleAnswerSide}),L.createElement(St.Z,{checked:e.has(a.dU_.DEFINITION),label:this.props.promptWithDefLabel,name:""+a.dU_.DEFINITION,onChange:this.handleToggleAnswerSide}),this.props.hasDiagrams?L.createElement(St.Z,{checked:e.has(a.dU_.LOCATION),label:this.props.promptWithLocationLabel,name:""+a.dU_.LOCATION,onChange:this.handleToggleAnswerSide}):null,this.renderAnswerWithError())))),L.createElement(yt.Z,{mobileWidth:1,width:1},L.createElement(vt.Z,{legend:L.createElement(gt.Z,{id:"test.options.prompt_with_label"})},L.createElement("div",{className:"TestModeOptions-cols"},L.createElement("div",{className:"TestModeOptions-col"},L.createElement(St.Z,{checked:t.has(a.dU_.WORD),label:this.props.promptWithWordLabel,name:""+a.dU_.WORD,onChange:this.handleTogglePromptSide}),L.createElement(St.Z,{checked:t.has(a.dU_.DEFINITION),label:this.props.promptWithDefLabel,name:""+a.dU_.DEFINITION,onChange:this.handleTogglePromptSide}),this.props.hasDiagrams?L.createElement(St.Z,{checked:t.has(a.dU_.LOCATION),label:this.props.promptWithLocationLabel,name:""+a.dU_.DEFINITION,onChange:this.handleTogglePromptSide}):null,this.renderPromptWithError()))))),this.renderSidesRecallMessage())}renderAnswerWithError(e){void 0===e&&(e=!1);var t=this.getAnswerWithErrorMessage();return t?L.createElement(Dt,{error:!0,key:"answerError"},t):e&&this.hasPromptWithError()?L.createElement(Dt,{key:"placeholder"}):null}renderPromptWithError(e){void 0===e&&(e=!1);var t=this.getPromptWithErrorMessage();return t?e&&this.hasSameSelectedSidesError()?null:L.createElement(Dt,{error:!0,key:"promptError"},t):null}renderRequestedInvalidNumQuestionsError(){var{questionCountErrorType:e}=this.state;return L.createElement(It.Z,null,L.createElement(jt.Z,{boxed:!0,variant:"alert"},e===dt.EMPTY_QUESTION_COUNT?L.createElement(gt.Z,{id:"test.requested_num_questions_empty",numQuestions:this.getMaxAvailableQuestions()}):null,e===dt.EXCEEDED_MAX_QUESTION_COUNT?L.createElement(gt.Z,{id:"test.requested_num_questions_invalid",numQuestions:this.getMaxAvailableQuestions()}):null))}renderSidesRecallMessage(){if(this.hasAnswerWithError()||this.hasPromptWithError())return null;var e=this.getSidesRecallMessage();return e?L.createElement(Dt,{key:"recallMessage"},e):null}renderQuestionCount(){var e=this.getMaxAvailableQuestions();return[L.createElement(ft.Z,{key:"input"},L.createElement("div",{className:"TestModeOptions-questionLimitInputLabel"},L.createElement(gt.Z,{id:"test.question_limit_input_label_before",totalNumTerms:e})),L.createElement("div",{className:"TestModeOptions-questionLimitInputWrapper"},L.createElement(Tt.Z,{"aria-label":(0,x.Z)("test.num_questions_input",{totalNumTerms:e}),invalid:this.isRequestedNumQuestionsInvalid(),name:"questionCount",onChange:this.handleUpdateQuestionCount,size:3,type:"number",value:String(this.state.questionCount)})),L.createElement("div",{className:"TestModeOptions-questionLimitInputLabel"},L.createElement(gt.Z,{id:"test.question_limit_input_label_after",totalNumTerms:e}))),this.props.numDuplicateTerms>0?L.createElement(ft.Z,{key:"dupTermsWrapper"},L.createElement(gt.Z,{id:"test.duplicate_terms_found",numDuplicateTerms:this.props.numDuplicateTerms})):null,this.props.numPartialDuplicateTerms>0?L.createElement(ft.Z,{key:"partialDupTermsWrapper"},L.createElement(gt.Z,{id:"test.partial_duplicate_terms_found",numPartialDuplicateTerms:this.props.numPartialDuplicateTerms})):null]}renderShowImages(){return L.createElement(St.Z,{checked:this.state.showImages,disabled:!this.props.showToggleImagesOption,label:L.createElement(gt.Z,{id:"test.options.images.label"}),onChange:this.handleUpdateShowImages})}renderDisabledImagesExplanation(){return L.createElement(ft.Z,{className:"TestModeOptions-disabledImagesExplanation"},L.createElement(gt.Z,{id:"test.options.images.disabled_images_explanation"}))}renderQuestionTypesError(){var e=this.getQuestionTypesErrorMessage();return e?L.createElement(Dt,{error:!0,key:"questionTypesError"},e):null}renderSelectedOnly(){var e=0!==this.props.numSelectedTerms;return L.createElement(vt.Z,{legend:L.createElement(gt.Z,{id:"test.options.selected_only.heading"})},L.createElement(Ct.Z,{disabled:!e,name:"selectedOnly",onChange:this.handleUpdateStarred,value:e?""+String(this.state.selectedOnly):"false"},L.createElement(Ct.A,{value:"false"},L.createElement(gt.Z,{id:"test.options.selected_only.label.all"})),L.createElement(Ct.A,{value:"true"},L.createElement(gt.Z,{id:"test.options.selected_only.label.selected_only"}))))}render(){return L.createElement("div",{className:"TestModeOptions","data-testid":"TestModeOptions"},L.createElement("form",{action:this.props.formUrl,method:"get",onSubmit:this.handleSubmit},L.createElement(It.Z,null,L.createElement(ht.Z,{"aria-label":(0,x.Z)("test.create_new_test_button"),disabled:this.isRequestedNumQuestionsInvalid(),hero:!0,type:"submit",width:"fill"},L.createElement(gt.Z,{id:"test.create_new_test_button"}))),this.isRequestedNumQuestionsInvalid()?this.renderRequestedInvalidNumQuestionsError():null,L.createElement(It.Z,null,this.isMcqSet()?null:L.createElement(yt.Z,{width:.5},L.createElement(vt.Z,{legend:L.createElement(gt.Z,{id:"test.question_types_label"})},this.renderQuestionTypes())),L.createElement(yt.Z,{width:.5},L.createElement(vt.Z,{legend:L.createElement(gt.Z,{id:"test.question_limit_label"})},this.renderQuestionCount()),this.isMcqSet()?null:L.createElement(L.Fragment,null,L.createElement(vt.Z,{legend:L.createElement(gt.Z,{id:"test.options.images.heading"})},this.renderShowImages()),this.props.hasImages&&!this.props.showToggleImagesOption?this.renderDisabledImagesExplanation():null))),this.isMcqSet()?null:L.createElement(L.Fragment,null,L.createElement(bt.Z,null),L.createElement(It.Z,null,L.createElement(yt.Z,{mobileWidth:1,width:1},this.renderSelectedOnly())),this.renderSides()),L.createElement(bt.Z,null),L.createElement(It.Z,null,L.createElement(At.Z,{to:"/privacy"},(0,x.Z)("about.legal.tabs.privacy_policy")))))}hasAnswerWithError(){return!!this.getAnswerWithErrorMessage()}hasPromptWithError(){return!!this.getPromptWithErrorMessage()}hasSameSelectedSidesError(){var e=this.state.answerWith,t=this.state.promptWith;return this.state.isAdvancedOptionsExpanded&&1===e.length&&1===t.length&&JSON.stringify(e)===JSON.stringify(t)}isRequestedNumQuestionsInvalid(){return this.state.questionCount>this.getMaxAvailableQuestions()||this.state.questionCount<1}isMcqSet(){return!(!this.props.hasMcq||this.props.itemType!==a.MG.SET)}}var kt=s("./app/j/utils/ModeHelper.ts"),Rt=s("./app/j/utils/ScrollInfo.ts"),Pt=(0,A.z)("div")({name:"PrintHide",class:"p10zjxty"}),Mt=(0,A.z)("div")({name:"AdditionalOptions",class:"atgs5bo",vars:{"atgs5bo-0":[e=>e.shouldShowOptionsButton?w.Ki.Small:0],"atgs5bo-2":[e=>e.shouldShowOptionsButton?w.Ki.Xsmall:0]}});s("./.linaria-cache/app/j/study-modes/test/components/TestModeControls.linaria.css");var Zt=(0,h.createStructuredSelector)({defLabel:Z.qu,formUrl:Z._e,isInStudyPathFlow:Z.Yx,locationLabel:Z.Qj,options:Z.iE,selectedCount:Z.Nw,showToggleImagesOption:Z.mW,wordLabel:Z.Ej,testModeView:Z.et}),Ut=(0,h.createStructuredSelector)({hasDiagrams:T.XQ,hasImages:v.bs,isEmbedding:f.QE,studyablePath:T.f3,studiableContainerTitle:T.ZM,studiableContainerId:T.uf,isOptionsModalOpen:f.Lf,hasReachedMeteringThreshold:S.Br,studiableItems:v.mb,hasMcqs:v.Th}),Bt=(0,E.compose)((0,g.connect)(Ut,(e=>({actions:(0,E.bindActionCreators)({setIsOptionsModalOpen:y.bL,logStudyNavigationEvent:u.F},e)})),null,{context:_.tC}),(0,g.connect)(Zt,(e=>({actions:(0,E.bindActionCreators)({onSettingsChange:Ke,toggleToC:he.pl},e)})),o.Q,{context:m.jJ}))((function(e){var{actions:t,defLabel:s,formUrl:n,hasDiagrams:r,hasImages:o,hasMcqs:i,hasReachedMeteringThreshold:l,isEmbedding:d,isOptionsModalOpen:u,itemType:c,locationLabel:p,options:m,selectedCount:_,studiableContainerTitle:g,studiableContainerId:E,showToggleImagesOption:h,studiableItems:S,studyablePath:y,testModeView:f,wordLabel:v}=e,{t:T}=(0,D.Z)(),{logPageAction:A}=(0,C.wL)(),[w,k]=(0,L.useState)(!1),R=!w,P=R&&[V.d.TEST,V.d.REVIEW].includes(f),M=R&&[V.d.TEST,V.d.REVIEW].includes(f),Z=f===V.d.TEST&&!l,U=f===V.d.PAYWALL&&(0,Ue.RF)();return(0,L.useEffect)((()=>{function e(){var e=Rt.Z.getScrollTop();e>450&&f===V.d.REVIEW&&!w?k(!0):e<=450&&w&&k(!1)}return e(),window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)})),L.createElement(L.Fragment,null,L.createElement(Pt,null,L.createElement(O.Z,{actions:{logStudyNavigationEvent:t.logStudyNavigationEvent},additionalOptions:L.createElement(Mt,{shouldShowOptionsButton:Z},(()=>{if(!M)return null;function e(){var e;switch(f){case V.d.TEST:e=Ee.Yo;break;case V.d.REVIEW:e=Ee.NG;break;default:e=Ee.mK}A(e),window.print()}return L.createElement(L.Fragment,null,L.createElement(b.ZP,{lowerBound:"l"},L.createElement(O.o,null,L.createElement(j.B0,{onClick:e,text:T("test.print_test_button")}))),L.createElement(b.ZP,{lowerBound:"m",upperBound:"l"},L.createElement(O.o,null,L.createElement(j.JZ,{alt:T("test.print_test_button"),icon:"print",onClick:e,shape:"square",size:"medium",variant:I.IQ.SECONDARY}))))})(),P?L.createElement(b.ZP,{upperBound:"l"},L.createElement(O.o,null,L.createElement(j.JZ,{alt:T("test.toc.show_questions_alt"),icon:"learn",onClick:()=>{A("clicked_toc_header"),setTimeout(t.toggleToC,0)},shape:"square",size:"medium",variant:I.IQ.SECONDARY}))):null,w?L.createElement(O.o,null,L.createElement(lt,null)):null),isEmbedding:d,modeName:(0,kt.ZP)(x.Z,a.aKJ.TEST),modeType:(0,kt.tc)(a.aKJ.TEST),onClickOptions:()=>{A("clicked_new_test_options_modal"),t.setIsOptionsModalOpen(!0)},progress:U?void 0:L.createElement(Y,{shouldShowStickyHeader:w,studiableContainerTitle:g}),progressBar:L.createElement(J,null),shouldShowOptionsButton:Z,studyableContainerId:E,studyablePath:y})),L.createElement(N.Z,{headerContent:T("test.options.heading"),includeCloseButton:!0,isOpen:Boolean(u),onClose:()=>t.setIsOptionsModalOpen(!1)},L.createElement(Lt,{formUrl:n,hasDiagrams:r,hasImages:o,hasMcq:i,itemType:c,numDuplicateTerms:0,numPartialDuplicateTerms:0,numSelectedTerms:_,numStudiableItems:S.length,numTotalTerms:S.length,onSettingsChange:t.onSettingsChange,options:m,promptWithDefLabel:s,promptWithLocationLabel:p,promptWithWordLabel:v,showToggleImagesOption:h})))})),Wt=s("./app/j/rich_text/RichTextContext.ts"),Ht=(s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./app/j/core/selectors.ts")),Gt=s("./app/j/study-modes/common/components/RoundCompletePaywall.tsx"),Qt=s("./app/j/components/ReviewStat.tsx"),Ft=(0,A.z)("section")({name:"TestSection",class:"t1nasyf8"}),qt=(0,A.z)(Ft)({name:"PrintSection",class:"p1way1t7"}),zt=(0,A.z)(Ft)({name:"CtaWrapper",class:"cdm2lgu"}),Kt=(w.Ki.Large,(0,A.z)("section")({name:"ScoreIcon",class:"srm4bze"})),Vt=(0,A.z)("section")({name:"TimeIconWrapper",class:"tuujxra"}),Yt=(0,A.z)("section")({name:"TimeIcon1",class:"t1kukstf"}),Xt=(0,A.z)("section")({name:"TimeIcon2",class:"t1wuav5r"}),Jt=(0,A.z)("section")({name:"TimeIcon3",class:"t1x3xs7z"}),$t=(0,A.z)("section")({name:"ScoreWrapper",class:"so517vd"}),es=(0,A.z)("span")({name:"Percentage",class:"p1bn4u3m"});s("./.linaria-cache/app/j/study-modes/test/components/styles.linaria.css");var ts=(0,A.z)("div")({name:"AttemptWrapper",class:"agzwnit"});function ss(){var{t:e}=(0,D.Z)(),t=(0,m.v9)(Z.dX),s=(0,m.v9)(Z.jN),n=(0,m.v9)(Z.H5),a=(0,m.v9)(Z.x1);if(null===n)throw new Error("A test must be graded before rendering graded results");return L.createElement(ts,null,L.createElement(Qt.Z,{icon:L.createElement(Kt,null),key:"score",title:e("test.review_card.stats.score_label"),value:L.createElement($t,null,L.createElement("span",null,""+e("test.review_card.stats.score",{numCorrect:t,numTotal:s})),L.createElement(es,null,"(",""+(0,q.Sr)(n),")"))}),L.createElement(Qt.Z,{icon:L.createElement(Vt,null,L.createElement(Yt,null),L.createElement(Xt,null),L.createElement(Jt,null)),key:"time",title:e("test.review_card.stats.time_label"),value:e("test.review_card.stats.time_results",{minutes:a})}))}s("./.linaria-cache/app/j/study-modes/test/components/PaywallTestResults.linaria.css");var ns=s("./app/j/utils/AuBtsExperimentHelper.ts");function as(){var{t:e}=(0,D.Z)(),{logPageAction:t}=(0,C.wL)(),s=(0,ns.LL)(),n=Boolean((0,m.v9)(Z.NK)),r=(0,m.v9)(Ht.Iq),o=(0,_.v9)(T.uf),i=(0,_.v9)(pe.Lx),l=(0,m.I0)();return L.createElement(Gt.Z,{isTeacher:r,onShow:()=>{t("au_bts_remaining_attempts_paywall_impression",{set_id:o,study_session_id:i.getStudySessionId(),test_variant:s()})},page:Gt.G.TEST,secondaryButtonProps:{onClick:()=>{n?l(he.Nw.setTestModeView(V.d.REVIEW)):window.location.replace((0,kt.$2)(o,a.aKJ.FLASHCARDS))},text:n?void 0:e("learning_assistant.round_complete_paywall.study_with_flashcards")},setId:o,studyEventLogger:i},n?L.createElement(ss,null):null)}var rs=s("./app/j/study-modes/common/misc/ads/actions.ts"),os=s("./app/j/study-modes/common/misc/ads/selectors.ts"),is=s("./app/j/ads/components/studyModes/AdTimeLeft.tsx"),ls=s("./app/j/ads/components/Ad.tsx"),ds=s("./app/j/ads/enums/AdsNames.ts"),us=s("./app/j/ads/utils/isVideoAd.ts"),cs=s("./node_modules/polished/dist/polished.cjs.js"),ps=(0,A.z)("section")({name:"AdWrapper",class:"a1qrtzcv",vars:{"a1qrtzcv-2":[e=>{var{isAdEmpty:t}=e;return t?"none":""+(0,cs.hO)(50)}]}}),ms=e=>{var{isAdEmpty:t,onDisplayAd:s,onEmptyAd:n,onVideoAd:a}=e,r=(0,G.Jt)(),o=(0,L.useCallback)((e=>{null==s||s(),null==r||null==r.setIsAdLoaded||r.setIsAdLoaded(!0);var{isVideo:t}=(0,us.Z)(e);t&&(null==a||a(),null==r||null==r.setIsVideoAd||r.setIsVideoAd(!0))}),[s,a,r]),i=(0,L.useCallback)((()=>{null==n||n(),null==r||null==r.setIsEmptyAd||r.setIsEmptyAd(!0)}),[n,r]);return L.createElement(ps,{isAdEmpty:t},L.createElement(ls.Z,{id:ds.h.TEST_STUDY_MODE_AD,onDisplayCallback:o,onEmptyAdCallback:i}))};s("./.linaria-cache/app/j/ads/components/studyModes/test/TestStudyBreakAd.linaria.css");var _s=s("./app/j/ads/constants/adConstants.ts"),gs=s("./app/j/assembly/toasts/index.ts"),Es=s("./app/j/assembly/toasts/types.ts"),hs=s("./node_modules/lodash/nth.js"),Ss=s.n(hs),ys=(0,A.z)("h4")({name:"SectionHeading",class:"sjl6b1d"});s("./.linaria-cache/app/j/study-modes/test/components/Heading.linaria.css");var fs=s("./node_modules/lodash/get.js"),vs=s.n(fs),Ts=(s("./node_modules/core-js/modules/es.object.values.js"),e=>Object.values(e).reduce(((e,t)=>Array.isArray(t)?e+t.length:e+t.options.length),0)),As=(e,t)=>{var s=0;for(var n of Ee.n4){if(n===t)return s;var a=e[n];a&&(s+=Array.isArray(a)?a.length:a.options.length)}return s};function bs(e,t){return{startIndex:As(e,t),totalQuestions:Ts(e)}}function js(e){var{section:t}=e,s=function(e){return(t,s)=>vs()(t,e)===vs()(s,e)}(t),n=(0,m.v9)(Z.y5,s),a=(0,m.v9)(Z.te,s),r=(0,m.v9)(Z._Q,s),o=function(e){return(0,L.useMemo)((()=>({mcq:bs(e,"mcq"),trueFalse:bs(e,"trueFalse"),written:bs(e,"written"),matching:bs(e,"matching")})),[e])}(n);return{questions:n[t],gradedAnswers:vs()(a,t),userAnswers:r[t],counter:o[t]}}var Is=s("./app/j/study-engine/utils.ts"),ws=s("./app/j/study-modes/common/components/CardQuestionCounter.tsx"),Cs=s("./app/j/study-modes/common/components/MultipleChoiceQuestionPrompt.tsx"),Os=(0,A.z)("div")({name:"QuestionWrapper",class:"q1sjw0yf"});function Ns(e){return L.createElement(Os,{id:e.domId,tabIndex:-1},L.createElement(Cs.X,{actions:{answerMultipleChoice:t=>{var s,{value:n}=t;e.gradedAnswer||((null==(s=e.submittedAnswer)?void 0:s.value)===n?e.actions.answerMultipleChoice(null):e.actions.answerMultipleChoice((0,Is.bJ)(n)))}},gradedAnswer:e.gradedAnswer,isMobileCard:!0,keydownEvent:void 0,question:e.question,questionHint:e.questionHint,submittedAnswer:e.submittedAnswer,topRightLabel:L.createElement(ws.Z,{currentQuestionRange:e.questionIndex,totalQuestionCount:e.totalQuestions})}))}s("./.linaria-cache/app/j/study-modes/test/components/MultipleChoiceQuestionView.linaria.css");var xs=(0,A.z)("div")({name:"QuestionWrapper",class:"q12ji0d4"});function Ds(){var{t:e}=(0,D.Z)(),t=(0,m.I0)(),{questions:s,gradedAnswers:n,counter:a,userAnswers:r}=js({section:"mcq"});return s?L.createElement(Ft,null,L.createElement(ys,null,e("test.question_headings.multiple_choice",{numQuestions:s.length})),L.createElement("div",{role:"list"},s.map(((e,s)=>{var o=Ss()(n,s);return L.createElement(xs,{"aria-label":"question",key:e.metadata.studiableItemId,role:"listitem"},L.createElement(Ns,{actions:{answerMultipleChoice:e=>((e,s)=>{t(ze("mcq",e,s))})(e,s)},domId:(0,Oe.Z)({section:"mcq",index:s}),gradedAnswer:null!=o?o:null,question:e,questionIndex:""+(a.startIndex+s+1),submittedAnswer:Ss()(r,s),totalQuestions:""+a.totalQuestions}))})))):null}s("./.linaria-cache/app/j/study-modes/test/components/MultipleChoiceQuestionScene.linaria.css");var Ls=s("./app/j/study-modes/ui/toasts/CommonRemainingToast.tsx"),ks=s("./app/j/utils/redirect.ts");function Rs(e){var{isTeacher:t,autoDisableTimeout:s,onDismiss:n,onShow:a,setId:r,remainingAttempts:o,studyEventLogger:i}=e,{t:l}=(0,D.Z)(),{logPageAction:d}=(0,C.wL)(),u=(0,ns.LL)();return L.createElement(Ls.Z,{autoDisableTimeout:s,cta:l("test.remaining_attempts_toast.dismiss"),details:l("test.remaining_attempts_toast.details"),isTeacher:t,onDismiss:n,onSecondaryCta:()=>{d("test_remaining_attempts_toast_upgrade",{remaining_attempts:o,set_id:r,test_variant:u(),study_session_id:i.getStudySessionId()}),(0,ks.ZP)("/upgrade?source=test_toast")},onShow:a,secondaryCta:l("test.remaining_attempts_toast.upgrade"),title:l("test.remaining_attempts_toast.title")})}var Ps=s("./app/j/study-modes/common/components/StudyCardLayout.tsx"),Ms=s("./app/j/study-modes/common/engine/utils/question-element-utils.ts"),Zs=s("./app/j/components/FormattedTextWithImage.tsx"),Us=s("./app/j/study-modes/common/components/AnswerOption.tsx"),Bs=s("./app/j/study-modes/common/components/QuestionElementView.tsx"),Ws=s("./app/j/study-modes/common/engine/utils/graded-answer-utils.ts"),Hs=s("./app/j/study-modes/common/utils/answerFeedback.ts"),Gs=s("./app/j/study-modes/test/utils/getReactKeyForQuestionElement.ts"),Qs=(0,A.z)("div")({name:"FeedbackItems",class:"fqiyi28"}),Fs=(0,A.z)("div")({name:"Feedback",class:"fg064vi"}),qs=(0,A.z)("div")({name:"AnswerLabel",class:"anp68o5"}),zs=(0,A.z)(qs)({name:"CorrectAnswerLabel",class:"cag3g2z"}),Ks=(0,A.z)(qs)({name:"IncorrectAnswerLabel",class:"i1ctr3sz"}),Vs=e=>(0,Ws.jn)(e)?Us.B.SkippedCorrect:Us.B.Correct;function Ys(e){var{gradedAnswers:t,question:s}=e,{t:n}=(0,D.Z)();return L.createElement("div",null,s.prompts.map(((e,a)=>{var r,o=le()(Ss()(t,a)),i=o.feedback.expectedAnswer.value,l=null==(r=o.feedback.submittedAnswer)?void 0:r.value;return L.createElement(Fs,{id:"matching-"+a,key:(0,Gs.Z)(e,a)},L.createElement(Bs.Z,{questionElement:e,textfit:!1}),function(e,t,s){return(0,Ws.ZP)(t)?void 0===s?L.createElement(qs,null,e("assistant.label.dont_know_feedback")):(0,Ws.e0)(t)?L.createElement(zs,null,(0,Hs.c)(e)):L.createElement(Ks,null,(0,Hs.u)(e)):L.createElement(qs,null,e("test.true_false.choose_answer"))}(n,o,l),L.createElement(Qs,null,(e=>(0,Ws.uL)(e)&&!(0,Ws.jn)(e))(o)?L.createElement(Us.Z,{variant:Us.B.Incorrect},L.createElement(Bs.Z,{alignment:Zs.v.Center,questionElement:s.options[le()(l)],textfit:!1})):null,L.createElement(Us.Z,{variant:Vs(o)},L.createElement(Bs.Z,{alignment:Zs.v.Center,questionElement:s.options[i],textfit:!1}))))})))}s("./.linaria-cache/app/j/study-modes/ui/questions/matching/MatchingFeedbackView.linaria.css");var Xs=s("./app/j/assembly/AssemblyIcon.tsx"),Js=s("./app/j/constants/KeyConstants.ts"),$s=(0,A.z)("div")({name:"Answer",class:"a99ei82"}),en=(0,A.z)("div")({name:"Question",class:"qcpiy8g"}),tn=(0,A.z)("span")({name:"HelperText",class:"hkyil8p"}),sn=(0,A.z)("div")({name:"Icon",class:"ie9iva9"});function nn(e){var{domId:t,questionElement:s,helperText:n,isActive:a,onClick:r,onIconClick:o}=e,i=!s&&!a;return L.createElement($s,{className:mt()({ah3z5j1:a,e17gih4t:i,h1onkwd1:n}),id:t,onClick:r,tabIndex:-1},s?L.createElement(L.Fragment,null,L.createElement(en,null,L.createElement(Bs.Z,{alignment:Zs.v.Center,questionElement:s,textfit:!1})),L.createElement(sn,{onClick:o,onKeyDown:e=>{e.key===Js.B&&o&&(e.preventDefault(),o())},tabIndex:0},L.createElement(Xs.ZP,{icon:"x",size:Xs.i.Small}))):null,!s&&n?L.createElement(tn,null,n):null)}s("./.linaria-cache/app/j/study-modes/ui/questions/matching/MatchingAnswer.linaria.css");var an=(0,A.z)("div")({name:"Option",class:"o1q1tz6w"});function rn(e){var{isHidden:t,onClick:s,questionElement:n}=e;return L.createElement(an,{className:mt()({hg3d33q:t}),onClick:s,onKeyDown:e=>{e.key!==Js.B||t||(e.preventDefault(),s())},tabIndex:t?-1:0},L.createElement(Bs.Z,{alignment:Zs.v.Center,questionElement:n,shouldImageBeZoomable:!1,textfit:!1}))}s("./.linaria-cache/app/j/study-modes/ui/questions/matching/MatchingOption.linaria.css");var on=(0,A.z)("div")({name:"PromptArea",class:"pyorrzn",vars:{"pyorrzn-2":[e=>e.stretchLeft?"3fr":"1.25fr"],"pyorrzn-3":[e=>e.stretchRight?"3fr":"1fr"]}}),ln=(0,A.z)("div")({name:"OptionArea",class:"o1yfg32x"});function dn(e){var t=Ss()(e,0);if(!t)return!1;var{text:s,image:n}=(0,Ms.Sg)(t),a=null==s?void 0:s.plainText.trim(),r=a&&a.length>30;return Boolean(n&&a||r)}function un(e){var{onAnswer:t,question:s,submittedAnswers:n}=e,{t:a}=(0,D.Z)(),[r,o]=(0,L.useState)(0),i=(0,Ue.P0)((0,$.Z)(),"s");function l(e){if(null!==r){var a=(0,Is.bJ)(e);t(a,r),o(function(){if(null===r)return null;for(var e=e=>(e+1)%s.prompts.length,t=e(r);t!==r;t=e(t))if(!Ss()(n,t))return t;return null}())}}var d=!(null!=n&&n.some(Boolean));return L.createElement("div",null,L.createElement(on,{stretchLeft:dn(s.options),stretchRight:dn(s.prompts)},s.prompts.map(((e,l)=>{var u=Ss()(n,l),c=u?Ss()(s.options,u.value):null,p=L.createElement(nn,{domId:"matching-"+l,helperText:d&&r===l?a("test.matching.select_from_list_helper_text"):void 0,isActive:r===l,onClick:()=>o(l),onIconClick:()=>{o(l),t(null,l)},questionElement:c});return L.createElement(L.Fragment,{key:(0,Gs.Z)(e,l)},i?p:null,L.createElement(Bs.Z,{alignment:Zs.v.Center,questionElement:e,textfit:!1}),i?null:p)}))),L.createElement(ln,null,s.options.map(((e,t)=>L.createElement(rn,{isHidden:!(null==n||!n.some((e=>(null==e?void 0:e.value)===t))),key:(0,Gs.Z)(e,t),onClick:()=>l(t),questionElement:e})))))}s("./.linaria-cache/app/j/study-modes/ui/questions/matching/MatchingPromptView.linaria.css");var cn=(0,A.z)(Ps.Z)({name:"Wrapper",class:"w1gr2rdi"}),pn=(0,A.z)("div")({name:"Heading",class:"h1jxpylc"}),mn=(0,A.z)("div")({name:"SubHeading",class:"ser6cev"}),_n=(0,A.z)("div")({name:"TopRightWrapper",class:"t11pozqm"});function gn(e){var{gradedAnswers:t,onAnswer:s,question:n,submittedAnswers:r,topRightSlot:o}=e,{t:i}=(0,D.Z)(),l=function(e,t){var{answerSide:s}=t.metadata;if(s===a.dU_.WORD){var[n]=t.prompts;return e((0,Ms.Im)(n)&&""===(0,Ms.dC)(n)?"test.matching.subheading_term_to_image":"test.matching.subheading_term_to_definition")}if(s===a.dU_.DEFINITION){var[r]=t.options;return e((0,Ms.Im)(r)&&""===(0,Ms.dC)(r)?"test.matching.subheading_image_to_term":"test.matching.subheading_definition_to_term")}throw new Error("Matching Questions: Unsupported answer side "+s)}(i,n);return L.createElement(cn,{isMobileCard:!0},L.createElement(pn,null,i("test.matching.heading")),L.createElement(mn,null,l),t?L.createElement(Ys,{gradedAnswers:t,question:n}):L.createElement(un,{onAnswer:s,question:n,submittedAnswers:r}),o?L.createElement(_n,null,o):null)}function En(){var{t:e}=(0,D.Z)(),t=(0,m.I0)(),{questions:s,gradedAnswers:n,counter:a,userAnswers:r}=js({section:"matching"});if(!s)return null;var{startIndex:o,totalQuestions:i}=a,l=o+s.prompts.length;return L.createElement(Ft,null,L.createElement(ys,null,e("test.question_headings.matching",{numQuestions:s.prompts.length})),L.createElement(gn,{gradedAnswers:n,onAnswer:(e,s)=>((e,s)=>{t(ze("matching",e,s))})(e,s),question:s,submittedAnswers:r,topRightSlot:L.createElement(ws.Z,{currentQuestionRange:o+1+"-"+l,totalQuestionCount:""+i})}))}s("./.linaria-cache/app/j/study-modes/ui/questions/matching/MatchingQuestionView.linaria.css");var hn=s("./app/j/study-modes/common/components/TopRightWrapper.tsx"),Sn=s("./app/j/study-modes/common/containers/StudyCardQuestionContainer.tsx"),yn=(0,A.z)(Ps.Z)({name:"Wrapper",class:"w1gd4v28"}),fn=(0,A.z)("div")({name:"PromptSide",class:"pr2w5fu"}),vn=(0,A.z)("div")({name:"Prompt",class:"p1tur8tp",vars:{"p1tur8tp-0":[e=>e.stretchLeft?"1.4fr":"1fr"],"p1tur8tp-1":[e=>e.stretchRight?"1.4fr":"1fr"]}}),Tn=(0,A.z)("div")({name:"AnswerWrapper",class:"albjleu"}),An=(0,A.z)("div")({name:"AnswerLabel",class:"a548wz9"}),bn=(0,A.z)(An)({name:"CorrectAnswerLabel",class:"cfzatrd"}),jn=(0,A.z)(An)({name:"IncorrectAnswerLabel",class:"i1m47dqj"});function In(e,t,s){return(0,Ws.ZP)(t)?s?(0,Ws.ED)(e,t)?(0,Ws.EE)(e,t)?Us.B.Correct:Us.B.Incorrect:Us.B.Disabled:(0,Ws.EE)(e,t)?Us.B.SkippedCorrect:Us.B.Disabled:(null==s?void 0:s.value)===e?Us.B.Selected:Us.B.Default}function wn(e){var{domId:t,gradedAnswer:s,onAnswer:n,question:a,submittedAnswer:r,topRightLabel:o}=e,{t:i}=(0,D.Z)();function l(e){s||((null==r?void 0:r.value)===e?n(null):n((0,Is.Vr)(e)))}var d=e=>{var{text:t,image:s,location:n}=(0,Ms.Sg)(e),a=!(null==t||!t.plainText.trim());return Boolean(a&&s&&!n)};return L.createElement(yn,{id:t,isMobileCard:!0,tabIndex:-1},L.createElement(vn,{stretchLeft:d(a.prompt),stretchRight:d(a.goesWith)},L.createElement(fn,null,L.createElement(Sn.Z,{questionElement:a.prompt,shouldShowAudioIcon:!0,side:a.metadata.promptSide,variant:Bs.f.SMALL})),L.createElement(fn,null,L.createElement(Sn.Z,{questionElement:a.goesWith,shouldShowAudioIcon:!0,side:a.metadata.answerSide,variant:Bs.f.SMALL}))),(0,Ws.ZP)(s)?r?(0,Ws.e0)(s)?L.createElement(bn,null,(0,Hs.c)(i)):L.createElement(jn,null,(0,Hs.u)(i)):L.createElement(An,null,i("assistant.label.dont_know_feedback")):L.createElement(An,null,i("test.true_false.choose_answer")),L.createElement(Tn,null,L.createElement(Us.Z,{onClick:()=>l(!0),variant:In(!0,s,r)},i("test.true_false.true")),L.createElement(Us.Z,{onClick:()=>l(!1),variant:In(!1,s,r)},i("test.true_false.false"))),(0,Ws.ZP)(s)&&(0,Ws.EE)(!1,s)?L.createElement(L.Fragment,null,L.createElement(An,null,i("test.true_false.correct_definition")),L.createElement(Us.Z,{variant:Us.B.Correct},L.createElement(Bs.Z,{alignment:Zs.v.Center,questionElement:s.feedback.expectedAnswerDescription}))):null,o?L.createElement(hn.T,null,o):null)}function Cn(){var{t:e}=(0,D.Z)(),t=(0,m.I0)(),{questions:s,gradedAnswers:n,counter:a,userAnswers:r}=js({section:"trueFalse"});return s?L.createElement(Ft,null,L.createElement(ys,null,e("test.question_headings.true_false",{numQuestions:s.length})),L.createElement("div",{role:"list"},s.map(((e,s)=>L.createElement("div",{key:e.metadata.studiableItemId,role:"listitem"},L.createElement(wn,{domId:"trueFalse-"+s,gradedAnswer:Ss()(n,s),onAnswer:e=>((e,s)=>{t(ze("trueFalse",e,s))})(e,s),question:e,submittedAnswer:Ss()(r,s),topRightLabel:L.createElement(ws.Z,{currentQuestionRange:""+(a.startIndex+s+1),totalQuestionCount:""+a.totalQuestions})})))))):null}s("./.linaria-cache/app/j/study-modes/test/components/questions/TrueFalseQuestionView.linaria.css");var On=s("./app/j/assembly/modals/index.ts");function Nn(e){var{isOpen:t,onClose:s,onHeed:n,onIgnore:a}=e,{t:r}=(0,D.Z)(),{logPageAction:o}=(0,C.wL)();return(0,L.useEffect)((()=>{t&&o("skipped_answers_warning_shown")}),[t]),L.createElement(On.g,{isOpen:t,mobileVariant:"bottomSheet",onClose:s,primaryAction:{onClick:()=>{o("skipped_answers_go_back_selected"),n()},text:r("test.skipped_questions_warning_modal.heed_warning_cta")},secondaryAction:{onClick:()=>{o("skipped_answers_still_submitted"),a()},text:r("test.skipped_questions_warning_modal.ignore_warning_cta")},subtitle:r("test.skipped_questions_warning_modal.subtitle"),title:r("test.skipped_questions_warning_modal.title")})}var xn=s("./app/j/study-modes/common/components/ReviewCard.tsx");function Dn(e,t){return e(t<=75?"test.review_card.title.motivational_message_score_75_or_below":t<=89?"test.review_card.title.motivational_message_score_76_to_89":"test.review_card.title.motivational_message_score_90_and_above")}function Ln(e,t){return e(t<=75?"test.review_card.subtitle.learning_science_tip_score_75_or_below":t<=89?"test.review_card.subtitle.learning_science_tip_score_76_to_89":"test.review_card.subtitle.learning_science_tip_score_90_and_above")}function kn(){var{logPageAction:e}=(0,C.wL)(),t=(0,ns.LL)(),s=(0,_.v9)(S.Br),n=(0,_.v9)(pe.Lx),a=(0,_.v9)(T.uf),r=(0,m.v9)(Z.x1),o=(0,m.v9)(Z.dX),i=(0,m.v9)(Z.jN),l=(0,m.v9)(Z.H5),d=(0,m.I0)();if(null===o||null===l)throw new Error("Must generate test results before rendering a review card");return(0,L.useEffect)((()=>{s&&e("test_results_paywall_button_impressed",{setId:a,test_variant:t(),study_session_id:n.getStudySessionId()})}),[]),L.createElement(Rn,{gradePercentage:l,hasReachedMeteringThreshold:s,numCorrect:o,numQuestions:i,retryWithMissed:()=>d(Ye()),takeNewTest:()=>d(rt()),testTimeInMinutes:r})}function Rn(e){var{hasReachedMeteringThreshold:t,testTimeInMinutes:s,numCorrect:n,numQuestions:a,gradePercentage:r,takeNewTest:o,retryWithMissed:i}=e,{t:l}=(0,D.Z)(),{logPageAction:d}=(0,C.wL)(),u=[L.createElement(Qt.Z,{icon:L.createElement(Kt,null),key:"score",title:l("test.review_card.stats.score_label"),value:L.createElement($t,null,L.createElement("span",null,""+l("test.review_card.stats.score",{numCorrect:n,numTotal:a})),L.createElement(es,null,"(",""+(0,q.Sr)(r),")"))}),L.createElement(Qt.Z,{icon:L.createElement(Vt,null,L.createElement(Yt,null),L.createElement(Xt,null),L.createElement(Jt,null)),key:"time",title:l("test.review_card.stats.time_label"),value:l("test.review_card.stats.time_results",{minutes:s})})];return L.createElement(xn.Z,{primaryButtonProps:{text:l("test.review_card.retry_test_button"),onClick:()=>{d("clicked_take_a_new_test"),o()},rightIcon:t?"lock":void 0},secondaryButtonProps:100!==r?{text:l("test.review_card.retry_test_with_missed_button"),onClick:()=>{d("clicked_retest_with_missed"),i()}}:void 0,stats:u,subtitle:Ln(l,r),title:Dn(l,r)})}var Pn,Mn=s("./node_modules/@linaria/core/lib/index.js"),Zn=s("./app/j/hooks/usePrevious.tsx");function Un(e){var t=(0,m.v9)(Z.yM),s=(0,Zn.Z)(t),[n,a]=(0,L.useState)(t?Pn.OPEN:Pn.CLOSED);return(0,L.useLayoutEffect)((()=>{var e=!0===s;e&&!t?a(Pn.CLOSING):t&&!e&&a(Pn.OPENING)}),[t,s]),{className:e[n],isOpening:n===Pn.OPENING,isClosing:n===Pn.CLOSING,handleAnimationEnd(){switch(n){case Pn.OPENING:a(Pn.OPEN);break;case Pn.CLOSING:a(Pn.CLOSED)}}}}!function(e){e.OPENING="opening",e.OPEN="open",e.CLOSING="closing",e.CLOSED="closed"}(Pn||(Pn={}));var Bn=(0,A.z)("div")({name:"AnimationWrapper",class:"a1f2m6c4"});function Wn(e){var{className:t,handleAnimationEnd:s}=Un({opening:"og9qzt1",open:"o1rc3nf3",closing:"c15bi9wp"});return L.createElement(Bn,{className:(0,Mn.cx)(t),onAnimationEnd:s},e.children)}s("./.linaria-cache/app/j/study-modes/test/components/TestSceneSlideAnimation.linaria.css");var Hn=s("./app/j/study-modes/common/grading/selectors.ts"),Gn=s("./node_modules/lodash/last.js"),Qn=s.n(Gn),Fn=s("./app/j/study-modes/ui/questions/written/WrittenQuestionPrompt.tsx"),qn=(0,A.z)("div")({name:"QuestionWrapper",class:"q1t9fgzq"});function zn(e){var{t}=(0,D.Z)(),s=(0,$.Z)(),[n,a]=(0,L.useState)(!1),r=(0,L.useRef)(null);return L.createElement(qn,{id:e.domId,onBlur:()=>a(!1),onFocus:t=>{if(!(0,Ue.Lu)(s,"m")){var n=t.relatedTarget&&t.currentTarget.contains(t.relatedTarget);e.gradedAnswer||t.target!==r.current||n||a(!0)}},ref:r,tabIndex:-1},L.createElement(Fn.Z,{actions:e.actions,answerSideAccents:e.answerSideAccents,autoFocus:n,focusOptions:{preventScroll:!0},gradedAnswer:e.gradedAnswer,isGrading:e.isGrading,question:e.question,shouldShowLangInLabel:e.shouldShowLangInLabel,shouldShowSmartGradingBadge:!1,shouldShowSmartGradingUpsell:!1,shouldShowSubmitButton:e.shouldShowNextButton,submitButtonText:t("test.written.next_question_button"),topRightLabel:L.createElement(ws.Z,{currentQuestionRange:e.questionIndex,totalQuestionCount:e.totalQuestions})}))}s("./.linaria-cache/app/j/study-modes/test/components/WrittenQuestionView.linaria.css");var Kn=(0,A.z)("div")({name:"QuestionWrapper",class:"q1sv7y1h"});s("./.linaria-cache/app/j/study-modes/test/components/scenes/WrittenQuestionScene.linaria.css");var Vn=(0,g.connect)((e=>({acceptsPartialAnswer:Boolean((0,f.R9)(e)),accents:(0,v.Uv)(e),isGrading:(0,Hn.Em)(e),wordLang:(0,v.lb)(e),definitionLang:(0,v.aW)(e)})),(e=>({actions:(0,E.bindActionCreators)({setIsOptionsModalOpen:y.bL},e)})),null,{context:_.tC})((function(e){var{t}=(0,D.Z)(),s=(0,m.I0)(),{questions:n,gradedAnswers:a,counter:r}=js({section:"written"});if(!n)return null;var o=t=>!(!(0,Ms.dC)(t.prompt)||e.wordLang===e.definitionLang),i=e=>e!==n.length-1||"written"!==Qn()(Ee.n4);return L.createElement(Ft,null,L.createElement(ys,null,t("test.question_headings.written",{numQuestions:n.length})),L.createElement("div",{role:"list"},n.map(((t,n)=>{var l;return L.createElement(Kn,{key:t.metadata.studiableItemId,role:"listitem"},L.createElement(zn,{acceptsPartialAnswer:e.acceptsPartialAnswer,actions:{onChangeInput:e=>((e,t)=>{var n=e.trim()?(0,Is.zo)(e):null;s(ze("written",n,t,!1))})(e.target.value,n),setIsOptionsModalOpen:e.actions.setIsOptionsModalOpen,submitAnswer:()=>(e=>{s(Fe({section:"written",index:e}))})(n)},answerSideAccents:t.metadata.answerSide?e.accents[t.metadata.answerSide]:[],domId:(0,Oe.Z)({section:"written",index:n}),gradedAnswer:null!=(l=Ss()(a,n))?l:null,isGrading:e.isGrading,question:t,questionIndex:""+(r.startIndex+n+1),shouldShowLangInLabel:o(t),shouldShowNextButton:i(n),totalQuestions:""+r.totalQuestions}))}))))})),Yn=s("./app/j/assembly/foundations/Color.ts"),Xn=(0,A.z)("li")({name:"QuestionLink0",class:"q1m09plc",vars:{"q1m09plc-1":[e=>e.answered?Yn.fY.Ink100Neutral500:Yn.lo.$400],"q1m09plc-6":[e=>e.heading?w.Ki.Small:0]}});function Jn(e){var{t}=(0,D.Z)();switch(e){case"matching":return t("test.question_type.matching");case"mcq":return t("test.question_type.multiple_choice");case"trueFalse":return t("test.question_type.true_false");case"written":return t("test.question_type.written");default:throw new Error("Unsupported Test section name")}}s("./.linaria-cache/app/j/study-modes/test/toc/QuestionLink.linaria.css");var $n=(0,A.z)("div")({name:"IconWrapper",class:"iayao2g"}),ea=(0,A.z)($n)({name:"CorrectAnswer",class:"c16l7630"}),ta=(0,A.z)($n)({name:"IncorrectAnswer",class:"i1e9dzkh"});function sa(e){var{answer:t}=e;return(0,Ws.ZP)(t)?(0,Ws.e0)(t)?L.createElement(ea,null,L.createElement(Xs.ZP,{icon:"check",size:Xs.i.Small})):L.createElement(ta,null,L.createElement(Xs.ZP,{icon:"x",size:Xs.i.Small})):null}function na(e){var t,s,n,{gradedAnswers:a,questions:r,userAnswers:o}=e,i=Jn("matching"),{startIndex:l}=(0,L.useMemo)((()=>bs(r,"matching")),[r]),{logPageAction:d}=(0,C.wL)();function u(e){d("clicked_question_from_toc_list"),(0,Se.eI)(e)}if(!r.matching)return null;var c=null==(t=o.matching)?void 0:t.every((e=>!!e)),p=!(null==a||null==(s=a.matching)||!s.length),m=r.matching.options.length+l;if(!p){var _=(0,Oe.Z)({section:"matching",index:0});return L.createElement(L.Fragment,null,L.createElement(Xn,{heading:!0,key:"Matching",onClick:()=>u(_)},i),L.createElement(Xn,{answered:c,key:"Matching questions",onClick:()=>u(_)},l+1+"-"+m))}return L.createElement(L.Fragment,null,null==a||null==(n=a.matching)?void 0:n.map(((e,t)=>L.createElement(Xn,{answered:!0,key:"matching-"+t,onClick:()=>(0,Se.eI)((0,Oe.Z)({section:"matching",index:t}))},L.createElement(sa,{answer:e}),l+t+1))))}function aa(e){var t,{gradedAnswers:s,userAnswers:n,questions:a,section:r}=e,o=Jn(r),{startIndex:i}=(0,L.useMemo)((()=>bs(a,r)),[a,r]),{logPageAction:l}=(0,C.wL)();function d(e){l("clicked_question_from_toc_list"),(0,Se.eI)(e)}var u=a[r];if(!u)return null;var c=n[r],p=s&&null!=(t=s[r])?t:[],m=0!==p.length,_=(0,Oe.Z)({section:r,index:0});return L.createElement(L.Fragment,null,m?null:L.createElement(Xn,{heading:!0,key:o,onClick:()=>d(_)},o),u.map(((e,t)=>{var s=Ss()(c,t),n=Ss()(p,t),a=(0,Oe.Z)({section:r,index:t});return L.createElement(Xn,{answered:!!s||!!n,key:o+"/"+(0,Gs.Z)(e.prompt,t),onClick:()=>d(a)},L.createElement(sa,{answer:n}),t+i+1)})))}function ra(e){return L.createElement("ul",null,Ee.n4.map((t=>L.createElement(L.Fragment,{key:t},function(e,t){return"matching"===e?L.createElement(na,t):L.createElement(aa,(0,ut.Z)({},t,{section:e}))}(t,e)))))}s("./.linaria-cache/app/j/study-modes/test/toc/AnswerIcon.linaria.css");var oa=s("./app/j/assembly/AssemblyTooltip.tsx"),ia=(0,A.z)("div")({name:"AbsolutePosition",class:"azyz7ci"}),la=(0,A.z)("div")({name:"ToCWrapper",class:"t117larf"});function da(e){var{isShowing:t,onClick:s}=e,{t:n}=(0,D.Z)(),{className:a,handleAnimationEnd:r,isClosing:o}=Un({opening:"o2sf2tm",closing:"c1i7j6gl"});return t||o?L.createElement(ia,null,L.createElement(oa.Z,{placement:"bottom start",text:n("test.toc.question_list")},L.createElement(la,{className:(0,Mn.cx)(a),onAnimationEnd:r,onClick:s},L.createElement(Xs.ZP,{alt:n("test.toc.show_questions_alt"),icon:"learn"})))):null}s("./.linaria-cache/app/j/study-modes/test/toc/ToCToggler.linaria.css");var ua=["isOpen","toggle"],ca=["isOpen","toggle"],pa=(0,A.z)("nav")({name:"DesktopNav",class:"d1hvvtcp"}),ma=(0,A.z)("div")({name:"DesktopWrapper",class:"d74rnun",vars:{"d74rnun-5":[e=>e.isOpen?"auto":"visible"]}}),_a=(0,A.z)(Xn)({name:"HideQuestion",class:"hbcu5v"}),ga=(0,A.z)("div")({name:"IconWrapper",class:"i124g7yy"});function Ea(e){var{isOpen:t,toggle:s}=e,n=(0,ct.Z)(e,ua),{t:a}=(0,D.Z)(),{logPageAction:r}=(0,C.wL)(),{className:o,handleAnimationEnd:i,isClosing:l}=Un({opening:"diypffq",closing:"d160y9f5"});return L.createElement(ma,{isOpen:t},L.createElement(da,{isShowing:!t,onClick:()=>{r("clicked_toc_header"),s()}}),t||l?L.createElement(pa,{className:(0,Mn.cx)(o),onAnimationEnd:i},L.createElement(_a,{onClick:s},L.createElement(ga,null,L.createElement(Xs.ZP,{icon:"x",size:Xs.i.Small})),a("test.toc.hide_questions")),L.createElement(ra,n)):null)}function ha(e){var{isOpen:t,toggle:s}=e,n=(0,ct.Z)(e,ca),{t:a}=(0,D.Z)();return L.createElement(On.g,{body:L.createElement("nav",null,L.createElement(ra,n)),isOpen:t,mobileVariant:"bottomSheet",onClose:s,title:a("test.toc.question_list")})}function Sa(){var e=(0,Ue.Nc)((0,$.Z)(),"xl"),t=(0,m.I0)(),s={gradedAnswers:(0,m.v9)(Z.te),isOpen:(0,m.v9)(Z.yM),questions:(0,m.v9)(Z.y5),toggle:()=>t((0,he.pl)()),userAnswers:(0,m.v9)(Z._Q)};return e?L.createElement(ha,s):L.createElement(Ea,s)}s("./.linaria-cache/app/j/study-modes/test/toc/TableOfContents.linaria.css");var ya=s("./app/j/test/components/TestModeErrorScene.tsx"),fa=(0,A.z)("div")({name:"TestSectionContainer",class:"t49zntr"}),va=(0,A.z)("div")({name:"TestStudyBreakAdWrapper",class:"tf4awaf",vars:{"tf4awaf-0":[e=>{var{isAdEmpty:t}=e;return t?"none":"flex"}],"tf4awaf-2":[e=>{var{isAdEmpty:t}=e;return t?"none":""+(0,cs.hO)(123)}],"tf4awaf-7":[e=>{var{isAdEmpty:t}=e;return t?"none":""+(0,cs.hO)(50)}]}});function Ta(e){switch(e){case"matching":return L.createElement(En,null);case"mcq":return L.createElement(Ds,null);case"trueFalse":return L.createElement(Cn,null);case"written":return L.createElement(Vn,null);default:return null}}s("./.linaria-cache/app/j/study-modes/test/components/TestScene.linaria.css");var Aa=(0,h.createStructuredSelector)({firstSkippedQuestionDomId:Z.F4,isEnrolledInMwebStudyBreakAdTest:Z.BX,shouldShowEmptyState:Z.Nv,testResults:Z.NK,hasDismissedPaywallToast:Z.pn,isTeacher:Ht.Iq,shouldShowCreateClassToast:Z.w0}),ba=(0,h.createStructuredSelector)({shouldShowNewStudyBreak:os.cS,testMeteringData:S.UQ,setId:T.uf,remainingAttempts:S.Mb,studyEventLogger:pe.Lx}),ja=(0,E.compose)((0,g.connect)(ba,null,null,{context:_.tC}),(0,g.connect)(Aa,(e=>({actions:(0,E.bindActionCreators)({gradeTest:tt,onEmptyAd:rs.yf,dismissPaywallToast:he.Nw.dismissPaywallToast,dismissCreateClassToast:ot},e)})),null,{context:m.jJ}))((function(e){var{actions:t,firstSkippedQuestionDomId:s,hasDismissedPaywallToast:n,isTeacher:r,isEnrolledInMwebStudyBreakAdTest:o,shouldShowEmptyState:i,studyEventLogger:l,testMeteringData:d,testResults:u,remainingAttempts:c,setId:p,shouldShowCreateClassToast:m}=e,{t:_}=(0,D.Z)(),{logPageAction:g}=(0,C.wL)(),E=(0,ns.LL)(),h=(0,$.Z)(),[S,y]=(0,L.useState)(!1),[f,v]=(0,L.useState)(!1),T=(0,G.Jt)().isVideoAd?_s.sV:_s.mW,A=(0,L.useContext)(F.Z),b=!n&&null!==d&&!u,I=Boolean(u)&&m;function w(){t.gradeTest(),We.Z.scrollToTop()}function O(){return L.createElement(va,{isAdEmpty:S},L.createElement(ms,{isAdEmpty:S,onEmptyAd:()=>y(!0)}))}if((0,L.useEffect)((()=>{I&&(0,gs.fz)(_("assistant.create_class_reminder"),{dismissButtonText:_("assistant.alternative_question.onboarding_coachmark.cta"),onClose:t.dismissCreateClassToast,includeDismiss:!0,includeEllipsis:!1})}),[I]),i)return L.createElement(Ft,null,L.createElement(ya.Z,null));function N(){var e=A&&A.type===a.XsQ.PLUS;return u&&!e&&(!(0,z.s2)()||o)}return N()&&!(0,z.s2)()?L.createElement(L.Fragment,null,O(),L.createElement(is.Z,{content:L.createElement(fa,{"data-testid":"screen-content"},L.createElement(Sa,null),u&&L.createElement(L.Fragment,null,L.createElement(Ft,null,L.createElement(kn,null)),Ee.n4.map((e=>L.createElement(L.Fragment,{key:e},Ta(e)))))),isEnrolledInTestModeCountdownTest:!0,key:T,studyMode:a.aKJ.TEST,timeLeft:T})):L.createElement("div",{"data-testid":"screen-content"},L.createElement(Sa,null),L.createElement(Wn,null,u&&L.createElement(L.Fragment,null,N()&&O(),L.createElement(Ft,null,L.createElement(kn,null))),Ee.n4.map((e=>L.createElement(L.Fragment,{key:e},Ta(e)))),b&&L.createElement(Rs,{autoDisableTimeout:Es.E.MEDIUM,isTeacher:r,onDismiss:e=>{setTimeout((()=>t.dismissPaywallToast()),500),e&&g("test_remaining_attempts_toast_dismiss",{remaining_attempts:c,set_id:p,test_variant:E(),study_session_id:l.getStudySessionId()})},onShow:()=>{g("test_remaining_attempts_toast_impression",{remaining_attempts:c,set_id:p,test_variant:E(),study_session_id:l.getStudySessionId()})},remainingAttempts:c,setId:p,studyEventLogger:l}),L.createElement(zt,null,void 0===(null==u?void 0:u.gradePercentage)?L.createElement(j.wI,{isFullWidth:!0,onClick:function(){s?setTimeout((()=>v(!0)),0):w()},ref:e=>{e&&(e.id=Ee.wp)},text:_("test.check_answers_button")}):null,u&&(0,Ue.Nc)(h,"m")?L.createElement(lt,null):null),L.createElement(Nn,{isOpen:f,onClose:function(){v(!1)},onHeed:function(){v(!1),(0,Se.eI)(s)},onIgnore:function(){v(!1),w()}})))})),Ia=(0,A.z)("div")({name:"Wrapper",class:"w18gxale",vars:{"w18gxale-1":[e=>e.avoidBreakInside?"avoid":"default"]}}),wa=(0,A.z)("div")({name:"TopRightWrapper",class:"twzghl"});function Ca(e){var{children:t,topRightLabel:s,avoidBreakInside:n=!0}=e;return L.createElement(Ia,{avoidBreakInside:n},t,s?L.createElement(wa,null,s):null)}s("./.linaria-cache/app/j/study-modes/test/print/ui/BasePrintQuestion.linaria.css");var Oa=s("./app/j/study-modes/common/utils/label-utils.ts"),Na=s("./app/j/study-modes/ui/media/QuestionElementView.tsx"),xa=(0,A.z)("span")({name:"Label",class:"l40xoye"}),Da=(0,A.z)("div")({name:"CardSideWrapper",class:"cqkorfy"});function La(e){var{side:t}=e;if(void 0===t)return null;var s=(0,Oa.y)(t);return L.createElement(xa,null,s)}function ka(e){return L.createElement(Da,null,L.createElement(La,e),L.createElement(Na.Z,{element:e.element,showImages:!0}))}s("./.linaria-cache/app/j/study-modes/test/print/ui/QuestionSide.linaria.css");s("./node_modules/core-js/modules/es.regexp.test.js");var Ra=(0,A.z)("div")({name:"AnswerArea",class:"a134hucy"}),Pa=(0,A.z)("div")({name:"PromptWrapper",class:"p14va17s"}),Ma=(0,A.z)("div")({name:"MatchingWrapper",class:"mqgir9c"}),Za=(0,A.z)("span")({name:"LetterIndicator",class:"l1wvc42h"}),Ua=(0,A.z)("div")({name:"OptionsWrapper",class:"o1i6zfqs"}),Ba=(0,A.z)("div")({name:"OptionLine",class:"o10gpqld"});function Wa(e){var{question:t,topRightLabel:s}=e;return L.createElement(Ca,{avoidBreakInside:!1,topRightLabel:s},L.createElement(Ma,null,L.createElement("div",null,t.prompts.map(((e,t)=>L.createElement(Pa,{key:(0,Gs.Z)(e,t)},L.createElement(Ra,null),L.createElement(ka,{element:e}))))),L.createElement(Ua,null,t.options.map(((e,t)=>{var s;return L.createElement(Ba,{key:(0,Gs.Z)(e,t)},L.createElement(Za,null,null==(s=function(e){if(e<0)return null;if(e<26)return String.fromCharCode("a".charCodeAt(0)+e);var t=String.fromCharCode("a".charCodeAt(0)+e%26);return String.fromCharCode("a".charCodeAt(0)+Math.floor(e/26)-1)+t}(t))?void 0:s.toUpperCase(),"."),L.createElement(ka,{element:e}))})))))}function Ha(){var{t:e}=(0,D.Z)(),{counter:t,questions:s}=js({section:"matching"});if(!s)return null;var{startIndex:n,totalQuestions:a}=t,r=n+s.prompts.length;return L.createElement(qt,null,L.createElement(ys,null,e("test.question_headings.matching",{numQuestions:s.options.length})),L.createElement(Wa,{question:s,topRightLabel:L.createElement(ws.Z,{currentQuestionRange:n+1+"-"+r,totalQuestionCount:""+a})}))}s("./.linaria-cache/app/j/study-modes/test/print/matching/MatchingQuestionView.linaria.css");var Ga=s("./app/j/assembly/AssemblyRadio.tsx"),Qa=s("./app/j/assembly/AssemblyRadioGroup.tsx"),Fa=s("./app/j/study-modes/common/components/MultipleChoiceQuestionDiagram.tsx"),qa=s("./app/j/study-modes/common/utils/multipleChoiceUtils.ts"),za=(0,A.z)("div")({name:"DiagramWrapper",class:"dajc4i3"}),Ka=()=>{};function Va(e){var{question:t,topRightLabel:s}=e;return L.createElement(Ca,{topRightLabel:s},L.createElement(ka,{element:t.prompt,side:t.metadata.promptSide}),(0,qa.xp)(t)?L.createElement(za,null,L.createElement(Fa.Z,{gradedAnswer:null,onAnswer:Ka,question:t})):L.createElement(Qa.Z,{onChange:Ka,value:""},t.options.map(((e,t)=>L.createElement(Ga.Z,{key:(0,Gs.Z)(e,t),label:L.createElement(Bs.Z,{questionElement:e,textfit:!1})})))))}s("./.linaria-cache/app/j/study-modes/test/print/mcq/McqQuestionView.linaria.css");var Ya=(0,A.z)("div")({name:"QuestionSeparator",class:"q1n5ly75"});function Xa(e){var{children:t}=e;return L.createElement(L.Fragment,null,L.Children.map(t,((e,t)=>L.createElement(L.Fragment,{key:e.key},0===t?null:L.createElement(Ya,null),e))))}function Ja(){var{t:e}=(0,D.Z)(),{questions:t,counter:s}=js({section:"mcq"});return null!=t&&t.length?L.createElement(qt,null,L.createElement(ys,null,e("test.question_headings.multiple_choice",{numQuestions:t.length})),L.createElement(Xa,null,t.map(((e,t)=>L.createElement(Va,{key:e.metadata.studiableItemId,question:e,topRightLabel:L.createElement(ws.Z,{currentQuestionRange:""+(s.startIndex+t+1),totalQuestionCount:""+s.totalQuestions})}))))):null}s("./.linaria-cache/app/j/study-modes/test/print/ui/SeparatedList.linaria.css");var $a=(0,A.z)("div")({name:"PromptSide",class:"p1cl53a4",vars:{"p1cl53a4-0":[e=>e.stretch?1:1.4]}}),er=(0,A.z)("div")({name:"Prompt",class:"p1i0aq8p"}),tr=()=>{};function sr(e){var{question:t,topRightLabel:s}=e,{t:n}=(0,D.Z)(),a=e=>{var{text:t,image:s,location:n}=(0,Ms.Sg)(e),a=!(null==t||!t.plainText.trim());return Boolean(a&&s&&!n)};return L.createElement(Ca,{topRightLabel:s},L.createElement(er,null,L.createElement($a,{stretch:a(t.prompt)},L.createElement(ka,{element:t.prompt,side:t.metadata.promptSide})),L.createElement($a,{stretch:a(t.goesWith)},L.createElement(ka,{element:t.goesWith,side:t.metadata.answerSide}))),L.createElement(Qa.Z,{onChange:tr,value:""},L.createElement(Ga.Z,{label:n("test.true_false.true")}),L.createElement(Ga.Z,{label:n("test.true_false.false")})))}function nr(){var{t:e}=(0,D.Z)(),{questions:t,counter:s}=js({section:"trueFalse"});return t?L.createElement(qt,null,L.createElement(ys,null,e("test.question_headings.true_false",{numQuestions:t.length})),L.createElement(Xa,null,t.map(((e,t)=>L.createElement(sr,{key:e.metadata.studiableItemId,question:e,topRightLabel:L.createElement(ws.Z,{currentQuestionRange:""+(s.startIndex+t+1),totalQuestionCount:""+s.totalQuestions})}))))):null}s("./.linaria-cache/app/j/study-modes/test/print/trueFalse/TrueFalseQuestionView.linaria.css");var ar=(0,A.z)("div")({name:"HeaderWrapper",class:"hcksdao"}),rr=(0,A.z)("div")({name:"PrintInput",class:"patsvb9"});function or(){return L.createElement(ar,null,L.createElement("div",null,"Name:"),L.createElement(rr,null),L.createElement("div",null,"Score:"),L.createElement(rr,null))}s("./.linaria-cache/app/j/study-modes/test/print/ui/PrintHeader.linaria.css");var ir=(0,A.z)("div")({name:"InputLine",class:"i88daaq"});function lr(e){var{question:t,topRightLabel:s}=e;return L.createElement(Ca,{topRightLabel:s},L.createElement(ka,{element:t.prompt,side:t.metadata.promptSide}),L.createElement(ir,null))}function dr(){var{t:e}=(0,D.Z)(),{counter:t,questions:s}=js({section:"written"});return s?L.createElement(qt,null,L.createElement(ys,null,e("test.question_headings.written",{numQuestions:s.length})),L.createElement(Xa,null,s.map(((e,s)=>L.createElement(lr,{key:e.metadata.studiableItemId,question:e,topRightLabel:L.createElement(ws.Z,{currentQuestionRange:""+(t.startIndex+s+1),totalQuestionCount:""+t.totalQuestions})}))))):null}s("./.linaria-cache/app/j/study-modes/test/print/written/WrittenQuestionView.linaria.css");var ur=(0,A.z)("div")({name:"PrintWrapper",class:"p1v5oq0n"});function cr(){return(0,m.v9)(Z.Nv)?L.createElement(Ft,null,L.createElement(ya.Z,null)):L.createElement(ur,{"data-testid":"print-content"},L.createElement(or,null),Ee.n4.map((e=>L.createElement(L.Fragment,{key:e},function(e){switch(e){case"trueFalse":return L.createElement(nr,null);case"mcq":return L.createElement(Ja,null);case"matching":return L.createElement(Ha,null);case"written":return L.createElement(dr,null);default:return null}}(e)))))}s("./.linaria-cache/app/j/study-modes/test/print/PrintTestScene.linaria.css");var pr=(0,A.z)("div")({name:"HideWhilePrinting",class:"h1btwfkc"});function mr(){var e=(0,m.v9)(Z.et),t=(0,m.v9)(Z.co),s=se()(t,"shouldShowRichText");return L.createElement(Wt.K,{value:s},function(){switch(e){case V.d.AD_MODAL:case V.d.REVIEW:return L.createElement(ja,null);case V.d.TEST:return L.createElement(L.Fragment,null,L.createElement(cr,null),L.createElement(pr,null,L.createElement(ja,null)));case V.d.PAYWALL:return L.createElement(as,null);default:throw new Error("View not yet implemented: "+e)}}())}s("./.linaria-cache/app/j/study-modes/test/TestModeViewController.linaria.css");var _r=s("./app/j/utils/readReactData.ts"),gr={adsIds:{sidebarAdsId:null,footerAdsId:null},studyMode:d.lt.TEST,studyModeType:a.aKJ.TEST};(0,_r.Z)("TestMode",(e=>{(0,c.Z)(mr,Bt,gr,(t=>{i.Z.user||(0,l.default)(),o.Z.dispatch((0,p.pJ)(a.WVJ.BEGIN,{loggerConfig:(0,n.c)()})),o.Z.dispatch((0,u.d9)());var s=(0,r.bh)();s.registerReducer("testMode",he.ZP),s.dispatch(he.Nw.init({serverData:e,testInitData:t})),s.dispatch(Je())}))}))},"./app/j/study-modes/test/testModeSlice.ts":(e,t,s)=>{"use strict";s.d(t,{Nw:()=>y,pl:()=>f});s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.regexp.test.js");var n=s("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.cjs.production.min.js"),a=s("./app/j/ab_tests/QMeasure.ts"),r=s("./app/j/core/legacy_store/LegacyStore.ts"),o=s("./node_modules/nullthrows/nullthrows.js"),i=s.n(o),l=s("./app/j/study-modes/common/metering/selectors.ts"),d=s("./app/j/study-modes/common/settings/selectors/index.ts"),u=s("./app/j/study-modes/common/studiable-data/document/selectors.ts"),c=s("./app/j/study-modes/test/constants.ts"),p=s("./app/j/study-modes/test/types.ts"),m=s("./app/j/study-modes/test/utils/index.ts"),_=s("./app/j/study-modes/test/utils/buildBlankAnswerState.ts"),g=s("./app/j/study-modes/test/utils/buildQuestionStorage.ts"),E=s("./app/j/study-modes/test/utils/settings.ts"),h=s("./app/j/test/utils/QTestGenerator.ts"),S=(0,n.createSlice)({name:c.UC,initialState:{userAnswers:(0,_.Z)((0,g.Z)([])),testResults:null,meteringMetadata:null,serverData:{},settings:{test:{},user:{showImages:!1,selectedOnly:!1}},shouldSeeCreateClassToast:!1,testGenerator:null,testQuestions:(0,g.Z)([]),testEndTimestamp:null,view:p.d.TEST,isToCOpen:!1,hasDismissedPaywallToast:!1},reducers:{init:(e,t)=>{var{payload:{serverData:s,testInitData:n}}=t,o=r.Z.getState(),i=(0,m.SB)((0,u.r9)(o),s.showImages),c=(0,d.J1)(o),S=(0,l.aN)(o),y={parse_ugc_mcqs:a.Z.peekAtVariation("ParseUgcMcqs[default]")},f=h.A.create(i,c,y,S);f.studiableContentHasParsableMcqs()&&a.Z.getVariationAndEnroll("ParseUgcMcqs[default]");var v=(0,E.Us)(s.testGeneratorSettings.test,f),T=(0,g.Z)([]);return{isToCOpen:!1,serverData:s,userAnswers:(0,_.Z)(T),testResults:null,meteringMetadata:null,settings:{grading:s.testGeneratorSettings.grading,test:s.hasCustomDistractors||f.studiableContentHasParsableMcqs()?(0,E.k_)(v):v,user:{showImages:s.showImages,selectedOnly:s.selectedOnly}},shouldSeeCreateClassToast:Boolean(n.shouldSeeCreateClassToast),testGenerator:f,testQuestions:T,testEndTimestamp:null,view:p.d.TEST,hasDismissedPaywallToast:!1}},setTestResults:(e,t)=>{e.testResults=t.payload},setMeteringMetadata:(e,t)=>{e.meteringMetadata=t.payload},setTestSettings:(e,t)=>{e.settings.test=t.payload},setUserSettings:(e,t)=>{e.settings.user=t.payload},setTestGenerator:(e,t)=>{e.testGenerator=t.payload},setUserAnswer:(e,t)=>{var{payload:s}=t;i()(e.userAnswers[s.section])[s.index]=s.answer},clearUserAnswers:(e,t)=>{var{payload:s}=t;e.userAnswers=(0,_.Z)(s)},clearGradedResults:e=>{e.testResults=null},setTestQuestions:(e,t)=>{var{payload:s}=t;e.testQuestions=s},setTestModeView:(e,t)=>{var{payload:s}=t;e.view=s},setTestEndTimestamp:(e,t)=>{var{payload:s}=t;e.testEndTimestamp=s},toggleToC:e=>{e.isToCOpen=!e.isToCOpen},openToC:e=>{e.isToCOpen=!0},dismissPaywallToast:e=>{e.hasDismissedPaywallToast=!0},dismissClassCreateToast:e=>{e.shouldSeeCreateClassToast=!1}}}),{actions:y}=S,{toggleToC:f}=y;t.ZP=S.reducer},"./app/j/study-modes/test/types.ts":(e,t,s)=>{"use strict";var n;s.d(t,{d:()=>n}),function(e){e.TEST="test",e.REVIEW="review",e.AD_MODAL="ad_modal",e.PAYWALL="paywall"}(n||(n={}))},"./app/j/study-modes/test/utils/buildBlankAnswerState.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});s("./node_modules/core-js/modules/es.array.reduce.js");function n(e){return Object.keys(e).reduce(((t,s)=>{var n=e[s];return n?(Array.isArray(n)?t[s]=n.map((()=>null)):t[s]=n.prompts.map((()=>null)),t):t}),{})}},"./app/j/study-modes/test/utils/buildQuestionStorage.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});s("./node_modules/core-js/modules/es.array.reduce.js");var n=s("./app/j/study-engine/types.ts");function a(e){return e.reduce(((e,t)=>{var s,a=function(e){switch(e.type){case n.mw.WRITTEN_QUESTION:return"written";case n.mw.SEPARATED_OPTION_MATCHING_QUESTION:return"matching";case n.mw.MULTIPLE_CHOICE_QUESTION:return"mcq";case n.mw.TRUE_FALSE_QUESTION:return"trueFalse";default:throw new Error("Unsupported Question type")}}(t);"matching"===a?e.matching=t:(e[a]=null!=(s=e[a])?s:[],e[a].push(t));return e}),{})}},"./app/j/study-modes/test/utils/getNextPosition.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./app/j/study-modes/test/constants.ts");function a(e,t){var{section:s,index:a}=t,r=e[s];if(!r)throw new Error("Section does not exist");if(!(r.length-1===a))return{section:s,index:a+1};var o=function(e,t){var s=n.n4.indexOf(t),a=n.n4.slice(s+1);for(var r of a)if(e[r])return r;return null}(e,s);return o?{section:o,index:0}:null}},"./app/j/study-modes/test/utils/getNextSkippedAnswer.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var n=s("./node_modules/nullthrows/nullthrows.js"),a=s.n(n),r=s("./app/j/study-modes/test/utils/getNextPosition.ts");function o(e,t){var s=t;do{if(!s)return null;if(null===a()(e[s.section])[s.index])return s;s=(0,r.Z)(e,s)}while(null!==s);return null}},"./app/j/study-modes/test/utils/getQuestionDomId.ts":(e,t,s)=>{"use strict";function n(e){var{section:t,index:s}=e;return t+"-"+s}s.d(t,{Z:()=>n})},"./app/j/study-modes/test/utils/getReactKeyForQuestionElement.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var n=s("./app/j/study-engine/types.ts");function a(e,t){var s=e.attributes[0];switch(null==s?void 0:s.type){case n.LK.TEXT_ATTRIBUTE:var a;return null!=(a=s.plainText+"-"+t)?a:s.richText;case n.LK.IMAGE_ATTRIBUTE:return s.url;case n.LK.LOCATION_ATTRIBUTE:return s.shape+":"+s.diagramImage.url;case n.LK.AUDIO_ATTRIBUTE:return s.url;default:return"[empty]"}}},"./app/j/study-modes/test/utils/index.ts":(e,t,s)=>{"use strict";s.d(t,{SB:()=>d,ow:()=>u,eI:()=>c});var n=s("./node_modules/immer/dist/immer.cjs.production.min.js"),a=(s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./app/j/config/enums.ts")),r=s("./app/j/studiable-data/utils.ts"),o=(0,n.default)((e=>{for(var t of e.cardSides)t.media=t.media.filter((e=>e.type!==a.DDH.IMAGE))}));var i=s("./app/j/utils/ScrollHelper.ts"),l="scrollBehavior"in document.documentElement.style;function d(e,t){var s=e.studiableItems.filter((e=>!(0,r.cD)(e)||(0,r.CC)(e)));return t||(s=function(e){return e.map((e=>(0,r.F_)(e)?o(e):e))}(s)),(0,n.default)(e,(e=>{e.studiableItems=s}))}function u(e){if(e){var t=document.getElementById(e);null==t||t.focus({preventScroll:!0})}}function c(e){if(e){var t=document.getElementById(e);if(!t)return;var s=t.getBoundingClientRect().height>window.innerHeight;l?t.scrollIntoView({behavior:"smooth",block:s?"start":"center"}):s?i.Z.scrollToElement(t,96,i.F.TOP):i.Z.scrollToElement(t,0,i.F.CENTER)}}},"./app/j/study-modes/test/utils/questionType.ts":(e,t,s)=>{"use strict";s.d(t,{NS:()=>a,OH:()=>r,j3:()=>o,dU:()=>i});var n=s("./app/j/study-engine/types.ts");function a(e){return e.type===n.mw.MULTIPLE_CHOICE_QUESTION}function r(e){return e.type===n.mw.SEPARATED_OPTION_MATCHING_QUESTION}function o(e){return e.type===n.LK.TEXT_ATTRIBUTE}function i(e){return e.type===n.LK.LOCATION_ATTRIBUTE}},"./app/j/study-modes/test/utils/settings.ts":(e,t,s)=>{"use strict";s.d(t,{h4:()=>g,Us:()=>E,k_:()=>h,c:()=>S,ti:()=>y,Z$:()=>v,uJ:()=>T});var n=s("./node_modules/lodash/pickBy.js"),a=s.n(n),r=(s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.string.replace.js"),s("./app/j/config/enums.ts")),o=s("./app/j/i18n/LocalizationConstants.ts"),i=s("./node_modules/invariant/browser.js"),l=s.n(i),d=s("./app/j/legacyAssistant/types/QAssistantModeTypes.ts"),u=s("./app/j/syncers/StudySettingSyncer.ts"),c=s("./app/j/utils/appendOptionalTrackingParams.ts"),p=s("./app/j/utils/redirect.ts"),m=s("./app/j/utils/StudySettingEncodingHelper.ts"),_=s("./app/j/utils/UserAgentHelper.ts");function g(e,t,s,n){var a,r,o,i,{selectedOnly:l,showImages:d}=s,u=E(e,n);return{acceptsPartialAnswer:t.acceptsPartialAnswer,answerWith:u.enabledAnswerSides,isAdvancedOptionsExpanded:(a=n,r=u.enabledPromptSides,o=E({},a).enabledPromptSides,i=new Set([...r,...o]),!(i.size===r.length&&i.size===o.length)),promptWith:u.enabledPromptSides,questionCount:u.numQuestions,questionTypes:u.enabledQuestionTypes,showImages:null!=d&&d,selectedOnly:null!=l&&l,typoHelpGradingSetting:t.levenshteinPlus}}function E(e,t){var s=a()(e,(e=>null!==e)),n=t.getDefaultSettings(o.ZX);if((0,_.s2)()){var{enabledQuestionTypes:r}=n;n.enabledQuestionTypes=r.filter((e=>e!==(0,d.Q)().matching))}return Object.assign({},n,s)}function h(e){return Object.assign({},e,{enabledQuestionTypes:[(0,d.Q)().multipleChoice]})}function S(e){return{enabledQuestionTypes:e.questionTypes,enabledPromptSides:e.promptWith,enabledAnswerSides:e.answerWith,numQuestions:e.questionCount,studiableItemIds:null,writtenQuestionsEligibleForTypoHelp:[]}}function y(e){return{acceptsPartialAnswer:e.acceptsPartialAnswer,levenshteinPlus:e.typoHelpGradingSetting}}function f(e,t){var{matching:s}=(0,m.Tx)(r.Std.TEST_QUESTION_TYPES).bitValues;return t.length>0&&e.includes(s)?(0,m.eR)(s,!1,e):e}function v(e,t){var s,n=function(e,t){return[{studySetting:r.Std.TEST_PROMPT_TERM_SIDES,value:(0,m.R1)(e.promptWith)},{studySetting:r.Std.TEST_ANSWER_TERM_SIDES,value:(0,m.R1)(e.answerWith)},{studySetting:r.Std.TEST_QUESTION_TYPES,value:(0,m.Yu)(f(e.questionTypes,t))},{studySetting:r.Std.TEST_QUESTION_COUNT,value:e.questionCount},{studySetting:r.Std.TEST_SHOW_IMAGES,value:e.showImages},{studySetting:r.Std.FLEXIBLE_GRADING_ACCEPT_PARTIAL_ANSWERS,value:e.acceptsPartialAnswer?1:0},{studySetting:r.Std.FLEXIBLE_GRADING_ACCEPT_ANSWERS_WITH_TYPOS,value:Boolean(e.typoHelpGradingSetting)}]}(e,null!=(s=t.diagramShapes)?s:[]),a=n.map((e=>({personId:t.currentPersonId,studyableType:t.itemType,studyableId:t.itemId,settingType:e.studySetting,settingValue:e.value})));u.Z.bulkAddAndSave(a)}function T(e,t){var s=window.location.pathname.replace(/\/starred$/,"")+(e?"/starred":""),n=(0,c.Z)(s,{funnelUUID:t});l()(n,"url must not be null"),(0,p.ZP)(n)}},"./app/j/study-modes/ui/media/QuestionElementView.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>h});var n=s("./node_modules/react/index.js"),a=s("./app/j/study-modes/common/engine/utils/question-element-utils.ts"),r=s("./node_modules/@linaria/react/lib/index.js"),o=s("./app/j/components/Image.tsx"),i=(0,r.z)("div")({name:"ImageMediaContainer",class:"i2pbpfc"});function l(e){return n.createElement(i,null,n.createElement(o.default,{clickToZoom:!1,src:e.image.url}))}s("./.linaria-cache/app/j/study-modes/ui/media/ImageMedia.linaria.css");var d=s("./app/j/diagrams/components/Diagram.tsx"),u=s("./app/j/diagrams/components/DiagramShape.tsx"),c=e=>e.target.openPopup(),p=(0,r.z)("div")({name:"LocationMediaContainer",class:"l1q8wqxh"});var m=function(e){var{shape:t}=e.location;return n.createElement(p,null,n.createElement(d.default,{image:e.location.diagramImage,variant:d.ZOOM_TO_POINTS_VARIANT},n.createElement(u.default,{diagramShape:{shape:t},onAdd:c})))};s("./.linaria-cache/app/j/study-modes/ui/media/LocationMedia.linaria.css");var _=s("./app/j/components/FormattedText.tsx"),g=(0,r.z)("span")({name:"TextWrapper",class:"t165dypr"});function E(e){var{text:t}=e;return t.plainText||t.richText?n.createElement(g,{className:"TextMedia"},n.createElement(_.Z,{lang:t.languageCode,richText:t.richText,text:t.plainText})):null}function h(e){var t=(0,a.Sg)(e.element);return n.createElement("span",{className:"QuestionElements"},t.text?n.createElement(E,{key:"text",text:t.text}):null,t.image&&e.showImages?n.createElement(l,{image:t.image,key:"image"}):null,t.location?n.createElement(m,{key:"location",location:t.location}):null)}s("./.linaria-cache/app/j/study-modes/ui/media/TextMedia.linaria.css")},"./app/j/study-modes/ui/questions/written/WrittenCorrectFeedback.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>_});var n=s("./app/j/assembly/AssemblyLink.tsx"),a=s("./app/j/components/DiffText.tsx"),r=s("./app/j/config/enums.ts"),o=s("./app/j/i18n/useTranslation.ts"),i=s("./node_modules/react/index.js"),l=s("./app/j/study-modes/common/components/AnswerOption.tsx"),d=s("./app/j/study-modes/common/components/UserAnswerFeedbackLabel.tsx"),u=s("./app/j/study-modes/common/engine/utils/question-element-utils.ts"),c=s("./app/j/study-modes/common/utils/answerFeedback.ts"),p=s("./app/j/study-modes/common/utils/writtenGrading.ts"),m=s("./app/j/study-modes/ui/questions/written/styles.tsx");function _(e){var{gradedAnswer:t,shouldShowSmartGradingBadge:s,shouldShowSmartGradingUpsell:_,actions:g,question:E}=e,{t:h}=(0,o.Z)(),S=(0,p.T)(t,s),y=S&&void 0!==g.overrideCorrectness,f=null==t?void 0:t.feedback.submittedAnswer,v=null==t?void 0:t.feedback.expectedAnswer,T=S?h("assistant.label.correct_feedback_close_enough"):(0,c.c)(h),A=(0,u.Sg)(E.prompt).text,b=s?v.value:i.createElement(a.Z,{answerLang:E.answerLanguageCode,correctAnswer:v.value,promptLang:null==A?void 0:A.languageCode,userAnswer:f.value});return i.createElement(i.Fragment,null,i.createElement(m.nu,{"data-testid":"submitted-answer"},i.createElement(m.ub,null,i.createElement(m.he,{"aria-label":T},T),y&&i.createElement(n.ZP,{onClick:()=>g.overrideCorrectness(r.p7P.INCORRECT),size:"small",text:h("assistant.feedback.answer_is_wrong")})),i.createElement(l.Z,{variant:l.B.Correct},i.createElement("span",null,f.value))),S&&i.createElement(m.go,{"data-testid":"correct-answer"},i.createElement(m.nu,null,i.createElement(m.ub,null,i.createElement(m.__,null,h("assistant.feedback.correct_answer_label")),i.createElement(d.Z,{handleOpenOptionsModal:()=>null==g.setIsOptionsModalOpen?void 0:g.setIsOptionsModalOpen(!0),labelText:h("assistant.feedback.you_said_label"),shouldShowSmartGradingBadge:s,shouldShowSmartGradingUpsell:_})),i.createElement("div",null,i.createElement("span",null,b)))))}},"./app/j/study-modes/ui/questions/written/WrittenIncorrectFeedback.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>g});var n=s("./app/j/components/DiffText.tsx"),a=s("./app/j/i18n/useTranslation.ts"),r=s("./node_modules/react/index.js"),o=s("./app/j/study-modes/common/components/AnswerOption.tsx"),i=s("./app/j/study-modes/common/components/UserAnswerFeedbackLabel.tsx"),l=s("./app/j/study-modes/common/engine/utils/question-element-utils.ts"),d=s("./app/j/assembly/AssemblyLink.tsx"),u=s("./app/j/config/enums.ts"),c=s("./app/j/study-modes/common/utils/answerFeedback.ts"),p=s("./app/j/study-modes/ui/questions/written/styles.tsx");function m(e){var{overrideCorrectness:t,submittedValue:s}=e,{t:n}=(0,a.Z)(),i=(0,c.u)(n);return r.createElement(p.nu,null,r.createElement(p.ub,null,r.createElement(p.uG,{"aria-label":i},i),t&&r.createElement(d.ZP,{onClick:()=>t(u.p7P.CORRECT),size:"small",text:n("assistant.feedback.i_mistyped")})),r.createElement(o.Z,{variant:o.B.Incorrect},r.createElement("span",{"data-testid":"Submitted Answer"},s)))}function _(){var{t:e}=(0,a.Z)(),t=e("assistant.label.dont_know_feedback");return r.createElement(p.nu,null,r.createElement(p.ub,null,r.createElement(p.Bh,{"aria-label":t},t)),r.createElement(o.Z,{variant:o.B.SkippedIncorrect},r.createElement("span",{"data-testid":"Submitted Answer"},e("assistant.label.skipped"))))}function g(e){var t,{question:s,gradedAnswer:d,actions:u,shouldShowSmartGradingBadge:c,shouldShowSmartGradingUpsell:g}=e,{t:E}=(0,a.Z)(),h=(0,l.Sg)(s.prompt).text,S=null==d?void 0:d.feedback.submittedAnswer,y=null==d?void 0:d.feedback.expectedAnswer,f=null!=(t=null==S?void 0:S.value)?t:"",v=!S||""===S.value;return r.createElement(r.Fragment,null,v?r.createElement(_,null):r.createElement(m,{overrideCorrectness:u.overrideCorrectness,submittedValue:f}),r.createElement(p.go,null,r.createElement(p.nu,null,r.createElement(p.ub,null,r.createElement(p.__,null,E("assistant.feedback.correct_answer_label")),r.createElement(i.Z,{handleOpenOptionsModal:()=>null==u.setIsOptionsModalOpen?void 0:u.setIsOptionsModalOpen(!0),labelText:E("assistant.feedback.you_said_label"),shouldShowSmartGradingBadge:c,shouldShowSmartGradingUpsell:g})),r.createElement(o.Z,{variant:o.B.Correct},r.createElement("span",null,r.createElement(n.Z,{answerLang:s.answerLanguageCode,correctAnswer:y.value,promptLang:null==h?void 0:h.languageCode,userAnswer:f}))))))}},"./app/j/study-modes/ui/questions/written/WrittenQuestionPrompt.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>q});var n=s("./node_modules/@linaria/react/lib/index.js"),a=s("./app/j/assembly/AssemblyShimmer.tsx"),r=s("./app/j/config/enums.ts"),o=s("./app/j/i18n/useTranslation.ts"),i=s("./node_modules/nullthrows/nullthrows.js"),l=s.n(i),d=s("./node_modules/polished/dist/polished.cjs.js"),u=s("./node_modules/react/index.js"),c=s("./app/j/study-modes/common/components/StudyCardLayout.tsx"),p=s("./app/j/study-modes/common/components/TopRightWrapper.tsx"),m=s("./app/j/study-modes/common/components/TypeTheAnswerField.tsx"),_=s("./app/j/study-modes/common/containers/StudyCardQuestionContainer.tsx"),g=s("./app/j/study-modes/common/engine/utils/graded-answer-utils.ts"),E=s("./app/j/study-modes/common/PoweredByQuizletPlus.tsx"),h=s("./app/j/study-modes/common/utils/writtenGrading.ts"),S=s("./app/j/core/legacy_store/LegacyStoreProvider.tsx"),y=s("./node_modules/react-redux/lib/index.js"),f=s("./node_modules/redux/lib/redux.js"),v=s("./app/j/study-modes/learn/actions/index.ts"),T=s("./app/j/study-modes/learn/actions/loggings.ts"),A=s("./app/j/study-modes/learn/actions/progression.ts"),b=s("./app/j/compatibility/logger/useLogger.ts"),j=s("./app/j/hocs/keydownDecorator.tsx"),I=(0,n.z)("div")({name:"AnswerOptions",class:"a1ex28hc"}),w=(0,n.z)("div")({name:"FadeInContainer",class:"f1tkkwde"}),C=(0,n.z)("div")({name:"AnswerOption",class:"a1rni6v7"}),O=(0,n.z)("p")({name:"PartialAnswerText",class:"p1jo8362"}),N=(0,n.z)("section")({name:"Label",class:"lbzjtf3"}),x=(0,n.z)("div")({name:"FeedbackContainer",class:"f1ozxyqi"}),D=(0,n.z)("div")({name:"LabelContainer",class:"l1fdwxuc"}),L=(0,n.z)("div")({name:"HintNumber",class:"h11ulahu"}),k=(0,n.z)("span")({name:"AnswerWrapper",class:"axsmvva"}),R=(0,n.z)("div")({name:"PartialAnswerAnswer",class:"p1xe8a3r"});var P=(0,j.Z)(["1","2"])((function(e){var{answerSide:t,gradedAnswer:s,onCorrectAnswer:n,onIncorrectAnswer:a,actions:{updateAcceptsPartialAnswer:i},keydownEvent:l}=e,{t:d}=(0,o.Z)(),{logPageAction:c}=(0,b.wL)(),p=s.feedback.submittedAnswer.value,m=s.feedback.expectedAnswer.value;function _(){c("learn_mode_partial_answer_prompt_request_all_answers"),i(!1),a(p)}function g(){c("learn_mode_partial_answer_prompt_request_one_answer"),i(!0),n(p)}return(0,u.useEffect)((()=>{l&&(l.preventDefault(),l.stopImmediatePropagation(),"1"===l.key?g():"2"===l.key&&_())}),[l]),(0,u.useEffect)((()=>{c("learn_mode_partial_answer_prompt_showed")}),[]),u.createElement(u.Fragment,null,u.createElement(x,null,u.createElement(D,null,u.createElement(N,null,d("assistant.label.answer"))),u.createElement(R,null,u.createElement(k,null,p))),u.createElement(x,null,u.createElement(D,null,u.createElement(N,null,(()=>{switch(t){case r.dU_.WORD:return d("assistant.feedback.original_term");case r.dU_.DEFINITION:return d("assistant.feedback.original_definition");default:return d("assistant.feedback.original_answer")}})())),u.createElement(k,null,m)),u.createElement(w,null,u.createElement("hr",null),u.createElement(O,null,d("assistant.grading_prompt.description")),u.createElement(I,null,u.createElement(C,{"aria-label":d("assistant.grading_prompt.option_button.require_one_answer"),onClick:g},u.createElement(L,null,"1"),d("assistant.grading_prompt.option_button.require_one_answer")),u.createElement(C,{"aria-label":d("assistant.grading_prompt.option_button.require_all_answers"),onClick:_},u.createElement(L,null,"2"),d("assistant.grading_prompt.option_button.require_all_answers")))))}));s("./.linaria-cache/app/j/study-modes/learn/components/PartialAnswerFeedback.linaria.css");var M=(0,y.connect)(((e,t)=>({answerSide:t.answerSide,gradedAnswer:t.gradedAnswer})),(e=>({onCorrectAnswer:t=>{e((0,T.Qi)(r.WFi.ANSWER,{correctness:r.p7P.CORRECT,answer_text:t})),e((0,A.bD)({answer:{answerCorrectness:r.p7P.CORRECT}}))},onIncorrectAnswer:t=>{e((0,T.Qi)(r.WFi.ANSWER,{correctness:r.p7P.INCORRECT,answer_text:t})),e((0,A.bD)({answer:{answerCorrectness:r.p7P.INCORRECT}}))},actions:(0,f.bindActionCreators)({updateAcceptsPartialAnswer:v.zS},e)})),null,{context:S.tC})(P),Z=s("./app/j/study-modes/learn/types.ts"),U=s("./app/j/study-modes/ui/questions/written/styles.tsx"),B=s("./app/j/study-modes/ui/questions/written/WrittenCorrectFeedback.tsx"),W=s("./app/j/study-modes/ui/questions/written/WrittenIncorrectFeedback.tsx"),H=(0,n.z)(c.Z)({name:"StudyCardWrapper",class:"ssy64mv"}),G=(0,n.z)("div")({name:"AnswerContainer",class:"a13cru74",vars:{"a13cru74-1":[e=>e.showSubmitButton?(0,d.hO)(160):"auto"]}}),Q=(0,n.z)("div")({name:"QuestionSpacer",class:"qjwdgny"}),F=(0,n.z)("div")({name:"LoadingIndicator",class:"l646vyv"});function q(e){var{autoFocus:t=!0,hasPartialAnswerSetting:s=!0,actions:n,alwaysShowSpecialChars:i=!1,answerSideAccents:d,focusOptions:c,gradedAnswer:S,isGrading:y,isMobileCard:f=!0,isBottomBarShown:v=!1,question:T,questionHint:A,submitButtonText:b,shouldShowLangInLabel:j,shouldShowSmartGradingBadge:I,shouldShowSmartGradingUpsell:w,shouldShowSubmitButton:C=!0,topRightLabel:O}=e,{t:N}=(0,o.Z)(),x=T.metadata.promptSide===r.dU_.LOCATION,D=l()(T.metadata.answerSide,"No answerSide for written question.");return u.createElement(u.Fragment,null,u.createElement(H,{bottomBarShown:v,isMobileCard:f},u.createElement(Q,null,u.createElement(_.Z,{questionElement:T.prompt,questionHint:A,questionSource:T.metadata.questionSource,shouldShowAudioIcon:!0,side:T.metadata.promptSide})),u.createElement(G,{showSubmitButton:Boolean(n.submitAnswer)},S?(0,g.ZP)(S)?y?u.createElement(F,null,u.createElement(a.Z,null)):(0,h.w)(S,s)?u.createElement(M,{answerSide:D,gradedAnswer:S}):(0,g.e0)(S)?u.createElement(B.Z,{actions:{overrideCorrectness:n.overrideCorrectness,setIsOptionsModalOpen:n.setIsOptionsModalOpen},gradedAnswer:S,question:T,shouldShowSmartGradingBadge:I,shouldShowSmartGradingUpsell:w}):u.createElement(W.Z,{actions:{overrideCorrectness:n.overrideCorrectness,setIsOptionsModalOpen:n.setIsOptionsModalOpen},gradedAnswer:S,question:T,shouldShowSmartGradingBadge:I,shouldShowSmartGradingUpsell:w}):null:u.createElement(u.Fragment,null,u.createElement(U.ub,null,u.createElement(U.__,null,N("assistant.label.answer"))),u.createElement(m.Z,{accents:d,actions:n,alwaysShowSpecialChars:i,answerSide:D,autoFocus:t,focusOptions:c,lang:T.answerLanguageCode,loading:y,logQuestionHintAdvanceQuestion:()=>{var{logExampleSentencesEvent:e}=n;A&&e&&e({action:Z.FE.ADVANCED_QUESTION,questionHint:A})},persistLabel:!1,shouldShowLang:j,shouldShowSide:x,shouldShowSubmitButton:C,submitButtonText:b}))),T.metadata.questionSource?u.createElement(E.Z,null):null,O?u.createElement(p.T,null,O):null))}s("./.linaria-cache/app/j/study-modes/ui/questions/written/WrittenQuestionPrompt.linaria.css")},"./app/j/study-modes/ui/questions/written/styles.tsx":(e,t,s)=>{"use strict";s.d(t,{go:()=>a,he:()=>r,__:()=>o,nu:()=>i,ub:()=>l,Bh:()=>d,uG:()=>u});var n=s("./node_modules/@linaria/react/lib/index.js"),a=(0,n.z)("div")({name:"CorrectAnswerWrapper",class:"c9fawl3"}),r=(0,n.z)("section")({name:"CorrectLabel",class:"c166t2oo"}),o=(0,n.z)("section")({name:"Label",class:"l1uezfp3"}),i=(0,n.z)("div")({name:"FeedbackWrapper",class:"fv6856r"}),l=(0,n.z)("div")({name:"LabelWrapper",class:"lz289he"}),d=(0,n.z)("section")({name:"SkippedLabel",class:"s1e3267a"}),u=(0,n.z)("section")({name:"IncorrectLabel",class:"i8ew5cd"});s("./.linaria-cache/app/j/study-modes/ui/questions/written/styles.linaria.css")},"./app/j/study-modes/ui/toasts/CommonRemainingToast.tsx":(e,t,s)=>{"use strict";s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./node_modules/@linaria/react/lib/index.js"),a=s("./app/j/assembly/buttons/index.ts"),r=s("./app/j/assembly/buttons/types.ts"),o=s("./app/j/assembly/foundations/Spacing.ts"),i=s("./app/j/lazy/PremiumLogo/PremiumLogoForTeachersLazy.ts"),l=s("./app/j/lazy/PremiumLogo/PremiumLogoLazy.ts"),d=s("./node_modules/react/index.js"),u=s("./app/j/utils/isNightTheme.ts"),c=(0,n.z)("div")({name:"Toast",class:"thpfeyv"}),p=(0,n.z)("div")({name:"Title",class:"t122l0ng"}),m=(0,n.z)("div")({name:"Details",class:"dswivky"}),_=(0,n.z)("div")({name:"CTAs",class:"c1axs4a3"}),g=(0,n.z)("div")({name:"Logo",class:"l14l10rq",vars:{"l14l10rq-0":[e=>{var{isTeacher:t}=e;return t?o.Ki.Large:o.Ki.Medium}]}});t.Z=e=>{var{title:t,details:s,cta:n,isTeacher:o,onDismiss:E=(()=>{}),onShow:h=(()=>{}),autoDisableTimeout:S,secondaryCta:y,onSecondaryCta:f}=e,[v,T]=(0,d.useState)(!1),A=e=>{T(!0),E&&E(e)};(0,d.useEffect)((()=>{h()}),[]),(0,d.useEffect)((()=>{if(S){var e=setTimeout((()=>A(!1)),S);return()=>clearTimeout(e)}}),[A,E]);var b=(0,u.Z)();return d.createElement(c,{className:(v?"afgvcgb":"a6gg3x6")+" "+(b?"d1kk5e8p":"")},d.createElement(g,{isTeacher:o},o?d.createElement(i.Z,null):d.createElement(l.Z,null)),d.createElement(p,null,t),d.createElement(m,null,s),d.createElement(_,null,y?d.createElement(a.GV,{onClick:f,size:"large",text:y,variant:b?r.vT.SECONDARY:r.vT.SECONDARY_INVERTED}):null,d.createElement(a.GV,{onClick:()=>A(!0),size:"large",text:n,variant:b?r.vT.SECONDARY:r.vT.SECONDARY_INVERTED})))},s("./.linaria-cache/app/j/study-modes/ui/toasts/CommonRemainingToast.linaria.css")},"./app/j/study-modes/write/actions/engine.ts":(e,t,s)=>{"use strict";s.d(t,{BS:()=>R,vx:()=>P,tB:()=>M,tn:()=>Z,Ci:()=>U});var n=s("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),a=s("./node_modules/lodash/last.js"),r=s.n(a),o=s("./node_modules/lodash/dropRight.js"),i=s.n(o),l=(s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.assign.js"),s("./app/j/config/enums.ts")),d=s("./app/j/i18n/$t.ts"),u=s("./app/j/notifications/addNotification.ts"),c=s("./app/j/notifications/Constants.ts"),p=s("./node_modules/nullthrows/nullthrows.js"),m=s.n(p),_=s("./node_modules/react-redux/lib/index.js"),g=s("./app/j/study-engine/utils.ts"),E=s("./app/j/study-modes/common/engine/actions.ts"),h=s("./app/j/study-modes/common/engine/selectors.ts"),S=s("./app/j/study-modes/common/engine/utils/question-element-utils.ts"),y=s("./app/j/study-modes/common/grading/actions.ts"),f=s("./app/j/study-modes/common/grading/grader/longtextGradingClient.ts"),v=s("./app/j/study-modes/common/grading/selectors.ts"),T=s("./app/j/study-modes/common/grading/utils/getIsAnswerEligibleForLongtextGrading.ts"),A=s("./app/j/study-modes/common/logging/actions.ts"),b=s("./app/j/study-modes/common/sessions/actions.ts"),j=s("./app/j/study-modes/common/sessions/selectors.ts"),I=s("./app/j/study-modes/common/settings/actions.ts"),w=s("./app/j/study-modes/common/settings/selectors/index.ts"),C=s("./app/j/study-modes/common/utils/studyModeAdHelper.ts"),O=s("./app/j/study-modes/write/actions/view.ts"),N=s("./app/j/study-modes/write/constants.ts"),x=s("./app/j/study-modes/write/selectors/engine.ts"),D=s("./app/j/study-modes/write/selectors/view.ts"),L=s("./app/j/study-modes/write/types.ts"),k=s("./app/j/syncers/StudiableAnswerSyncer.ts"),R=e=>(t,s)=>{(0,_.batch)((()=>{t((0,E.ig)(e)),t((0,E.YC)(null)),t((0,O.fK)())})),(0,D.Xh)(s())===L.i9.QUESTION&&t((0,A.lV)(l.WFi.VIEW_START))},P=()=>(e,t)=>{var s=t(),n=(0,w.Gw)(s),a=m()(r()((0,h.z5)(s)),"Invalid attempt to finish a question without having submitted an answer");e((0,y.yd)(!1)),n.display.isCookieSupportEnabled&&e((0,b.T_)()).then((()=>{var e=(0,j.Gg)(t()),n=(0,x.rB)(s);k.Z.addAndSave(n(e))})),e((0,A.lV)(l.WFi.VIEW_END)),(0,_.batch)((()=>{e(R([a])),e((0,y.sy)(!1))}))},M=()=>(e,t)=>{e((0,O.px)(L.i9.CHECKPOINT)),(e=>(0,C.$)(e)&&(0,C.W)((0,w.nI)(e())))(t)?(e((0,O.f8)(L.i9.AD_MODAL)),e((0,I.t0)())):e(R([]))},Z=e=>{var{value:t}=e;return function(){var e=(0,n.Z)((function*(e,s){e((0,E.xS)((0,g.zo)(t)));var{feedback:n,isCorrect:a,gradingSettingsSuggestion:r}=(0,h.ZZ)(s()),o=n.expectedAnswer.value,i=(0,h.wG)(s()),p=n.expectedAnswerDescription?(0,S.Sg)(n.expectedAnswerDescription).text:null,m=!1;if(!a&&(0,T.Z)(o,t,null==p?void 0:p.languageCode)&&(0,w.qg)(s())&&(0,v.lc)(s())){e((0,y.yd)(!0)),e((0,A.$N)(l.AuQ.REQUEST_START));var _=yield(0,f.Z)(o,t);if(_){if(e((0,A.$N)(l.AuQ.REQUEST_END,{request_successful:!0})),(null==_?void 0:_.responses[0].data.longtextGradingResult.grade)===l.lcN.CORRECT){var b={isCorrect:!0,feedback:n,gradingSettingsSuggestion:r};e((0,E.YC)(b)),m=!0}e((0,y.sy)(!0)),e((0,y.Iu)({currentQuestion:i,submittedAnswerValue:t,expectedAnswerValue:o,gradingResult:_.responses[0].data.longtextGradingResult}))}else e((0,A.$N)(l.AuQ.REQUEST_END,{request_successful:!1})),(0,u.Z)({duration:c.th.DEFAULT,icon:"exclamation",isDismissible:!0,message:(0,d.Z)("study_modes.smart_grading.toast_notification"),onClickSecondaryAction:()=>{e((0,I.bL)(!0))},secondaryActionLabel:(0,d.Z)("study_modes.smart_grading.toast_cta")})}var j=(0,x.gs)(s());e((0,E.vE)([j])),e((0,A.lV)(l.WFi.ANSWER,{answer_text:t,correctness:a||m?l.p7P.CORRECT:l.p7P.INCORRECT})),o.toLocaleLowerCase()===t.toLocaleLowerCase()?(e((0,O.Kw)(!0)),window.setTimeout((()=>{e(P()),e((0,O.Kw)(!1))}),N.i)):e((0,O.fK)())}));return function(t,s){return e.apply(this,arguments)}}()},U=e=>(t,s)=>{var n=s();t((0,A.lV)(e?l.WFi.OVERRIDE:l.WFi.OVERRIDE_TO_INCORRECT));var a=(0,h.z5)(n),o=m()(r()(a),"Invalid attempt to modify undefined answer"),d=[...i()(a,1),Object.assign({},o,{correctness:e})];t((0,y.cd)()),t((0,E.h5)(d)),t(P())}},"./app/j/study-modes/write/actions/initialization.ts":(e,t,s)=>{"use strict";s.d(t,{nN:()=>M,jI:()=>Z,_C:()=>k,Aq:()=>U,lq:()=>P});var n=s("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),a=s("./node_modules/lodash/difference.js"),r=s.n(a),o=s("./app/j/compatibility/logger/getLoggerConfig.ts"),i=s("./app/j/config/enums.ts"),l=s("./node_modules/react-redux/lib/index.js"),d=s("./app/j/study-engine/factory.ts"),u=s("./app/j/study-engine/types.ts"),c=s("./app/j/study-modes/common/engine/actions.ts"),p=s("./app/j/study-modes/common/engine/selectors.ts"),m=s("./app/j/study-modes/common/logging/selectors.ts"),_=s("./app/j/study-modes/common/sessions/actions.ts"),g=s("./app/j/study-modes/common/sessions/selectors.ts"),E=s("./app/j/study-modes/common/settings/actions.ts"),h=s("./app/j/study-modes/common/settings/selectors/index.ts"),S=s("./app/j/study-modes/common/studiable-data/actions.ts"),y=s("./app/j/study-modes/common/studiable-data/selectors.ts"),f=s("./app/j/study-modes/common/utils/studyModeAdHelper.ts"),v=s("./app/j/study-modes/write/actions/engine.ts"),T=s("./app/j/study-modes/write/actions/logging.ts"),A=(s("./node_modules/core-js/modules/es.object.assign.js"),s("./app/j/study-modes/write/selectors/preferences.ts")),b=s("./app/j/study-modes/common/settings/utils/index.ts"),j=()=>(e,t)=>{var s=t(),n=(0,h.Iz)(s),a=(0,A.Rk)(s),r=(0,b.HU)(a,n);e((0,E.D5)(r)),e(((e,t)=>{var s=t();(0,A.tn)(s)||e((0,E.ex)(Object.assign({},(0,h.Iz)(s),(0,A.Rk)(s))))}))},I=s("./app/j/study-modes/write/actions/view.ts"),w=(s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./app/j/models/QStudiableAnswer.ts")),C=s("./app/j/studiable-data/utils.ts"),O=function(){var e=(0,n.Z)((function*(e){return(yield w.Z.where({sessionId:e.id,personId:e.personId})).map((e=>e.getProperties()))}));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=(0,n.Z)((function*(e,t){if(!e)return[];var s=yield O(e),n=new Set(t.map((e=>e.id)));return s.filter((e=>n.has(e.itemId))).map(C.lt)}));return function(t,s){return e.apply(this,arguments)}}(),x=s("./app/j/study-modes/write/selectors/view.ts"),D=s("./app/j/study-modes/write/types.ts"),L=s("./app/j/utils/StudyPageVisibilityTracker.ts"),k=()=>(e,t)=>{var s=t();e(j());new L.Z((function(e,t){void 0===t&&(t={}),(0,m.Lx)(s).logStudyEvent(e,{loggerConfig:(0,o.c)()},t)}))},R=()=>function(){var e=(0,n.Z)((function*(e,t){var s,n=t(),a=(0,p.z5)(n),r=(0,y.CF)(n),o=d.Z.legacyCreate(u.lt.WEB_WRITE,(0,A.NF)(n),a,(0,A.U1)(n),{acceptsPartialAnswer:null!=(s=(0,h.R9)(n))&&s,levenshteinPlus:!1},!1,!1,r,{},{},!1);(0,l.batch)((()=>{e((0,c.ox)(o)),e((0,v.BS)([]))}))}));return function(t,s){return e.apply(this,arguments)}}(),P=()=>function(){var e=(0,n.Z)((function*(e,t){var s=t(),n=yield N((0,g.sl)(s),(0,A.NF)(s).studiableItems);e((0,T.p)(i.WVJ.BEGIN,{loggerConfig:(0,o.c)()})),e((0,c.h5)(n)),e(R())}));return function(t,s){return e.apply(this,arguments)}}(),M=P,Z=()=>function(){var e=(0,n.Z)((function*(e,t){e((0,I.px)(D.i9.END)),(e=>(0,x.Xh)(e())===D.i9.END&&(0,f.W)((0,h.nI)(e())))(t)?(e((0,I.f8)(D.i9.AD_MODAL)),e((0,E.t0)())):(e((0,_.ZN)()),e((0,_.kf)(null)),e((0,_.Ch)(null)),e((0,T.p)(i.WVJ.BEGIN,{loggerConfig:(0,o.c)()})),e((0,c.h5)([])),e(R()))}));return function(t,s){return e.apply(this,arguments)}}(),U=e=>function(){var t=(0,n.Z)((function*(t,s){var n=s(),a=Array.from((0,y.Cv)(n)),o=r()(a,e),l=r()(e,a);o.forEach((e=>t((0,S.lr)(e)))),l.forEach((e=>t((0,S.Dk)(e,i.cip.WRITE)))),t((0,E.hv)(!0)),window.history.pushState({},"",(0,h.LP)(n)),t(Z())}));return function(e,s){return t.apply(this,arguments)}}()},"./app/j/study-modes/write/actions/logging.ts":(e,t,s)=>{"use strict";s.d(t,{p:()=>i,l:()=>l});s("./node_modules/core-js/modules/es.object.assign.js");var n=s("./app/j/config/enums.ts"),a=s("./app/j/study-modes/common/engine/utils/question-element-utils.ts"),r=s("./app/j/study-modes/common/logging/actions.ts"),o=s("./app/j/study-modes/write/selectors/engine.ts"),i=function(e,t,s){return void 0===s&&(s={}),a=>{a((0,r.pJ)(e,t,Object.assign({source:n.brn.DIRECT},s)))}},l=function(e,t){return void 0===t&&(t={}),(s,i)=>{var l=i(),d=(0,o.uh)(l),u=(0,a.Sg)(d.prompt);s((0,r.lV)(e,Object.assign({answer_has_text:!0,answer_type:n.oK4.TYPING,prompt_has_audio:!!u.audio,prompt_has_image:!!u.image,prompt_has_text:!!u.text},t)))}}},"./app/j/study-modes/write/actions/view.ts":(e,t,s)=>{"use strict";s.d(t,{f8:()=>o,Kw:()=>i,px:()=>l,fK:()=>d});var n=s("./node_modules/redux-actions/lib/index.js"),a=s("./app/j/study-modes/write/selectors/view.ts"),r=s("./app/j/study-modes/write/types.ts"),o=(0,n.PH)(r.x$.SET_CURRENT_VIEW),i=(0,n.PH)(r.x$.SET_IS_SHOWING_INLINE_FEEDBACK),l=(0,n.PH)(r.x$.SET_LAST_INTERMISSION_VIEW),d=()=>(e,t)=>{var s=(0,a.W6)(t());e(o(s))}},"./app/j/study-modes/write/constants.ts":(e,t,s)=>{"use strict";s.d(t,{i:()=>o,S:()=>i});var n=s("./app/j/ads/enums/AdsNames.ts"),a=s("./app/j/config/enums.ts"),r=s("./app/j/study-engine/types.ts"),o=500,i={hiddenSettings:[a.Std.ASSISTANT_MODE_QUESTION_TYPES,a.Std.ASSISTANT_MODE_WRITTEN_DEFINITION_SIDE,a.Std.ASSISTANT_MODE_WRITTEN_WORD_SIDE],questionTypesSetting:{copyAnswer:!0,fillInTheBlank:!1,matching:!1,multipleChoice:!1,multipleChoiceWithNoneOption:!1,revealSelfAssessment:!1,written:!0,spelling:!1},adsIds:{sidebarAdsId:null,footerAdsId:n.h.WRITE_MWEB},studyMode:r.lt.WEB_WRITE,studyModeType:a.aKJ.WRITE,writtenTypesSetting:{definition:!0,location:!0,term:!0}}},"./app/j/study-modes/write/selectors/engine.ts":(e,t,s)=>{"use strict";s.d(t,{uh:()=>g,rB:()=>E,gs:()=>h});var n=s("./node_modules/lodash/last.js"),a=s.n(n),r=(s("./node_modules/core-js/modules/es.regexp.to-string.js"),s("./app/j/config/enums.ts")),o=s("./node_modules/nullthrows/nullthrows.js"),i=s.n(o),l=s("./node_modules/reselect/lib/index.js"),d=s("./app/j/studiable-data/types.ts"),u=s("./app/j/study-engine/types.ts"),c=s("./app/j/study-modes/common/engine/question/selectors.ts"),p=s("./app/j/study-modes/common/engine/selectors.ts"),m=s("./app/j/study-modes/write/selectors/round.ts"),_=s("./app/j/utils/tamperProofNow.ts"),g=(0,l.createSelector)(p.wG,(e=>{if(e.type!==u.mw.WRITTEN_QUESTION)throw new Error("You cannot select a WrittenQuestion if the current question is not a written question.\n        The current question type is: "+e.type+".");return e})),E=(0,l.createSelector)([m.Yk,c.VG,c.Ae,p.z5,c.bl],((e,t,s,n,o)=>{var l=i()(a()(n),"Trying to save a unexisting answer");return n=>({personId:n.personId.toString(),sessionId:n.id,studyMode:r.aKJ.WRITE,round:e,correctness:l.correctness,containerType:o.studiableContainerType,containerId:o.studiableContainerId,itemType:r.zqd.N_SIDED_CARD,itemId:o.id,promptSideIds:[t],answerSideIds:[s],timestamp:(0,_.Z)()})})),h=(0,l.createSelector)([p.ZZ,c.bl,c.VG,c.Ae,m.Yk],((e,t,s,n,a)=>({type:d.N.N_SIDED_CARD_ANSWER,correctness:e.isCorrect?r.p7P.CORRECT:r.p7P.INCORRECT,round:a,studiableItemId:t.id,studyModeType:r.aKJ.WRITE,timestamp:(0,_.Z)(),promptSideIds:[s],answerSideIds:[n]})))},"./app/j/study-modes/write/selectors/index.ts":(e,t,s)=>{"use strict";s.d(t,{Wy:()=>u,hm:()=>c,Dc:()=>p});var n=s("./node_modules/nullthrows/nullthrows.js"),a=s.n(n),r=s("./node_modules/reselect/lib/index.js"),o=s("./app/j/study-modes/common/engine/question/selectors.ts"),i=s("./app/j/study-modes/common/engine/selectors.ts"),l=s("./app/j/study-modes/common/studiable-data/selectors.ts"),d=s("./app/j/study-modes/common/studiable-data/utils/getMediaByType.ts"),u=e=>e.get("write"),c=(0,r.createSelector)([o.yy,l.tF,l.Uv],((e,t,s)=>{var n=a()(t[0].cardSides[e]),{languageCode:r}=a()((0,d.JZ)(n)).text;return{languageCode:r,label:e,accents:s[e]}})),p=(0,r.createSelector)([i.zt],(e=>e.masteryBuckets))},"./app/j/study-modes/write/selectors/preferences.ts":(e,t,s)=>{"use strict";s.d(t,{U1:()=>m,hy:()=>_,tn:()=>g,Rk:()=>E,NF:()=>h});var n=s("./node_modules/lodash/isEqual.js"),a=s.n(n),r=(s("./node_modules/core-js/modules/es.object.values.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./app/j/config/enums.ts")),o=s("./app/j/i18n/LocalizationConstants.ts"),i=s("./app/j/legacyAssistant/types/QAssistantModeTypes.ts"),l=s("./node_modules/reselect/lib/index.js"),d=s("./app/j/study-modes/common/settings/selectors/index.ts"),u=s("./app/j/study-modes/common/settings/utils/index.ts"),c=s("./app/j/study-modes/common/studiable-data/selectors.ts"),p=e=>Object.values(e).filter(Boolean).length,m=(0,l.createSelector)([d.e,d.pE],((e,t)=>({nSidedCardSettings:{enabledQuestionTypes:[(0,i.Q)().written],enabledPromptSides:(0,u.TR)(e),enabledAnswerSides:(0,u.TR)(t),enabledWrittenAnswerSides:[]},userLanguageCode:o.ZX,studyPath:null,studyPathGoal:null,knowledgeLevel:null,taskSequence:null}))),_=(0,l.createSelector)([c.tF],(e=>e.every((e=>{var{definition:t}=e.cardSides;return!(null==t||!t.connections.some((e=>e.mediaType===r.DDH.TEXT&&!!e.text&&e.text.languageCode!==r.spR.PHOTOS)))})))),g=(0,l.createSelector)([d.Iz,c.XQ,_],((e,t,s)=>{var{answerWith:n,promptWith:r}=e;return!n.location&&(!(n.definition&&!s)&&(!(r.location&&!t)&&(!(p(r)>1)&&(!(p(n)>1)&&!a()(n,r)))))})),E=(0,l.createSelector)([c.XQ],(e=>({promptWith:{definition:!e,location:e,term:!1},answerWith:{definition:!1,location:!1,term:!0},locationQuestionTypes:[(0,i.Q)().written]}))),h=(0,l.createSelector)([c.QI,d.e],((e,t)=>{if(!t.location)return e;var{studiableCardSides:s,studiableItems:n,studiableMediaConnections:a,setIdToDiagramImage:o}=e,i=new Set(s.filter((e=>e.label===r.dU_.LOCATION)).map((e=>e.studiableItemId))),l=n.filter((e=>i.has(e.id))),d=s.filter((e=>i.has(e.studiableItemId))),u=new Set(d.map((e=>e.id)));return{studiableCardSides:d,studiableItems:l,studiableMediaConnections:a.filter((e=>u.has(e.connectionModelId))),setIdToDiagramImage:o}}))},"./app/j/study-modes/write/selectors/round.ts":(e,t,s)=>{"use strict";s.d(t,{D0:()=>p,Yk:()=>c,Dh:()=>_});s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.parse-int.js"),s("./node_modules/core-js/modules/es.array.sort.js");var n=s("./node_modules/reselect/lib/index.js"),a=s("./app/j/study-modes/common/engine/selectors.ts");function r(e,t){var s={};return t.forEach((t=>{var n=t[e];n&&(s[n]||(s[n]=[]),s[n].push(t))})),s}var o=s("./app/j/studiable-data/types.ts"),i=s("./app/j/config/enums.ts"),l=s("./app/j/study-modes/common/studiable-data/selectors.ts"),d=s("./node_modules/nullthrows/nullthrows.js"),u=s.n(d),c=(0,n.createSelector)([a.z5,l.mb],((e,t)=>{if(e.length<t.length)return 1;var s=r("round",e),n=Math.max(...Object.keys(s).map((e=>parseInt(e,10))),1);return s[n].length>=(n<=1||!s[n-1]?t.length:s[n-1].filter((e=>e.correctness!==i.p7P.CORRECT)).length)?n+1:n})),p=(0,n.createSelector)([a.z5],(e=>Math.max(...e.map((e=>e.round)),1))),m=(0,n.createSelector)([l.NN,a.z5],((e,t)=>{var s=r("connectionModelId",e.studiableMediaConnections);return t.map((e=>{if(e.type!==o.N.N_SIDED_CARD_ANSWER)throw new Error("Write only supports NSidedCardAnswers");var t,{promptSideIds:n,answerSideIds:a,round:r,studiableItemId:l}=e,d=s[n[0]];return{expectedAnswer:(t=s[a[0]],u()(t.find((e=>e.mediaType===i.DDH.TEXT)),"Expected at least one TextMedia connection, found none")),isCorrect:e.correctness===i.p7P.CORRECT,prompt:d,round:r,studiableItemId:l}}))})),_=(0,n.createSelector)([m],(e=>{var t=r("round",e);return Object.keys(t).map((e=>{var s=t[e];return{round:Number(e),numAsked:s.length,numCorrect:s.filter((e=>e.isCorrect)).length,answers:s}})).sort(((e,t)=>e.round-t.round))}))},"./app/j/study-modes/write/selectors/view.ts":(e,t,s)=>{"use strict";s.d(t,{Xh:()=>d,uL:()=>u,W6:()=>c,an:()=>p});s("./node_modules/core-js/modules/es.string.trim.js");var n=s("./node_modules/reselect/lib/index.js"),a=s("./app/j/study-engine/types.ts"),r=s("./app/j/study-engine/utils.ts"),o=s("./app/j/study-modes/common/engine/selectors.ts"),i=s("./app/j/study-modes/write/selectors/index.ts"),l=s("./app/j/study-modes/write/types.ts"),d=(0,n.createSelector)(i.Wy,(e=>e.currentView)),u=(0,n.createSelector)(i.Wy,(e=>e.isShowingInlineFeedback)),c=((0,n.createSelector)(i.Wy,(e=>e.lastIntermissionView)),(0,n.createSelector)([o.EY,o.tq],((e,t)=>(0,r.KX)(e)?(e=>{var t;if(!e)return l.i9.QUESTION;var{submittedAnswer:s}=e.feedback;if((null==s?void 0:s.type)!==a.xh.STRING_ANSWER)throw new Error("Write only supports String answers");return null!=s&&null!=(t=s.value)&&t.trim()?l.i9.FEEDBACK:l.i9.COPY_ANSWER})(t):e.hasCompletedStudying?l.i9.END:l.i9.CHECKPOINT))),p=(0,n.createSelector)([i.Wy],(e=>e.currentView===l.i9.LOADING))},"./app/j/study-modes/write/types.ts":(e,t,s)=>{"use strict";var n,a,r;s.d(t,{i9:()=>n,x$:()=>a,ru:()=>r}),function(e){e.AD_MODAL="ad_modal",e.LOADING="loading",e.CHECKPOINT="checkpoint",e.COPY_ANSWER="copy_answer",e.END="end",e.FEEDBACK="feedback",e.QUESTION="question"}(n||(n={})),function(e){e.SET_CURRENT_VIEW="WRITE.SET_CURRENT_VIEW",e.SET_IS_SHOWING_INLINE_FEEDBACK="WRITE.SET_IS_SHOWING_INLINE_FEEDBACK",e.SET_LAST_INTERMISSION_VIEW="WRITE.SET_LAST_INTERMISSION_VIEW"}(a||(a={})),function(e){e.CORRECT="correct",e.INCORRECT="incorrect",e.OVERALL="overall"}(r||(r={}))},"./app/j/study_path/constants.ts":(e,t,s)=>{"use strict";s.d(t,{WU:()=>n,Vz:()=>i,Ay:()=>l,AF:()=>d,I2:()=>u,$g:()=>o,bK:()=>p,h0:()=>m,Af:()=>_,Lm:()=>g,Oy:()=>c,VO:()=>E,ZA:()=>h,N4:()=>S,hs:()=>y,cO:()=>f});var n,a=s("./app/j/config/enums.ts"),r=s("./app/j/test/utils/QTestModeTypes.ts");!function(e){e.BACK_TO_SET_CLICK="study_paths_back_to_set_click",e.DEFAULT_STUDY_SETTINGS_AND_SKIP_TO_LEARN="study_paths_default_study_settings_and_skip_to_learn",e.DEFAULT_STUDY_SETTINGS_SAVED="study_paths_default_study_settings_saved",e.INTAKE_SCREEN_CLICK="study_paths_intake_screen_click",e.INTAKE_SCREEN_CTA_CLICK="study_paths_intake_screen_cta_click",e.INTAKE_SCREEN_LOAD="study_paths_intake_screen_load",e.LEARN_BUTTON_CLICK="study_paths_learn_mode_button_click",e.PRETEST_NOT_ENOUGH_TERMS="study_paths_pretest_not_enough_terms",e.PRETEST_SCREEN_CHECK_ANSWERS="study_paths_pretest_screen_check_answers",e.PRETEST_SCREEN_LOAD="study_paths_pretest_screen_load",e.PRETEST_NEW_TEST_GENERATED="study_paths_pretest_new_test_generated",e.PRETEST_PROMPT_WITH_CHANGED="study_paths_pretest_prompt_with_changed",e.PRETEST_PROMPT_WITH_MODAL_OPENED="study_paths_pretest_prompt_with_modal_opened",e.PRETEST_PROMPT_WITH_MODAL_CANCELLED="study_paths_pretest_prompt_with_modal_cancelled",e.PREVIOUS_VIEW_CLICK="study_paths_previous_view_click",e.LOADING_RESULTS_LOAD="study_paths_loading_results_load",e.RESULT_SCREEN_CTA_CLICK="study_paths_result_screen_cta_click",e.RESULT_SCREEN_LOAD="study_paths_result_screen_load",e.SKIP_CLICK="study_paths_skip_click",e.STEPPER_VIEW_LOAD="study_paths_stepper_view_load",e.UPSELL_CONTINUE_TO_FREE_CLICK="study_paths_upsell_continue_to_free_click",e.UPSELL_SCREEN_CTA_CLICK="study_paths_upsell_screen_cta_click",e.UPSELL_SCREEN_LOAD="study_paths_upsell_screen_load",e.TASKS_RESULT_SCREEN_LOAD="tasks_result_screen_load"}(n||(n={}));var o,i=12,l=(0,r.Q)().multipleChoice,d=.8,u="studyPath";!function(e){e.DEFAULT="default",e.IS_FULL_WIDTH="is-fullWidth"}(o||(o={}));var c,p=4200,m=a.JbB.STANDARD,_=a.sA9.CHALLENGE,g=a.GMu.LOW;a.Std.STUDY_PATH,a.Std.STUDY_PATH,a.Std.STUDY_PATH_GOAL,a.Std.STUDY_PATH_GOAL,a.Std.STUDY_PATH_KNOWLEDGE_LEVEL,a.Std.STUDY_PATH_KNOWLEDGE_LEVEL;!function(e){e.WITHIN_DAYS="within_days",e.WITHIN_WEEKS="within_weeks",e.CHOOSE_DATE="choose_date",e.NO_DATE="no_date"}(c||(c={}));var E=c.WITHIN_DAYS,h={[c.WITHIN_DAYS]:4,[c.WITHIN_WEEKS]:15},S=0,y=60,f="https://quizlet.com/features/how-quizlet-works"},"./app/j/study_path/utils/studyUpsellHelper.ts":(e,t,s)=>{"use strict";s.d(t,{OA:()=>d,y0:()=>u,AQ:()=>c,JC:()=>p,QS:()=>m,FV:()=>_,lB:()=>g});var n,a=s("./app/j/ab_tests/QMeasure.ts"),r=s("./app/j/config/enums.ts"),o=s("./app/j/utils/AuBtsExperimentHelper.ts"),i=s("./app/j/utils/metering/MeteringPlusPhasedRolloutExperiment.ts"),l=s("./app/j/utils/Visitor.ts");function d(e){return e===r.XsQ.NO_UPGRADE}function u(e,t){return d(null==e?void 0:e.type)&&!(0,o.z)(t,a.Z,e)&&!(0,i.XB)()}function c(e,t){var s=(0,o.z)(t,a.Z,e)||(0,i.XB)();return(null==e?void 0:e.type)===r.XsQ.PLUS||function(e){return e===r.XsQ.TEACHER}(null==e?void 0:e.type)||d(null==e?void 0:e.type)&&s}function p(e){return{text:e("study_path.upsell.link_text"),linkPosition:n.TOP}}function m(e){return p(e).linkPosition}!function(e){e.TOP="top",e.BOTTOM="bottom"}(n||(n={}));var _=(e,t)=>({buttonText:e(t?"study_path.upsell.button_text_free_trail":"study_path.upsell.button_text_upgrade"),description:e(t?"study_path.upsell.description_free_trial":"study_path.upsell.description_upgrade"),steps:[{enabled:!0,text:e("study_path.upsell.steps.share_your_goals"),variant:"goals"},{enabled:!1,text:e("study_path.upsell.steps.take_a_quick_quiz"),variant:"quiz"},{enabled:!1,text:e("study_path.upsell.steps.your_study_path"),variant:"path"}],title:e("study_path.upsell.title")});function g(e,t){l.Z.writeData({studyPathUpsellSeenCount:t}),1===t&&l.Z.writeData({setIdShownStudyPathUpsell:e})}},"./app/j/syncers/SelectedTermSyncer.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});s("./node_modules/core-js/modules/es.object.assign.js");var n=s("./app/j/models/QModel.ts");class a extends n.Z{}a.URL_BASE="selected-terms",a.MODEL_NAME="selectedTerm",a.UNIQUE_KEYS=["termId","personId"];var r=s("./app/j/syncers/LegacySyncer.ts"),o=Object.assign({},r.Z);o.init(a);var i=o},"./app/j/syncers/StudiableAnswerSyncer.ts":(e,t,s)=>{"use strict";s("./node_modules/core-js/modules/es.object.assign.js");var n=s("./app/j/models/QStudiableAnswer.ts"),a=s("./app/j/syncers/LegacySyncer.ts"),r=Object.assign({},a.Z);r.init(n.Z),t.Z=r},"./app/j/syncers/StudySettingSyncer.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});s("./node_modules/core-js/modules/es.object.assign.js");var n=s("./app/j/models/QModel.ts");class a extends n.Z{}a.URL_BASE="study-settings",a.MODEL_NAME="studySetting",a.UNIQUE_KEYS=["personId","studyableType","studyableId","settingType"];var r=s("./app/j/syncers/LegacySyncer.ts"),o={};Object.assign(o,r.Z),o.init(a);var i=o},"./app/j/syncers/TermSyncer.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});s("./node_modules/core-js/modules/es.object.assign.js");var n=s("./app/j/models/QModel.ts");class a extends n.Z{}a.URL_BASE="terms",a.MODEL_NAME="term",a.PARTITION_COLUMN="setId";var r=s("./app/j/syncers/LegacySyncer.ts"),o=Object.assign({},r.Z);o.init(a),o.setShouldSyncDelay(!0);var i=o},"./app/j/syncers/UserStudyableSyncer.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});s("./node_modules/core-js/modules/es.object.assign.js");var n=s("./app/j/models/QModel.ts");class a extends n.Z{}a.URL_BASE="user-studyables",a.MODEL_NAME="userStudyable",a.UNIQUE_KEYS=["personId","studyableId","studyableType"];var r=s("./app/j/syncers/LegacySyncer.ts"),o=Object.assign({},r.Z);o.init(a);var i=o},"./app/j/test/components/TestModeErrorScene.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var n=s("./node_modules/@linaria/react/lib/index.js"),a=s("./app/j/components/TSpan.tsx"),r=s("./app/j/components/UIHeading.tsx"),o=s("./app/j/components/UIParagraph.tsx"),i=s("./node_modules/react/index.js"),l=(0,n.z)("div")({name:"NoTestWrapper",class:"n1nmkhyz"});function d(){return i.createElement(l,null,i.createElement(r.Z,{deprecatedStyle:!0,size:3},i.createElement(a.Z,{id:"test.unable_to_generate_test_heading"})),i.createElement(o.Z,null,i.createElement(a.Z,{id:"test.unable_to_generate_test_description"})))}s("./.linaria-cache/app/j/test/components/TestModeErrorScene.linaria.css")},"./app/j/utils/AccentHelper.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var n=s("./node_modules/lodash/uniq.js"),a=s.n(n),r={af:["","","","","","","","","","","","","","","","","","","","","","",""],akk:["","","","","","","","","","","","","","","","","","","","","","","",""],ang:["","",""],ar:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],bg:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],bs:["","","","",""],chem:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],cs:["","","","","","","","","p","","","","","","",""],cy:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],da:["","",""],de:["","","","",""],dyo:["","","","","","",""],el:["","","","","","","","","","","","","","","","","","","","","","","","",""],es:["","","","","","","","","",""],fi:["","",""],fr:["","","","","","","","","","","","","",""],gd:["","","","","","","","","",""],ga:["","","","","","","","","",""],hai:["g","k","x"],haw:["","","","",""],hr:["","","","",""],hu:["","","","","","","","",""],is:["","","","","","","","","","",""],it:["","","","","","",""],iw:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],ku:["","","","","","","",""],la:["","","","","","","",""],lkt:["","","","","","","","","","","","","","","",""],math:["+","","","","","%","=","","","","<",">","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","|","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],mi:["","","","",""],nl:["","","","","","","","","","","","","","","","","","","","","","",""],no:["","",""],ood:["","","","","","","","",""],pl:["","","","","","","","",""],pt:["","","","","","","","","","","","",""],rar:["","","","","","",""],ro:["","","","","","",""],ru:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],sk:["","","","","","","","","","","","","","","","",""],sr:["","","","",""],sv:["","",""],tet:["","","","","",""],tr:["","","","","",""],tyv:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],vi:["","","","","","","",""],wo:["","","","","",""],"zh-pi":["","","","","","","","","","","","","","","","","","","","","","","","",""]},o=s("./app/j/config/languages.ts"),i=s("./app/j/utils/ensureArray.ts"),l={containsAccentLanguage:e=>(0,i.Z)(e).some((e=>e in r&&r[e].length>0)),containsHardLanguage:e=>(0,i.Z)(e).some((e=>o.GK.indexOf(e)>-1)),getCharactersByLangForLangs(e){var t={};return a()(e).filter((e=>e)).forEach((e=>{r[e]&&(t[e]=r[e])})),t}}},"./app/j/utils/AudioPlayer.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});s("./node_modules/core-js/modules/es.promise.js");var n=s("./app/j/global/Rollbar.ts"),a=s("./node_modules/howler/dist/howler.js"),r=s("./app/j/utils/MemoizedCache.ts"),o=!1,i=new r.Z;function l(e,t,s){var n=new a.Howl({src:[e]});return n.once("load",(()=>{t&&t(n.duration())})),n.once("loaderror",(()=>{s&&s(e)})),n}function d(e,t){var{onLoad:s,onError:n,onEnd:a,onStop:r}=t,o=i.memoize(e,(()=>l(e,s,n)));return o.once("playerror",(()=>{n&&n(e)})),o.once("end",(()=>{a&&a(e)})),o.once("stop",(()=>{r&&r(e)})),o}class u{constructor(){this.volume=1,a.Howler.autoSuspend=!1,a.Howler.autoUnlock=!1}borrowWebAudioContext(){a.Howler.volume(this.volume);var e=a.Howler.usingWebAudio?a.Howler.ctx:null;if(!e)return Promise.reject();switch(e.state){case"suspended":return e.resume().then((()=>e));case"running":return Promise.resolve(e);default:return Promise.reject()}}clearAllFinishListeners(){i.cache.forEach((e=>{e.off("end")}))}preload(e,t){var{onError:s,onLoad:a}=void 0===t?{}:t,r=i.get(e);if(a&&r&&"loaded"===r.state())a(r.duration());else try{i.memoize(e,(()=>l(e,a,s)))}catch(d){if(o)return;n.Z.warning("AudioPlayer instance failed to loadClip in preload",d,{url:e}),o=!0}}play(e,t){var{onError:s,onFinish:a,onStop:r}=void 0===t?{}:t;try{d(e,{onError:s,onEnd:a,onStop:r}).play()}catch(o){n.Z.error("AudioPlayer prepareClipToPlay failed in play()",o)}}loop(e,t){var{onError:s,onLoop:a,onStop:r}=void 0===t?{}:t;try{var o=d(e,{onError:s,onEnd:a,onStop:r}),i=o.play();o.loop(!0,i)}catch(l){n.Z.error("AudioPlayer prepareClipToPlay failed in loop()",l)}}isPlaying(e){var t=i.get(e);return!!t&&t.playing()}destruct(e){var t=i.get(e);t&&(t.unload(),i.delete(e))}stop(e){var t=i.get(e);t&&(t.once("fade",(()=>{t.stop(),t.volume(this.volume)})),t.fade(this.volume,0,300))}stopAll(){i.cache.forEach((e=>e.stop()))}getVolume(){return this.volume}setVolume(e){this.volume=e,a.Howler.volume(e)}}},"./app/j/utils/LevenshteinHelper.ts":(e,t,s)=>{"use strict";s.d(t,{D:()=>a,n:()=>r});s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./app/j/utils/strip-markdown.ts");function a(e,t,s){var[a,r]=[t,s].map(n.Z),o=e.diff_main(a,r,!1);return e.diff_cleanupSemantic(o),o}function r(e,t,s){var n=e.diff_levenshtein(t);return n/s.length<=.3&&n<=12}},"./app/j/utils/StudyEventLogger.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>_});var n=s("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),a=(s("./node_modules/core-js/modules/es.object.assign.js"),s("./app/j/config/enums.ts")),r=s("./app/j/utils/log-event.ts"),o=s("./app/j/utils/PageSessionHelper.ts"),i=(s("./node_modules/core-js/modules/es.json.stringify.js"),s("./app/j/utils/unix-timestamp.ts"));class l{constructor(e){var{studyPageSessionHelper:t,questionPageSessionHelper:s,uid:n,userId:a}=e;this.studyPageSessionHelper=t,this.questionPageSessionHelper=s,this.uid=n,this.userId=a}getStudySessionId(){return this.studyPageSessionHelper.getPageSessionId()}getQuestionSessionId(){return this.questionPageSessionHelper.getPageSessionId()}logMultipleChoiceOptionEvent(e,t){var s=Object.assign({action:e,uid:this.uid,user_id:this.userId||null,client_id:null,client_timestamp:(0,i.vJ)(),platform:a.t4T.WEB,study_session_id:this.studyPageSessionHelper.getPageSessionId(),question_session_id:this.getQuestionSessionId()},t,{option_texts:JSON.stringify(t.option_texts)});(0,r.Z)("multiple_choice_option_events",s)}}class d{constructor(e){var{studyPageSessionHelper:t,questionPageSessionHelper:s,uid:n,userId:a}=e;this.studyPageSessionHelper=t,this.questionPageSessionHelper=s,this.uid=n,this.userId=a}getStudySessionId(){return this.studyPageSessionHelper.getPageSessionId()}getQuestionSessionId(){return this.questionPageSessionHelper.getPageSessionId()}logTextGradingEvent(e,t){var s=Object.assign({action:e,client_id:null,client_timestamp:(0,i.vJ)(),platform:a.t4T.WEB,question_session_id:this.getQuestionSessionId(),study_session_id:this.getStudySessionId(),uid:this.uid,user_id:this.userId||null},t);(0,r.Z)("text_grading_events",s)}}var u=["answeredTermId","promptTermId"];class c{constructor(e,t,s,n){this.modeType=e,this.questionPageSessionHelper=new o.Z,this.studyPageSessionHelper=t,this.multipleChoiceOptionLogger=null,this.textGradingEventLogger=null,this.uid=s,this.userId=n}generateNewQuestionSessionId(){this.questionPageSessionHelper.setPageSessionId(this.questionPageSessionHelper.generatePageSessionId())}getQuestionSessionId(){return this.questionPageSessionHelper.getPageSessionId()}getStudySessionId(){return this.studyPageSessionHelper.getPageSessionId()}logQuestionEvent(e,t,s){void 0===s&&(s=!1);var{answeredTermId:o,promptTermId:l}=t,d=(0,n.Z)(t,u);e===a.WFi.VIEW_START&&this.generateNewQuestionSessionId(),s&&this.generateNewQuestionSessionId();var c=Object.assign({action:e,uid:this.uid,mode_type:this.modeType,client_answered_term_id:o,server_answered_term_id:o,client_prompt_term_id:l,server_prompt_term_id:l,client_timestamp:(0,i.vJ)(),platform:a.t4T.WEB,question_session_id:this.getQuestionSessionId(),study_session_id:this.studyPageSessionHelper.getPageSessionId()},d);(0,r.Z)("question_events",c)}getMultipleChoiceOptionLogger(){return null===this.multipleChoiceOptionLogger&&(this.multipleChoiceOptionLogger=new l({studyPageSessionHelper:this.studyPageSessionHelper,questionPageSessionHelper:this.questionPageSessionHelper,uid:this.uid,userId:this.userId})),this.multipleChoiceOptionLogger}getTextGradingEventLogger(){return null===this.textGradingEventLogger&&(this.textGradingEventLogger=new d({questionPageSessionHelper:this.questionPageSessionHelper,studyPageSessionHelper:this.studyPageSessionHelper,uid:this.uid,userId:this.userId})),this.textGradingEventLogger}}var p=s("./app/j/utils/SearchEventLogger.ts"),m=["sessionId","termId","referer","selectedOnly"];class _{constructor(e){var{modeType:t,selectedOnly:s,studyableId:n,studyableType:a,embedType:r,enabled:i=!0,funnelUUID:l,gameInstanceId:d,gameInstanceUuid:u,gameType:p,uid:m,userId:_}=e;this.modeType=t,this.selectedOnly=s,this.studyableId=n,this.studyableType=a,this.embedType=r,this.enabled=i,this.funnelUUID=l,this.gameInstanceId=d,this.gameInstanceUuid=u,this.gameType=p,this.uid=m,this.userId=_,this.studyPageSessionHelper=new o.Z,this.questionEventLogger=new c(this.modeType,this.studyPageSessionHelper,m,_),this.logStudyEvent=this.logStudyEvent.bind(this)}getStudySessionId(){return this.studyPageSessionHelper.getPageSessionId()}logStudyEvent(e,t,s){if(this.enabled){var o=s||{},{sessionId:l,termId:d,referer:u,selectedOnly:c}=o,_=(0,n.Z)(o,m),g=Object.assign({action:e,client_session_id:l,client_studyable_id:this.studyableId,client_term_id:d,client_timestamp:(0,i.vJ)(),embed_type:this.embedType,funnel_uuid:this.funnelUUID,game_instance_id:this.gameInstanceId,game_instance_uuid:this.gameInstanceUuid,game_type:this.gameType,mode_type:this.modeType,platform:a.t4T.WEB,referrer:u||window.document.referrer,selected_only:void 0!==c?c:this.selectedOnly,server_session_id:l,server_studyable_id:this.studyableId,server_term_id:d,study_session_id:this.getStudySessionId(),studyable_type:this.studyableType,uid:this.uid,user_id:this.userId||null},_),{loggers:E,loggerConfig:h}=t;E&&E.logEvent?E.logEvent("study_events",g,{includeUserDetails:!1}):h&&(0,r.K)(h,"study_events",g,{includeUserDetails:!1}),e!==a.WVJ.BEGIN||this.embedType||p.ZP.logSearchHitStudy(this.studyableId,this.studyableType,this.getStudySessionId(),this.modeType,t)}}getQuestionEventLogger(){return this.questionEventLogger}}},"./app/j/utils/diff.ts":(e,t,s)=>{"use strict";s.d(t,{NL:()=>a,D$:()=>r,JZ:()=>o});s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.string.match.js");function n(e){var{ignoreCase:t}=e;this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32,this.ignoreCase=t}var a=-1,r=1,o=0;n.Diff,n.prototype.diff_main=function(e,t,s,n){void 0===s&&(s=!0),void 0===n&&(n=void 0),void 0===n&&(n=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var a=n;if(null==e||null==t)throw new Error("Null input. (diff_main)");if(e==t)return e?[[o,e]]:[];var r=this.diff_commonPrefix(e,t),i=e.substring(0,r);e=e.substring(r),t=t.substring(r),r=this.diff_commonSuffix(e,t);var l=e.substring(e.length-r);e=e.substring(0,e.length-r),t=t.substring(0,t.length-r);var d=this.diff_compute_(e,t,s,a);return i&&d.unshift([o,i]),l&&d.push([o,l]),this.diff_cleanupMerge(d),d},n.prototype.diff_compute_=function(e,t,s,n){var i;if(!e)return[[r,t]];if(!t)return[[a,e]];var l=e.length>t.length?e:t,d=e.length>t.length?t:e,u=l.indexOf(d);if(-1!=u)return i=[[r,l.substring(0,u)],[o,d],[r,l.substring(u+d.length)]],e.length>t.length&&(i[0][0]=i[2][0]=a),i;if(1==d.length)return[[a,e],[r,t]];l=d=null;var c=this.diff_halfMatch_(e,t);if(c){var p=c[0],m=c[1],_=c[2],g=c[3],E=c[4],h=this.diff_main(p,_,s,n),S=this.diff_main(m,g,s,n);return h.concat([[o,E]],S)}return this.diff_bisect_(e,t,n)},n.prototype.diff_bisect_=function(e,t,s){for(var n=e.length,o=t.length,i=Math.ceil((n+o)/2),l=i,d=2*i,u=new Array(d),c=new Array(d),p=0;p<d;p++)u[p]=-1,c[p]=-1;u[l+1]=0,c[l+1]=0;for(var m=n-o,_=m%2!=0,g=0,E=0,h=0,S=0,y=0;y<i&&!((new Date).getTime()>s);y++){for(var f=-y+g;f<=y-E;f+=2){for(var v=l+f,T=(w=f==-y||f!=y&&u[v-1]<u[v+1]?u[v+1]:u[v-1]+1)-f;w<n&&T<o&&e.charAt(w)==t.charAt(T);)w++,T++;if(u[v]=w,w>n)E+=2;else if(T>o)g+=2;else if(_){if((j=l+m-f)>=0&&j<d&&-1!=c[j])if(w>=(b=n-c[j]))return this.diff_bisectSplit_(e,t,w,T,s)}}for(var A=-y+h;A<=y-S;A+=2){for(var b,j=l+A,I=(b=A==-y||A!=y&&c[j-1]<c[j+1]?c[j+1]:c[j-1]+1)-A;b<n&&I<o&&e.charAt(n-b-1)==t.charAt(o-I-1);)b++,I++;if(c[j]=b,b>n)S+=2;else if(I>o)h+=2;else if(!_){if((v=l+m-A)>=0&&v<d&&-1!=u[v]){var w;T=l+(w=u[v])-v;if(w>=(b=n-b))return this.diff_bisectSplit_(e,t,w,T,s)}}}}return[[a,e],[r,t]]},n.prototype.diff_bisectSplit_=function(e,t,s,n,a){var r=e.substring(0,s),o=t.substring(0,n),i=e.substring(s),l=t.substring(n),d=this.diff_main(r,o,!1,a),u=this.diff_main(i,l,!1,a);return d.concat(u)},n.prototype.diff_commonPrefix=function(e,t){var s=this.ignoreCase?e.charAt(0).toLowerCase()!=t.charAt(0).toLowerCase():e.charAt(0)!=t.charAt(0);if(!e||!t||s)return 0;for(var n=0,a=Math.min(e.length,t.length),r=a,o=0;n<r;){var i=e.substring(o,r),l=t.substring(o,r);this.ignoreCase&&(i=i.toLowerCase(),l=l.toLowerCase()),i==l?o=n=r:a=r,r=Math.floor((a-n)/2+n)}return r},n.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1).toLowerCase()!=t.charAt(t.length-1).toLowerCase())return 0;for(var s=0,n=Math.min(e.length,t.length),a=n,r=0;s<a;){var o=e.substring(e.length-a,e.length-r),i=t.substring(t.length-a,t.length-r);this.ignoreCase&&(o=o.toLowerCase(),i=i.toLowerCase()),o==i?r=s=a:n=a,a=Math.floor((n-s)/2+s)}return a},n.prototype.diff_commonOverlap_=function(e,t){var s=e.length,n=t.length;if(0==s||0==n)return 0;s>n?e=e.substring(s-n):s<n&&(t=t.substring(0,s));var a=Math.min(s,n);if(e==t)return a;for(var r=0,o=1;;){var i=e.substring(a-o),l=t.indexOf(i);if(-1==l)return r;o+=l,0!=l&&e.substring(a-o)!=t.substring(0,o)||(r=o,o++)}},n.prototype.diff_halfMatch_=function(e,t){if(this.Diff_Timeout<=0)return null;var s=e.length>t.length?e:t,n=e.length>t.length?t:e;if(s.length<4||2*n.length<s.length)return null;var a=this;function r(e,t,s){for(var n,r,o,i,l=e.substring(s,s+Math.floor(e.length/4)),d=-1,u="";-1!=(d=t.indexOf(l,d+1));){var c=a.diff_commonPrefix(e.substring(s),t.substring(d)),p=a.diff_commonSuffix(e.substring(0,s),t.substring(0,d));u.length<p+c&&(u=t.substring(d-p,d)+t.substring(d,d+c),n=e.substring(0,s-p),r=e.substring(s+c),o=t.substring(0,d-p),i=t.substring(d+c))}return 2*u.length>=e.length?[n,r,o,i,u]:null}var o,i,l,d,u,c=r(s,n,Math.ceil(s.length/4)),p=r(s,n,Math.ceil(s.length/2));return c||p?(o=p?c&&c[4].length>p[4].length?c:p:c,e.length>t.length?(i=o[0],l=o[1],d=o[2],u=o[3]):(d=o[0],u=o[1],i=o[2],l=o[3]),[i,l,d,u,o[4]]):null},n.prototype.diff_cleanupSemantic=function(e){for(var t=!1,s=[],n=0,i=null,l=0,d=0,u=0,c=0,p=0;l<e.length;)e[l][0]==o?(s[n++]=l,d=c,u=p,c=0,p=0,i=e[l][1]):(e[l][0]==r?c+=e[l][1].length:p+=e[l][1].length,null!==i&&i.length<=Math.max(d,u)&&i.length<=Math.max(c,p)&&(e.splice(s[n-1],0,[a,i]),e[s[n-1]+1][0]=r,n--,l=--n>0?s[n-1]:-1,d=0,u=0,c=0,p=0,i=null,t=!0)),l++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),l=1;l<e.length;){if(e[l-1][0]==a&&e[l][0]==r){var m=e[l-1][1],_=e[l][1],g=this.diff_commonOverlap_(m,_);g&&(e.splice(l,0,[o,_.substring(0,g)]),e[l-1][1]=m.substring(0,m.length-g),e[l+1][1]=_.substring(g),l++),l++}l++}},n.prototype.diff_cleanupSemanticLossless=function(e){var t=/[^a-zA-Z0-9]/,s=/\s/,n=/[\r\n]/,a=/\n\r?\n$/,r=/^\r?\n\r?\n/;function i(e,o){if(!e||!o)return 5;var i=0;return(e.charAt(e.length-1).match(t)||o.charAt(0).match(t))&&(i++,(e.charAt(e.length-1).match(s)||o.charAt(0).match(s))&&(i++,(e.charAt(e.length-1).match(n)||o.charAt(0).match(n))&&(i++,(e.match(a)||o.match(r))&&i++))),i}for(var l=1;l<e.length-1;){if(e[l-1][0]==o&&e[l+1][0]==o){var d=e[l-1][1],u=e[l][1],c=e[l+1][1],p=this.diff_commonSuffix(d,u);if(p){var m=u.substring(u.length-p);d=d.substring(0,d.length-p),u=m+u.substring(0,u.length-p),c=m+c}for(var _=d,g=u,E=c,h=i(d,u)+i(u,c);u.charAt(0)===c.charAt(0);){d+=u.charAt(0),u=u.substring(1)+c.charAt(0),c=c.substring(1);var S=i(d,u)+i(u,c);S>=h&&(h=S,_=d,g=u,E=c)}e[l-1][1]!=_&&(_?e[l-1][1]=_:(e.splice(l-1,1),l--),e[l][1]=g,E?e[l+1][1]=E:(e.splice(l+1,1),l--))}l++}},n.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,s=[],n=0,i="",l=0,d=!1,u=!1,c=!1,p=!1;l<e.length;)e[l][0]==o?(e[l][1].length<this.Diff_EditCost&&(c||p)?(s[n++]=l,d=c,u=p,i=e[l][1]):(n=0,i=""),c=p=!1):(e[l][0]==a?p=!0:c=!0,i&&(d&&u&&c&&p||i.length<this.Diff_EditCost/2&&d+u+c+p==3)&&(e.splice(s[n-1],0,[a,i]),e[s[n-1]+1][0]=r,n--,i="",d&&u?(c=p=!0,n=0):(l=--n>0?s[n-1]:-1,c=p=!1),t=!0)),l++;t&&this.diff_cleanupMerge(e)},n.prototype.diff_cleanupMerge=function(e){e.push([o,""]);for(var t,s=0,n=0,i=0,l="",d="";s<e.length;)switch(e[s][0]){case r:i++,d+=e[s][1],s++;break;case a:n++,l+=e[s][1],s++;break;case o:n+i>1?(0!==n&&0!==i&&(0!==(t=this.diff_commonPrefix(d,l))&&(s-n-i>0&&e[s-n-i-1][0]==o?e[s-n-i-1][1]+=d.substring(0,t):(e.splice(0,0,[o,d.substring(0,t)]),s++),d=d.substring(t),l=l.substring(t)),0!==(t=this.diff_commonSuffix(d,l))&&(e[s][1]=d.substring(d.length-t)+e[s][1],d=d.substring(0,d.length-t),l=l.substring(0,l.length-t))),0===n?e.splice(s-n-i,n+i,[r,d]):0===i?e.splice(s-n-i,n+i,[a,l]):e.splice(s-n-i,n+i,[a,l],[r,d]),s=s-n-i+(n?1:0)+(i?1:0)+1):0!==s&&e[s-1][0]==o?(e[s-1][1]+=e[s][1],e.splice(s,1)):s++,i=0,n=0,l="",d=""}""===e[e.length-1][1]&&e.pop();var u=!1;for(s=1;s<e.length-1;)e[s-1][0]==o&&e[s+1][0]==o&&(e[s][1].substring(e[s][1].length-e[s-1][1].length)==e[s-1][1]?(e[s][1]=e[s-1][1]+e[s][1].substring(0,e[s][1].length-e[s-1][1].length),e[s+1][1]=e[s-1][1]+e[s+1][1],e.splice(s-1,1),u=!0):e[s][1].substring(0,e[s+1][1].length)==e[s+1][1]&&(e[s-1][1]+=e[s+1][1],e[s][1]=e[s][1].substring(e[s+1][1].length)+e[s+1][1],e.splice(s+1,1),u=!0)),s++;u&&this.diff_cleanupMerge(e)},n.prototype.diff_levenshtein=function(e){for(var t=0,s=0,n=0,i=0;i<e.length;i++){var l=e[i][0],d=e[i][1];switch(l){case r:s+=d.length;break;case a:n+=d.length;break;case o:t+=Math.max(s,n),s=0,n=0}}return t+=Math.max(s,n)},t.ZP=n},"./app/j/utils/filterNull.ts":(e,t,s)=>{"use strict";s.d(t,{K:()=>n,D:()=>a});var n=e=>null!=e;function a(e){return e.filter(n)}},"./app/j/utils/is-element-active.ts":(e,t,s)=>{"use strict";function n(e){return window.document.activeElement===e}s.d(t,{Z:()=>n})},"./app/j/utils/metering/MeteringPlusPhasedRolloutExperiment.ts":(e,t,s)=>{"use strict";s.d(t,{XB:()=>a});s("./node_modules/core-js/modules/es.string.includes.js");var n=s("./app/j/ab_tests/QMeasure.ts");function a(){var e=n.Z.getFeatureFlagOrTestVariantWithoutEnrolling("MeteredPlusPhasedRolloutExperiment[default,subscriptions,ads]");return!("control"===e||null===e||"null"===e)}},"./app/j/utils/strip-markdown.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.string.replace.js");function n(e){return e.replace(/\*([^*]+)\*/g,((e,t)=>t))}},"./app/j/utils/updateBrowserStateWithPath.ts":(e,t,s)=>{"use strict";function n(e){window.history&&window.history.replaceState&&window.history.replaceState({},"",e)}s.d(t,{Z:()=>n})},"./node_modules/dom-confetti/lib/main.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.confetti=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Object.assign({},r,o(t)),l=i.elementCount,d=i.colors,u=i.width,c=i.height,p=i.perspective,m=i.angle,_=i.spread,g=i.startVelocity,E=i.decay,h=i.dragFriction,S=i.duration,y=i.stagger,f=i.random;e.style.perspective=p;var v=s(e,l,d,u,c),T=v.map((function(e){return{element:e,physics:n(m,_,g,f)}}));return a(e,T,h,E,S,y)};function s(e,t,s,n,a){return Array.from({length:t}).map((function(t,r){var o=document.createElement("div"),i=s[r%s.length];return o.style["background-color"]=i,o.style.width=n,o.style.height=a,o.style.position="absolute",o.style.willChange="transform, opacity",o.style.visibility="hidden",e.appendChild(o),o}))}function n(e,t,s,n){var a=e*(Math.PI/180),r=t*(Math.PI/180);return{x:0,y:0,z:0,wobble:10*n(),wobbleSpeed:.1+.1*n(),velocity:.5*s+n()*s,angle2D:-a+(.5*r-n()*r),angle3D:-Math.PI/4+n()*(Math.PI/2),tiltAngle:n()*Math.PI,tiltAngleSpeed:.1+.3*n()}}function a(e,t,s,n,a,r){var o=void 0;return new Promise((function(i){requestAnimationFrame((function l(d){o||(o=d);var u=d-o,c=o===d?0:(d-o)/a;t.slice(0,Math.ceil(u/r)).forEach((function(e){!function(e,t,s,n){e.physics.x+=Math.cos(e.physics.angle2D)*e.physics.velocity,e.physics.y+=Math.sin(e.physics.angle2D)*e.physics.velocity,e.physics.z+=Math.sin(e.physics.angle3D)*e.physics.velocity,e.physics.wobble+=e.physics.wobbleSpeed,n?e.physics.velocity*=n:e.physics.velocity-=e.physics.velocity*s,e.physics.y+=3,e.physics.tiltAngle+=e.physics.tiltAngleSpeed;var a=e.physics,r=a.x,o=a.y,i=a.z,l=a.tiltAngle,d=a.wobble,u="translate3d("+(r+10*Math.cos(d))+"px, "+(o+10*Math.sin(d))+"px, "+i+"px) rotate3d(1, 1, 1, "+l+"rad)";e.element.style.visibility="visible",e.element.style.transform=u,e.element.style.opacity=1-t}(e,c,s,n)})),d-o<a?requestAnimationFrame(l):(t.forEach((function(t){if(t.element.parentNode===e)return e.removeChild(t.element)})),i())}))}))}var r={angle:90,spread:45,startVelocity:45,elementCount:50,width:"10px",height:"10px",perspective:"",colors:["#a864fd","#29cdff","#78ff44","#ff718d","#fdff6a"],duration:3e3,stagger:0,dragFriction:.1,random:Math.random};function o(e){return!e.stagger&&e.delay&&(e.stagger=e.delay),e}},"./node_modules/howler/dist/howler.js":(e,t,s)=>{var n;
/*!
 *  howler.js v2.2.1
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */!function(){"use strict";var a=function(){this.init()};a.prototype={init:function(){var e=this||r;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||r;if(e=parseFloat(e),t.ctx||m(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,r.ctx.currentTime);for(var s=0;s<t._howls.length;s++)if(!t._howls[s]._webAudio)for(var n=t._howls[s]._getSoundIds(),a=0;a<n.length;a++){var o=t._howls[s]._soundById(n[a]);o&&o._node&&(o._node.volume=o._volume*e)}return t}return t._volume},mute:function(e){var t=this||r;t.ctx||m(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,r.ctx.currentTime);for(var s=0;s<t._howls.length;s++)if(!t._howls[s]._webAudio)for(var n=t._howls[s]._getSoundIds(),a=0;a<n.length;a++){var o=t._howls[s]._soundById(n[a]);o&&o._node&&(o._node.muted=!!e||o._muted)}return t},stop:function(){for(var e=this||r,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||r,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,m()),e},codecs:function(e){return(this||r)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||r;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(t){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||r,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(o){return e}if(!t||"function"!=typeof t.canPlayType)return e;var s=t.canPlayType("audio/mpeg;").replace(/^no$/,""),n=e._navigator&&e._navigator.userAgent.match(/OPR\/([0-6].)/g),a=n&&parseInt(n[0].split("/")[1],10)<33;return e._codecs={mp3:!(a||!s&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!s,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||r;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(s){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var n=new Audio;n._unlocked=!0,e._releaseHtml5Audio(n)}catch(s){e.noAudio=!0;break}for(var a=0;a<e._howls.length;a++)if(!e._howls[a]._webAudio)for(var r=e._howls[a]._getSoundIds(),o=0;o<r.length;o++){var i=e._howls[a]._soundById(r[o]);i&&i._node&&!i._node._unlocked&&(i._node._unlocked=!0,i._node.load())}e._autoResume();var l=e.ctx.createBufferSource();l.buffer=e._scratchBuffer,l.connect(e.ctx.destination),void 0===l.start?l.noteOn(0):l.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),l.onended=function(){l.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0);for(var s=0;s<e._howls.length;s++)e._howls[s]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),e}},_obtainHtml5Audio:function(){var e=this||r;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)&&t.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(e){var t=this||r;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&r.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var s=0;s<e._howls[t]._sounds.length;s++)if(!e._howls[t]._sounds[s]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout((function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var t=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(t,t)}}),3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&r.usingWebAudio)return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then((function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")})),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var r=new a,o=function(e){e.src&&0!==e.src.length?this.init(e):console.error("An array of source files must be passed with any new Howl.")};o.prototype={init:function(e){var t=this;return r.ctx||m(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload&&"metadata"!==e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!(!e.xhr||!e.xhr.withCredentials)&&e.xhr.withCredentials},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=r.usingWebAudio&&!t._html5,void 0!==r.ctx&&r.ctx&&r.autoUnlock&&r._unlockAudio(),r._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&"none"!==t._preload&&t.load(),t},load:function(){var e=this,t=null;if(r.noAudio)e._emit("loaderror",null,"No audio support.");else{"string"==typeof e._src&&(e._src=[e._src]);for(var s=0;s<e._src.length;s++){var n,a;if(e._format&&e._format[s])n=e._format[s];else{if("string"!=typeof(a=e._src[s])){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(n=/^data:audio\/([^;,]+);/i.exec(a))||(n=/\.([^.]+)$/.exec(a.split("?",1)[0])),n&&(n=n[1].toLowerCase())}if(n||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),n&&r.codecs(n)){t=e._src[s];break}}if(t)return e._src=t,e._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new i(e),e._webAudio&&d(e),e;e._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var s=this,n=null;if("number"==typeof e)n=e,e=null;else{if("string"==typeof e&&"loaded"===s._state&&!s._sprite[e])return null;if(void 0===e&&(e="__default",!s._playLock)){for(var a=0,o=0;o<s._sounds.length;o++)s._sounds[o]._paused&&!s._sounds[o]._ended&&(a++,n=s._sounds[o]._id);1===a?e=null:n=null}}var i=n?s._soundById(n):s._inactiveSound();if(!i)return null;if(n&&!e&&(e=i._sprite||"__default"),"loaded"!==s._state){i._sprite=e,i._ended=!1;var l=i._id;return s._queue.push({event:"play",action:function(){s.play(l)}}),l}if(n&&!i._paused)return t||s._loadQueue("play"),i._id;s._webAudio&&r._autoResume();var d=Math.max(0,i._seek>0?i._seek:s._sprite[e][0]/1e3),u=Math.max(0,(s._sprite[e][0]+s._sprite[e][1])/1e3-d),c=1e3*u/Math.abs(i._rate),p=s._sprite[e][0]/1e3,m=(s._sprite[e][0]+s._sprite[e][1])/1e3;i._sprite=e,i._ended=!1;var _=function(){i._paused=!1,i._seek=d,i._start=p,i._stop=m,i._loop=!(!i._loop&&!s._sprite[e][2])};if(!(d>=m)){var g=i._node;if(s._webAudio){var E=function(){s._playLock=!1,_(),s._refreshBuffer(i);var e=i._muted||s._muted?0:i._volume;g.gain.setValueAtTime(e,r.ctx.currentTime),i._playStart=r.ctx.currentTime,void 0===g.bufferSource.start?i._loop?g.bufferSource.noteGrainOn(0,d,86400):g.bufferSource.noteGrainOn(0,d,u):i._loop?g.bufferSource.start(0,d,86400):g.bufferSource.start(0,d,u),c!==1/0&&(s._endTimers[i._id]=setTimeout(s._ended.bind(s,i),c)),t||setTimeout((function(){s._emit("play",i._id),s._loadQueue()}),0)};"running"===r.state&&"interrupted"!==r.ctx.state?E():(s._playLock=!0,s.once("resume",E),s._clearTimer(i._id))}else{var h=function(){g.currentTime=d,g.muted=i._muted||s._muted||r._muted||g.muted,g.volume=i._volume*r.volume(),g.playbackRate=i._rate;try{var n=g.play();if(n&&"undefined"!=typeof Promise&&(n instanceof Promise||"function"==typeof n.then)?(s._playLock=!0,_(),n.then((function(){s._playLock=!1,g._unlocked=!0,t||(s._emit("play",i._id),s._loadQueue())})).catch((function(){s._playLock=!1,s._emit("playerror",i._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),i._ended=!0,i._paused=!0}))):t||(s._playLock=!1,_(),s._emit("play",i._id),s._loadQueue()),g.playbackRate=i._rate,g.paused)return void s._emit("playerror",i._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||i._loop?s._endTimers[i._id]=setTimeout(s._ended.bind(s,i),c):(s._endTimers[i._id]=function(){s._ended(i),g.removeEventListener("ended",s._endTimers[i._id],!1)},g.addEventListener("ended",s._endTimers[i._id],!1))}catch(a){s._emit("playerror",i._id,a)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===g.src&&(g.src=s._src,g.load());var S=window&&window.ejecta||!g.readyState&&r._navigator.isCocoonJS;if(g.readyState>=3||S)h();else{s._playLock=!0;var y=function(){h(),g.removeEventListener(r._canPlayEvent,y,!1)};g.addEventListener(r._canPlayEvent,y,!1),s._clearTimer(i._id)}}return i._id}s._ended(i)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var s=t._getSoundIds(e),n=0;n<s.length;n++){t._clearTimer(s[n]);var a=t._soundById(s[n]);if(a&&!a._paused&&(a._seek=t.seek(s[n]),a._rateSeek=0,a._paused=!0,t._stopFade(s[n]),a._node))if(t._webAudio){if(!a._node.bufferSource)continue;void 0===a._node.bufferSource.stop?a._node.bufferSource.noteOff(0):a._node.bufferSource.stop(0),t._cleanBuffer(a._node)}else isNaN(a._node.duration)&&a._node.duration!==1/0||a._node.pause();arguments[1]||t._emit("pause",a?a._id:null)}return t},stop:function(e,t){var s=this;if("loaded"!==s._state||s._playLock)return s._queue.push({event:"stop",action:function(){s.stop(e)}}),s;for(var n=s._getSoundIds(e),a=0;a<n.length;a++){s._clearTimer(n[a]);var r=s._soundById(n[a]);r&&(r._seek=r._start||0,r._rateSeek=0,r._paused=!0,r._ended=!0,s._stopFade(n[a]),r._node&&(s._webAudio?r._node.bufferSource&&(void 0===r._node.bufferSource.stop?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),s._cleanBuffer(r._node)):isNaN(r._node.duration)&&r._node.duration!==1/0||(r._node.currentTime=r._start||0,r._node.pause(),r._node.duration===1/0&&s._clearSound(r._node))),t||s._emit("stop",r._id))}return s},mute:function(e,t){var s=this;if("loaded"!==s._state||s._playLock)return s._queue.push({event:"mute",action:function(){s.mute(e,t)}}),s;if(void 0===t){if("boolean"!=typeof e)return s._muted;s._muted=e}for(var n=s._getSoundIds(t),a=0;a<n.length;a++){var o=s._soundById(n[a]);o&&(o._muted=e,o._interval&&s._stopFade(o._id),s._webAudio&&o._node?o._node.gain.setValueAtTime(e?0:o._volume,r.ctx.currentTime):o._node&&(o._node.muted=!!r._muted||e),s._emit("mute",o._id))}return s},volume:function(){var e,t,s,n=this,a=arguments;if(0===a.length)return n._volume;if(1===a.length||2===a.length&&void 0===a[1]){var o=n._getSoundIds(),i=o.indexOf(a[0]);i>=0?t=parseInt(a[0],10):e=parseFloat(a[0])}else a.length>=2&&(e=parseFloat(a[0]),t=parseInt(a[1],10));if(!(void 0!==e&&e>=0&&e<=1))return(s=t?n._soundById(t):n._sounds[0])?s._volume:0;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"volume",action:function(){n.volume.apply(n,a)}}),n;void 0===t&&(n._volume=e),t=n._getSoundIds(t);for(var l=0;l<t.length;l++)(s=n._soundById(t[l]))&&(s._volume=e,a[2]||n._stopFade(t[l]),n._webAudio&&s._node&&!s._muted?s._node.gain.setValueAtTime(e,r.ctx.currentTime):s._node&&!s._muted&&(s._node.volume=e*r.volume()),n._emit("volume",s._id));return n},fade:function(e,t,s,n){var a=this;if("loaded"!==a._state||a._playLock)return a._queue.push({event:"fade",action:function(){a.fade(e,t,s,n)}}),a;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),s=parseFloat(s),a.volume(e,n);for(var o=a._getSoundIds(n),i=0;i<o.length;i++){var l=a._soundById(o[i]);if(l){if(n||a._stopFade(o[i]),a._webAudio&&!l._muted){var d=r.ctx.currentTime,u=d+s/1e3;l._volume=e,l._node.gain.setValueAtTime(e,d),l._node.gain.linearRampToValueAtTime(t,u)}a._startFadeInterval(l,e,t,s,o[i],void 0===n)}}return a},_startFadeInterval:function(e,t,s,n,a,r){var o=this,i=t,l=s-t,d=Math.abs(l/.01),u=Math.max(4,d>0?n/d:n),c=Date.now();e._fadeTo=s,e._interval=setInterval((function(){var a=(Date.now()-c)/n;c=Date.now(),i+=l*a,i=Math.round(100*i)/100,i=l<0?Math.max(s,i):Math.min(s,i),o._webAudio?e._volume=i:o.volume(i,e._id,!0),r&&(o._volume=i),(s<t&&i<=s||s>t&&i>=s)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,o.volume(s,e._id),o._emit("fade",e._id))}),u)},_stopFade:function(e){var t=this,s=t._soundById(e);return s&&s._interval&&(t._webAudio&&s._node.gain.cancelScheduledValues(r.ctx.currentTime),clearInterval(s._interval),s._interval=null,t.volume(s._fadeTo,e),s._fadeTo=null,t._emit("fade",e)),t},loop:function(){var e,t,s,n=this,a=arguments;if(0===a.length)return n._loop;if(1===a.length){if("boolean"!=typeof a[0])return!!(s=n._soundById(parseInt(a[0],10)))&&s._loop;e=a[0],n._loop=e}else 2===a.length&&(e=a[0],t=parseInt(a[1],10));for(var r=n._getSoundIds(t),o=0;o<r.length;o++)(s=n._soundById(r[o]))&&(s._loop=e,n._webAudio&&s._node&&s._node.bufferSource&&(s._node.bufferSource.loop=e,e&&(s._node.bufferSource.loopStart=s._start||0,s._node.bufferSource.loopEnd=s._stop)));return n},rate:function(){var e,t,s,n=this,a=arguments;if(0===a.length)t=n._sounds[0]._id;else if(1===a.length){var o=n._getSoundIds(),i=o.indexOf(a[0]);i>=0?t=parseInt(a[0],10):e=parseFloat(a[0])}else 2===a.length&&(e=parseFloat(a[0]),t=parseInt(a[1],10));if("number"!=typeof e)return(s=n._soundById(t))?s._rate:n._rate;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"rate",action:function(){n.rate.apply(n,a)}}),n;void 0===t&&(n._rate=e),t=n._getSoundIds(t);for(var l=0;l<t.length;l++)if(s=n._soundById(t[l])){n.playing(t[l])&&(s._rateSeek=n.seek(t[l]),s._playStart=n._webAudio?r.ctx.currentTime:s._playStart),s._rate=e,n._webAudio&&s._node&&s._node.bufferSource?s._node.bufferSource.playbackRate.setValueAtTime(e,r.ctx.currentTime):s._node&&(s._node.playbackRate=e);var d=n.seek(t[l]),u=(n._sprite[s._sprite][0]+n._sprite[s._sprite][1])/1e3-d,c=1e3*u/Math.abs(s._rate);!n._endTimers[t[l]]&&s._paused||(n._clearTimer(t[l]),n._endTimers[t[l]]=setTimeout(n._ended.bind(n,s),c)),n._emit("rate",s._id)}return n},seek:function(){var e,t,s=this,n=arguments;if(0===n.length)t=s._sounds[0]._id;else if(1===n.length){var a=s._getSoundIds(),o=a.indexOf(n[0]);o>=0?t=parseInt(n[0],10):s._sounds.length&&(t=s._sounds[0]._id,e=parseFloat(n[0]))}else 2===n.length&&(e=parseFloat(n[0]),t=parseInt(n[1],10));if(void 0===t)return s;if("number"==typeof e&&("loaded"!==s._state||s._playLock))return s._queue.push({event:"seek",action:function(){s.seek.apply(s,n)}}),s;var i=s._soundById(t);if(i){if(!("number"==typeof e&&e>=0)){if(s._webAudio){var l=s.playing(t)?r.ctx.currentTime-i._playStart:0,d=i._rateSeek?i._rateSeek-i._seek:0;return i._seek+(d+l*Math.abs(i._rate))}return i._node.currentTime}var u=s.playing(t);u&&s.pause(t,!0),i._seek=e,i._ended=!1,s._clearTimer(t),s._webAudio||!i._node||isNaN(i._node.duration)||(i._node.currentTime=e);var c=function(){s._emit("seek",t),u&&s.play(t,!0)};if(u&&!s._webAudio){var p=function(){s._playLock?setTimeout(p,0):c()};setTimeout(p,0)}else c()}return s},playing:function(e){var t=this;if("number"==typeof e){var s=t._soundById(e);return!!s&&!s._paused}for(var n=0;n<t._sounds.length;n++)if(!t._sounds[n]._paused)return!0;return!1},duration:function(e){var t=this,s=t._duration,n=t._soundById(e);return n&&(s=t._sprite[n._sprite][1]/1e3),s},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,s=0;s<t.length;s++)t[s]._paused||e.stop(t[s]._id),e._webAudio||(e._clearSound(t[s]._node),t[s]._node.removeEventListener("error",t[s]._errorFn,!1),t[s]._node.removeEventListener(r._canPlayEvent,t[s]._loadFn,!1),t[s]._node.removeEventListener("ended",t[s]._endFn,!1),r._releaseHtml5Audio(t[s]._node)),delete t[s]._node,e._clearTimer(t[s]._id);var n=r._howls.indexOf(e);n>=0&&r._howls.splice(n,1);var a=!0;for(s=0;s<r._howls.length;s++)if(r._howls[s]._src===e._src||e._src.indexOf(r._howls[s]._src)>=0){a=!1;break}return l&&a&&delete l[e._src],r.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,s,n){var a=this["_on"+e];return"function"==typeof t&&a.push(n?{id:s,fn:t,once:n}:{id:s,fn:t}),this},off:function(e,t,s){var n=this,a=n["_on"+e],r=0;if("number"==typeof t&&(s=t,t=null),t||s)for(r=0;r<a.length;r++){var o=s===a[r].id;if(t===a[r].fn&&o||!t&&o){a.splice(r,1);break}}else if(e)n["_on"+e]=[];else{var i=Object.keys(n);for(r=0;r<i.length;r++)0===i[r].indexOf("_on")&&Array.isArray(n[i[r]])&&(n[i[r]]=[])}return n},once:function(e,t,s){return this.on(e,t,s,1),this},_emit:function(e,t,s){for(var n=this,a=n["_on"+e],r=a.length-1;r>=0;r--)a[r].id&&a[r].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,s)}.bind(n,a[r].fn),0),a[r].once&&n.off(e,a[r].fn,a[r].id));return n._loadQueue(e),n},_loadQueue:function(e){var t=this;if(t._queue.length>0){var s=t._queue[0];s.event===e&&(t._queue.shift(),t._loadQueue()),e||s.action()}return t},_ended:function(e){var t=this,s=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;var n=!(!e._loop&&!t._sprite[s][2]);if(t._emit("end",e._id),!t._webAudio&&n&&t.stop(e._id,!0).play(e._id),t._webAudio&&n){t._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=r.ctx.currentTime;var a=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),a)}return t._webAudio&&!n&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),r._autoSuspend()),t._webAudio||n||t.stop(e._id,!0),t},_clearTimer:function(e){var t=this;if(t._endTimers[e]){if("function"!=typeof t._endTimers[e])clearTimeout(t._endTimers[e]);else{var s=t._soundById(e);s&&s._node&&s._node.removeEventListener("ended",t._endTimers[e],!1)}delete t._endTimers[e]}return t},_soundById:function(e){for(var t=this,s=0;s<t._sounds.length;s++)if(e===t._sounds[s]._id)return t._sounds[s];return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new i(e)},_drain:function(){var e=this,t=e._pool,s=0,n=0;if(!(e._sounds.length<t)){for(n=0;n<e._sounds.length;n++)e._sounds[n]._ended&&s++;for(n=e._sounds.length-1;n>=0;n--){if(s<=t)return;e._sounds[n]._ended&&(e._webAudio&&e._sounds[n]._node&&e._sounds[n]._node.disconnect(0),e._sounds.splice(n,1),s--)}}},_getSoundIds:function(e){if(void 0===e){for(var t=[],s=0;s<this._sounds.length;s++)t.push(this._sounds[s]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=r.ctx.createBufferSource(),e._node.bufferSource.buffer=l[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,r.ctx.currentTime),this},_cleanBuffer:function(e){var t=r._navigator&&r._navigator.vendor.indexOf("Apple")>=0;if(r._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=r._scratchBuffer}catch(s){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(r._navigator&&r._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(e){this._parent=e,this.init()};i.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++r._counter,t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,s=r._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node=void 0===r.ctx.createGain?r.ctx.createGainNode():r.ctx.createGain(),e._node.gain.setValueAtTime(s,r.ctx.currentTime),e._node.paused=!0,e._node.connect(r.masterGain)):r.noAudio||(e._node=r._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(r._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=t._src,e._node.preload=!0===t._preload?"auto":t._preload,e._node.volume=s*r.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++r._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),e._node.removeEventListener(r._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,t=e._parent;t._duration===1/0&&(t._duration=Math.ceil(10*e._node.duration)/10,t._sprite.__default[1]===1/0&&(t._sprite.__default[1]=1e3*t._duration),t._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var l={},d=function(e){var t=e._src;if(l[t])return e._duration=l[t].duration,void p(e);if(/^data:[^;]+;base64,/.test(t)){for(var s=atob(t.split(",")[1]),n=new Uint8Array(s.length),a=0;a<s.length;++a)n[a]=s.charCodeAt(a);c(n.buffer,e)}else{var r=new XMLHttpRequest;r.open(e._xhr.method,t,!0),r.withCredentials=e._xhr.withCredentials,r.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach((function(t){r.setRequestHeader(t,e._xhr.headers[t])})),r.onload=function(){var t=(r.status+"")[0];"0"===t||"2"===t||"3"===t?c(r.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+r.status+".")},r.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete l[t],e.load())},u(r)}},u=function(e){try{e.send()}catch(t){e.onerror()}},c=function(e,t){var s=function(){t._emit("loaderror",null,"Decoding audio data failed.")},n=function(e){e&&t._sounds.length>0?(l[t._src]=e,p(t,e)):s()};"undefined"!=typeof Promise&&1===r.ctx.decodeAudioData.length?r.ctx.decodeAudioData(e).then(n).catch(s):r.ctx.decodeAudioData(e,n,s)},p=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},m=function(){if(r.usingWebAudio){try{"undefined"!=typeof AudioContext?r.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?r.ctx=new webkitAudioContext:r.usingWebAudio=!1}catch(a){r.usingWebAudio=!1}r.ctx||(r.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(r._navigator&&r._navigator.platform),t=r._navigator&&r._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),s=t?parseInt(t[1],10):null;if(e&&s&&s<9){var n=/safari/.test(r._navigator&&r._navigator.userAgent.toLowerCase());r._navigator&&!n&&(r.usingWebAudio=!1)}r.usingWebAudio&&(r.masterGain=void 0===r.ctx.createGain?r.ctx.createGainNode():r.ctx.createGain(),r.masterGain.gain.setValueAtTime(r._muted?0:r._volume,r.ctx.currentTime),r.masterGain.connect(r.ctx.destination)),r._setup()}};void 0===(n=function(){return{Howler:r,Howl:o}}.apply(t,[]))||(e.exports=n),t.Howler=r,t.Howl=o,void 0!==s.g?(s.g.HowlerGlobal=a,s.g.Howler=r,s.g.Howl=o,s.g.Sound=i):"undefined"!=typeof window&&(window.HowlerGlobal=a,window.Howler=r,window.Howl=o,window.Sound=i)}(),
/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.1
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
function(){"use strict";var e;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var t=this;if(!t.ctx||!t.ctx.listener)return t;for(var s=t._howls.length-1;s>=0;s--)t._howls[s].stereo(e);return t},HowlerGlobal.prototype.pos=function(e,t,s){var n=this;return n.ctx&&n.ctx.listener?(t="number"!=typeof t?n._pos[1]:t,s="number"!=typeof s?n._pos[2]:s,"number"!=typeof e?n._pos:(n._pos=[e,t,s],void 0!==n.ctx.listener.positionX?(n.ctx.listener.positionX.setTargetAtTime(n._pos[0],Howler.ctx.currentTime,.1),n.ctx.listener.positionY.setTargetAtTime(n._pos[1],Howler.ctx.currentTime,.1),n.ctx.listener.positionZ.setTargetAtTime(n._pos[2],Howler.ctx.currentTime,.1)):n.ctx.listener.setPosition(n._pos[0],n._pos[1],n._pos[2]),n)):n},HowlerGlobal.prototype.orientation=function(e,t,s,n,a,r){var o=this;if(!o.ctx||!o.ctx.listener)return o;var i=o._orientation;return t="number"!=typeof t?i[1]:t,s="number"!=typeof s?i[2]:s,n="number"!=typeof n?i[3]:n,a="number"!=typeof a?i[4]:a,r="number"!=typeof r?i[5]:r,"number"!=typeof e?i:(o._orientation=[e,t,s,n,a,r],void 0!==o.ctx.listener.forwardX?(o.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),o.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),o.ctx.listener.forwardZ.setTargetAtTime(s,Howler.ctx.currentTime,.1),o.ctx.listener.upX.setTargetAtTime(n,Howler.ctx.currentTime,.1),o.ctx.listener.upY.setTargetAtTime(a,Howler.ctx.currentTime,.1),o.ctx.listener.upZ.setTargetAtTime(r,Howler.ctx.currentTime,.1)):o.ctx.listener.setOrientation(e,t,s,n,a,r),o)},Howl.prototype.init=(e=Howl.prototype.init,function(t){var s=this;return s._orientation=t.orientation||[1,0,0],s._stereo=t.stereo||null,s._pos=t.pos||null,s._pannerAttr={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:0,distanceModel:void 0!==t.distanceModel?t.distanceModel:"inverse",maxDistance:void 0!==t.maxDistance?t.maxDistance:1e4,panningModel:void 0!==t.panningModel?t.panningModel:"HRTF",refDistance:void 0!==t.refDistance?t.refDistance:1,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:1},s._onstereo=t.onstereo?[{fn:t.onstereo}]:[],s._onpos=t.onpos?[{fn:t.onpos}]:[],s._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}),Howl.prototype.stereo=function(e,s){var n=this;if(!n._webAudio)return n;if("loaded"!==n._state)return n._queue.push({event:"stereo",action:function(){n.stereo(e,s)}}),n;var a=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===s){if("number"!=typeof e)return n._stereo;n._stereo=e,n._pos=[e,0,0]}for(var r=n._getSoundIds(s),o=0;o<r.length;o++){var i=n._soundById(r[o]);if(i){if("number"!=typeof e)return i._stereo;i._stereo=e,i._pos=[e,0,0],i._node&&(i._pannerAttr.panningModel="equalpower",i._panner&&i._panner.pan||t(i,a),"spatial"===a?void 0!==i._panner.positionX?(i._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),i._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),i._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):i._panner.setPosition(e,0,0):i._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),n._emit("stereo",i._id)}}return n},Howl.prototype.pos=function(e,s,n,a){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"pos",action:function(){r.pos(e,s,n,a)}}),r;if(s="number"!=typeof s?0:s,n="number"!=typeof n?-.5:n,void 0===a){if("number"!=typeof e)return r._pos;r._pos=[e,s,n]}for(var o=r._getSoundIds(a),i=0;i<o.length;i++){var l=r._soundById(o[i]);if(l){if("number"!=typeof e)return l._pos;l._pos=[e,s,n],l._node&&(l._panner&&!l._panner.pan||t(l,"spatial"),void 0!==l._panner.positionX?(l._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(s,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(n,Howler.ctx.currentTime)):l._panner.setPosition(e,s,n)),r._emit("pos",l._id)}}return r},Howl.prototype.orientation=function(e,s,n,a){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"orientation",action:function(){r.orientation(e,s,n,a)}}),r;if(s="number"!=typeof s?r._orientation[1]:s,n="number"!=typeof n?r._orientation[2]:n,void 0===a){if("number"!=typeof e)return r._orientation;r._orientation=[e,s,n]}for(var o=r._getSoundIds(a),i=0;i<o.length;i++){var l=r._soundById(o[i]);if(l){if("number"!=typeof e)return l._orientation;l._orientation=[e,s,n],l._node&&(l._panner||(l._pos||(l._pos=r._pos||[0,0,-.5]),t(l,"spatial")),void 0!==l._panner.orientationX?(l._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),l._panner.orientationY.setValueAtTime(s,Howler.ctx.currentTime),l._panner.orientationZ.setValueAtTime(n,Howler.ctx.currentTime)):l._panner.setOrientation(e,s,n)),r._emit("orientation",l._id)}}return r},Howl.prototype.pannerAttr=function(){var e,s,n,a=this,r=arguments;if(!a._webAudio)return a;if(0===r.length)return a._pannerAttr;if(1===r.length){if("object"!=typeof r[0])return(n=a._soundById(parseInt(r[0],10)))?n._pannerAttr:a._pannerAttr;e=r[0],void 0===s&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),a._pannerAttr={coneInnerAngle:void 0!==e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:a._coneInnerAngle,coneOuterAngle:void 0!==e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:a._coneOuterAngle,coneOuterGain:void 0!==e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:a._coneOuterGain,distanceModel:void 0!==e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:a._distanceModel,maxDistance:void 0!==e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:a._maxDistance,refDistance:void 0!==e.pannerAttr.refDistance?e.pannerAttr.refDistance:a._refDistance,rolloffFactor:void 0!==e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:a._rolloffFactor,panningModel:void 0!==e.pannerAttr.panningModel?e.pannerAttr.panningModel:a._panningModel})}else 2===r.length&&(e=r[0],s=parseInt(r[1],10));for(var o=a._getSoundIds(s),i=0;i<o.length;i++)if(n=a._soundById(o[i])){var l=n._pannerAttr;l={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:l.coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:l.coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:l.coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:l.distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:l.maxDistance,refDistance:void 0!==e.refDistance?e.refDistance:l.refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:l.rolloffFactor,panningModel:void 0!==e.panningModel?e.panningModel:l.panningModel};var d=n._panner;d?(d.coneInnerAngle=l.coneInnerAngle,d.coneOuterAngle=l.coneOuterAngle,d.coneOuterGain=l.coneOuterGain,d.distanceModel=l.distanceModel,d.maxDistance=l.maxDistance,d.refDistance=l.refDistance,d.rolloffFactor=l.rolloffFactor,d.panningModel=l.panningModel):(n._pos||(n._pos=a._pos||[0,0,-.5]),t(n,"spatial"))}return a},Sound.prototype.init=function(e){return function(){var t=this,s=t._parent;t._orientation=s._orientation,t._stereo=s._stereo,t._pos=s._pos,t._pannerAttr=s._pannerAttr,e.call(this),t._stereo?s.stereo(t._stereo):t._pos&&s.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this,s=t._parent;return t._orientation=s._orientation,t._stereo=s._stereo,t._pos=s._pos,t._pannerAttr=s._pannerAttr,t._stereo?s.stereo(t._stereo):t._pos?s.pos(t._pos[0],t._pos[1],t._pos[2],t._id):t._panner&&(t._panner.disconnect(0),t._panner=void 0,s._refreshBuffer(t)),e.call(this)}}(Sound.prototype.reset);var t=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()},"./node_modules/keymaster/keymaster.js":function(e){!function(t){var s,n={},a={16:!1,18:!1,17:!1,91:!1},r=[],o={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,command:91},i={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},l={96:48,97:49,98:50,99:51,100:52,101:53,102:54,103:55,104:56,105:57};for(code=function(e){return i[e]||e.toUpperCase().charCodeAt(0)},_downKeys=[],s=1;s<20;s++)i["f"+s]=111+s;function d(e,t){for(var s=e.length;s--;)if(e[s]===t)return s;return-1}function u(e,t){if(e.length!=t.length)return!1;for(var s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0}var c={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function p(e){for(s in a)a[s]=e[c[s]]}function m(e,t,s){var a,r;a=S(e),void 0===s&&(s=t,t="all");for(var o=0;o<a.length;o++)r=[],(e=a[o].split("+")).length>1&&(r=y(e),e=[e[e.length-1]]),e=e[0],(e=code(e))in n||(n[e]=[]),n[e].push({shortcut:a[o],scope:t,method:s,key:a[o],mods:r})}for(s in o)m[s]=!1;function _(e){r=e?[e]:[]}function g(){return r.length?r[r.length-1]:"all"}function E(e){r.push(e)}function h(e){var t=g();if(!Array.isArray(t))return!1;var s=t.indexOf(e);s>=0&&(t.splice(s,1),0==t.length?r.pop():r[r.length-1]=t)}function S(e){var t;return""==(t=(e=e.replace(/\s/g,"")).split(","))[t.length-1]&&(t[t.length-2]+=","),t}function y(e){for(var t=e.slice(0,e.length-1),s=0;s<t.length;s++)t[s]=o[t[s]];return t}function f(e,t,s){e.addEventListener?e.addEventListener(t,s,!1):e.attachEvent&&e.attachEvent("on"+t,(function(){s(window.event)}))}f(document,"keydown",(function(e){!function(e){var t,s,r,i,u,c;if(t=l[e.keyCode]||e.keyCode,-1==d(_downKeys,t)&&_downKeys.push(t),93!=t&&224!=t||(t=91),t in a)for(r in a[t]=!0,o)o[r]==t&&(m[r]=!0);else if(p(e),m.filter.call(this,e)&&t in n)for(c=g(),i=0;i<n[t].length;i++)if(s=n[t][i],Array.isArray(c)&&c.indexOf(s.scope)>=0||s.scope==c||"all"==s.scope){for(r in u=s.mods.length>0,a)(!a[r]&&d(s.mods,+r)>-1||a[r]&&-1==d(s.mods,+r))&&(u=!1);(0!=s.mods.length||a[16]||a[18]||a[17]||a[91])&&!u||!1===s.method(e,s)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}(e)})),f(document,"keyup",(function(e){var t,s=e.keyCode,n=d(_downKeys,s);if(n>=0&&_downKeys.splice(n,1),93!=s&&224!=s||(s=91),s in a)for(t in a[s]=!1,o)o[t]==s&&(m[t]=!1)})),f(window,"focus",(function(){for(s in a)a[s]=!1;for(s in o)m[s]=!1}));var v=t.key;t.key=m,t.key.setScope=_,t.key.getScope=g,t.key.pushScope=E,t.key.popScope=function(e){newScope=[];for(var t=0;t<r.length&&r[t]!==e;t++)newScope.push(r[t]);r=newScope,h(e)},t.key.deleteScope=function(e){var t,s,a;for(t in n)for(s=n[t],a=0;a<s.length;)s[a].scope===e?s.splice(a,1):a++},t.key.addOverlappingScope=function(e){var t=g(),s=[];"all"!=t?(Array.isArray(t)?s=t:s.push(t),s.indexOf(e)>-1||(s.push(e),Array.isArray(t)?r[r.length-1]=s:E(s))):_(e)},t.key.removeOverlappingScope=h,t.key.filter=function(e){var t,s=(t=(t=e.target||e.srcElement)instanceof HTMLDocument?t.documentElement:t).tagName,n=t.classList;if(!(n instanceof DOMTokenList))throw console.info("Event",e),new Error("Browser does not support classList");var a="INPUT"!==s&&"SELECT"!==s&&"TEXTAREA"!==s,r=n.contains("js-keymaster-allow");return a||r},t.key.isPressed=function(e){return"string"==typeof e&&(e=code(e)),-1!=d(_downKeys,e)},t.key.getPressedKeyCodes=function(){return _downKeys.slice(0)},t.key.noConflict=function(){var e=t.key;return t.key=v,e},t.key.unbind=function(e,t){var s,a,r,o,i,l=[];for(s=S(e),o=0;o<s.length;o++){if((a=s[o].split("+")).length>1&&(l=y(a)),e=a[a.length-1],e=code(e),void 0===t&&(t=g()),!n[e])return;for(r=0;r<n[e].length;r++)(i=n[e][r]).scope===t&&u(i.mods,l)&&(n[e][r]={})}},e.exports=m}(this)},"./node_modules/lodash/_assignMergeValue.js":(e,t,s)=>{var n=s("./node_modules/lodash/_baseAssignValue.js"),a=s("./node_modules/lodash/eq.js");e.exports=function(e,t,s){(void 0!==s&&!a(e[t],s)||void 0===s&&!(t in e))&&n(e,t,s)}},"./node_modules/lodash/_baseIsRegExp.js":(e,t,s)=>{var n=s("./node_modules/lodash/_baseGetTag.js"),a=s("./node_modules/lodash/isObjectLike.js");e.exports=function(e){return a(e)&&"[object RegExp]"==n(e)}},"./node_modules/lodash/_baseMerge.js":(e,t,s)=>{var n=s("./node_modules/lodash/_Stack.js"),a=s("./node_modules/lodash/_assignMergeValue.js"),r=s("./node_modules/lodash/_baseFor.js"),o=s("./node_modules/lodash/_baseMergeDeep.js"),i=s("./node_modules/lodash/isObject.js"),l=s("./node_modules/lodash/keysIn.js"),d=s("./node_modules/lodash/_safeGet.js");e.exports=function e(t,s,u,c,p){t!==s&&r(s,(function(r,l){if(p||(p=new n),i(r))o(t,s,l,u,e,c,p);else{var m=c?c(d(t,l),r,l+"",t,s,p):void 0;void 0===m&&(m=r),a(t,l,m)}}),l)}},"./node_modules/lodash/_baseMergeDeep.js":(e,t,s)=>{var n=s("./node_modules/lodash/_assignMergeValue.js"),a=s("./node_modules/lodash/_cloneBuffer.js"),r=s("./node_modules/lodash/_cloneTypedArray.js"),o=s("./node_modules/lodash/_copyArray.js"),i=s("./node_modules/lodash/_initCloneObject.js"),l=s("./node_modules/lodash/isArguments.js"),d=s("./node_modules/lodash/isArray.js"),u=s("./node_modules/lodash/isArrayLikeObject.js"),c=s("./node_modules/lodash/isBuffer.js"),p=s("./node_modules/lodash/isFunction.js"),m=s("./node_modules/lodash/isObject.js"),_=s("./node_modules/lodash/isPlainObject.js"),g=s("./node_modules/lodash/isTypedArray.js"),E=s("./node_modules/lodash/_safeGet.js"),h=s("./node_modules/lodash/toPlainObject.js");e.exports=function(e,t,s,S,y,f,v){var T=E(e,s),A=E(t,s),b=v.get(A);if(b)n(e,s,b);else{var j=f?f(T,A,s+"",e,t,v):void 0,I=void 0===j;if(I){var w=d(A),C=!w&&c(A),O=!w&&!C&&g(A);j=A,w||C||O?d(T)?j=T:u(T)?j=o(T):C?(I=!1,j=a(A,!0)):O?(I=!1,j=r(A,!0)):j=[]:_(A)||l(A)?(j=T,l(T)?j=h(T):m(T)&&!p(T)||(j=i(A))):I=!1}I&&(v.set(A,j),y(j,A,S,f,v),v.delete(A)),n(e,s,j)}}},"./node_modules/lodash/_baseNth.js":(e,t,s)=>{var n=s("./node_modules/lodash/_isIndex.js");e.exports=function(e,t){var s=e.length;if(s)return n(t+=t<0?s:0,s)?e[t]:void 0}},"./node_modules/lodash/_baseValues.js":(e,t,s)=>{var n=s("./node_modules/lodash/_arrayMap.js");e.exports=function(e,t){return n(t,(function(t){return e[t]}))}},"./node_modules/lodash/_createAssigner.js":(e,t,s)=>{var n=s("./node_modules/lodash/_baseRest.js"),a=s("./node_modules/lodash/_isIterateeCall.js");e.exports=function(e){return n((function(t,s){var n=-1,r=s.length,o=r>1?s[r-1]:void 0,i=r>2?s[2]:void 0;for(o=e.length>3&&"function"==typeof o?(r--,o):void 0,i&&a(s[0],s[1],i)&&(o=r<3?void 0:o,r=1),t=Object(t);++n<r;){var l=s[n];l&&e(t,l,n,o)}return t}))}},"./node_modules/lodash/_safeGet.js":e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},"./node_modules/lodash/dropRight.js":(e,t,s)=>{var n=s("./node_modules/lodash/_baseSlice.js"),a=s("./node_modules/lodash/toInteger.js");e.exports=function(e,t,s){var r=null==e?0:e.length;return r?(t=s||void 0===t?1:a(t),n(e,0,(t=r-t)<0?0:t)):[]}},"./node_modules/lodash/groupBy.js":(e,t,s)=>{var n=s("./node_modules/lodash/_baseAssignValue.js"),a=s("./node_modules/lodash/_createAggregator.js"),r=Object.prototype.hasOwnProperty,o=a((function(e,t,s){r.call(e,s)?e[s].push(t):n(e,s,[t])}));e.exports=o},"./node_modules/lodash/includes.js":(e,t,s)=>{var n=s("./node_modules/lodash/_baseIndexOf.js"),a=s("./node_modules/lodash/isArrayLike.js"),r=s("./node_modules/lodash/isString.js"),o=s("./node_modules/lodash/toInteger.js"),i=s("./node_modules/lodash/values.js"),l=Math.max;e.exports=function(e,t,s,d){e=a(e)?e:i(e),s=s&&!d?o(s):0;var u=e.length;return s<0&&(s=l(u+s,0)),r(e)?s<=u&&e.indexOf(t,s)>-1:!!u&&n(e,t,s)>-1}},"./node_modules/lodash/isEmpty.js":(e,t,s)=>{var n=s("./node_modules/lodash/_baseKeys.js"),a=s("./node_modules/lodash/_getTag.js"),r=s("./node_modules/lodash/isArguments.js"),o=s("./node_modules/lodash/isArray.js"),i=s("./node_modules/lodash/isArrayLike.js"),l=s("./node_modules/lodash/isBuffer.js"),d=s("./node_modules/lodash/_isPrototype.js"),u=s("./node_modules/lodash/isTypedArray.js"),c=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(i(e)&&(o(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||u(e)||r(e)))return!e.length;var t=a(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(d(e))return!n(e).length;for(var s in e)if(c.call(e,s))return!1;return!0}},"./node_modules/lodash/isRegExp.js":(e,t,s)=>{var n=s("./node_modules/lodash/_baseIsRegExp.js"),a=s("./node_modules/lodash/_baseUnary.js"),r=s("./node_modules/lodash/_nodeUtil.js"),o=r&&r.isRegExp,i=o?a(o):n;e.exports=i},"./node_modules/lodash/merge.js":(e,t,s)=>{var n=s("./node_modules/lodash/_baseMerge.js"),a=s("./node_modules/lodash/_createAssigner.js")((function(e,t,s){n(e,t,s)}));e.exports=a},"./node_modules/lodash/nth.js":(e,t,s)=>{var n=s("./node_modules/lodash/_baseNth.js"),a=s("./node_modules/lodash/toInteger.js");e.exports=function(e,t){return e&&e.length?n(e,a(t)):void 0}},"./node_modules/lodash/pickBy.js":(e,t,s)=>{var n=s("./node_modules/lodash/_arrayMap.js"),a=s("./node_modules/lodash/_baseIteratee.js"),r=s("./node_modules/lodash/_basePickBy.js"),o=s("./node_modules/lodash/_getAllKeysIn.js");e.exports=function(e,t){if(null==e)return{};var s=n(o(e),(function(e){return[e]}));return t=a(t),r(e,s,(function(e,s){return t(e,s[0])}))}},"./node_modules/lodash/toPlainObject.js":(e,t,s)=>{var n=s("./node_modules/lodash/_copyObject.js"),a=s("./node_modules/lodash/keysIn.js");e.exports=function(e){return n(e,a(e))}},"./node_modules/lodash/truncate.js":(e,t,s)=>{var n=s("./node_modules/lodash/_baseToString.js"),a=s("./node_modules/lodash/_castSlice.js"),r=s("./node_modules/lodash/_hasUnicode.js"),o=s("./node_modules/lodash/isObject.js"),i=s("./node_modules/lodash/isRegExp.js"),l=s("./node_modules/lodash/_stringSize.js"),d=s("./node_modules/lodash/_stringToArray.js"),u=s("./node_modules/lodash/toInteger.js"),c=s("./node_modules/lodash/toString.js"),p=/\w*$/;e.exports=function(e,t){var s=30,m="...";if(o(t)){var _="separator"in t?t.separator:_;s="length"in t?u(t.length):s,m="omission"in t?n(t.omission):m}var g=(e=c(e)).length;if(r(e)){var E=d(e);g=E.length}if(s>=g)return e;var h=s-l(m);if(h<1)return m;var S=E?a(E,0,h).join(""):e.slice(0,h);if(void 0===_)return S+m;if(E&&(h+=S.length-h),i(_)){if(e.slice(h).search(_)){var y,f=S;for(_.global||(_=RegExp(_.source,c(p.exec(_))+"g")),_.lastIndex=0;y=_.exec(f);)var v=y.index;S=S.slice(0,void 0===v?h:v)}}else if(e.indexOf(n(_),h)!=h){var T=S.lastIndexOf(_);T>-1&&(S=S.slice(0,T))}return S+m}},"./node_modules/lodash/uniq.js":(e,t,s)=>{var n=s("./node_modules/lodash/_baseUniq.js");e.exports=function(e){return e&&e.length?n(e):[]}},"./node_modules/lodash/values.js":(e,t,s)=>{var n=s("./node_modules/lodash/_baseValues.js"),a=s("./node_modules/lodash/keys.js");e.exports=function(e){return null==e?[]:n(e,a(e))}},"./app/c/test/index.styl":()=>{},"./.linaria-cache/app/j/ads/components/studyModes/AdModal.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/ads/components/studyModes/AdTimeLeft.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/ads/components/studyModes/test/TestStudyBreakAd.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/assembly/AssemblyConfetti.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/assembly/AssemblyRadio.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/assembly/AssemblyRadioGroup.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/assembly/AssemblyShimmer.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/components/DiffText.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/components/FormattedTextWithImage.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/components/ModeLayout.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/components/NewModeControls.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/components/ReviewStat.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/components/StudyModeLogoDropdown.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/live_game/teacher/checkpoint/components/ProgressBar.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/signup/components/AuthPromptModal.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/common/PoweredByQuizletPlus.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/common/components/AnswerOption.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/common/components/BottomBar.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/common/components/CardQuestionCounter.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/common/components/MultipleChoiceQuestionAnswersLabel.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/common/components/MultipleChoiceQuestionDiagram.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/common/components/MultipleChoiceQuestionOption.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/common/components/MultipleChoiceQuestionPrompt.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/common/components/QuestionElementView.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/common/components/ReviewCard.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/common/components/RoundCompletePaywall.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/common/components/SpecialCharacterButtonGroup.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/common/components/SpecialCharacterInput.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/common/components/StudyCardLayout.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/common/components/StudyCardQuestion.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/common/components/StudyModesLayout.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/common/components/TopRightWrapper.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/common/components/TypeTheAnswerField.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/common/components/UserAnswerFeedbackLabel.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/learn/components/PartialAnswerFeedback.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/learn/components/ProgressBar.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/learn/components/QuestionLocation.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/learn/tasks/components/TasksConfidenceCheckIn.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/learn/tasks/components/TasksConfidenceCheckInCard.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/test/TestModeViewController.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/test/components/Heading.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/test/components/MultipleChoiceQuestionScene.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/test/components/MultipleChoiceQuestionView.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/test/components/PaywallTestResults.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/test/components/TestModeControls.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/test/components/TestReviewCTAs.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/test/components/TestScene.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/test/components/TestSceneSlideAnimation.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/test/components/WrittenQuestionView.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/test/components/progress/QuestionProgress.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/test/components/progress/styles.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/test/components/questions/TrueFalseQuestionView.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/test/components/scenes/WrittenQuestionScene.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/test/components/styles.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/test/print/PrintTestScene.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/test/print/matching/MatchingQuestionView.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/test/print/mcq/McqQuestionView.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/test/print/trueFalse/TrueFalseQuestionView.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/test/print/ui/BasePrintQuestion.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/test/print/ui/PrintHeader.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/test/print/ui/QuestionSide.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/test/print/ui/SeparatedList.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/test/print/written/WrittenQuestionView.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/test/toc/AnswerIcon.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/test/toc/QuestionLink.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/test/toc/TableOfContents.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/test/toc/ToCToggler.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/ui/media/ImageMedia.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/ui/media/LocationMedia.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/ui/media/TextMedia.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/ui/questions/matching/MatchingAnswer.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/ui/questions/matching/MatchingFeedbackView.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/ui/questions/matching/MatchingOption.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/ui/questions/matching/MatchingPromptView.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/ui/questions/matching/MatchingQuestionView.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/ui/questions/written/WrittenQuestionPrompt.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/ui/questions/written/styles.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/ui/toasts/CommonRemainingToast.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/test/components/TestModeErrorScene.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./node_modules/react-dom-confetti/lib/confetti.js":(e,t,s)=>{"use strict";var n,a=function(){function e(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,s,n){return s&&e(t.prototype,s),n&&e(t,n),t}}(),r=s("./node_modules/react/index.js"),o=(n=r)&&n.__esModule?n:{default:n},i=s("./node_modules/dom-confetti/lib/main.js");var l={position:"relative"},d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s.setRef=s.setRef.bind(s),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidUpdate",value:function(e){!e.active&&this.props.active&&(0,i.confetti)(this.container,this.props.config)}},{key:"setRef",value:function(e){this.container=e}},{key:"render",value:function(){return o.default.createElement("div",{className:this.props.className,style:l,ref:this.setRef})}}]),t}(r.Component);t.Z=d},"./node_modules/react-transition-group/cjs/CSSTransition.js":(e,t,s)=>{"use strict";t.__esModule=!0,t.default=void 0;i(s("./node_modules/prop-types/index.js"));var n=i(s("./node_modules/react-transition-group/node_modules/dom-helpers/cjs/addClass.js")),a=i(s("./node_modules/react-transition-group/node_modules/dom-helpers/cjs/removeClass.js")),r=i(s("./node_modules/react/index.js")),o=i(s("./node_modules/react-transition-group/cjs/Transition.js"));s("./node_modules/react-transition-group/cjs/utils/PropTypes.js");function i(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},l.apply(this,arguments)}var d=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,a.default)(e,t)}))},u=function(e){var t,s;function a(){for(var t,s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,s){var n=t.resolveArguments(e,s),a=n[0],r=n[1];t.removeClasses(a,"exit"),t.addClass(a,r?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,s)},t.onEntering=function(e,s){var n=t.resolveArguments(e,s),a=n[0],r=n[1]?"appear":"enter";t.addClass(a,r,"active"),t.props.onEntering&&t.props.onEntering(e,s)},t.onEntered=function(e,s){var n=t.resolveArguments(e,s),a=n[0],r=n[1]?"appear":"enter";t.removeClasses(a,r),t.addClass(a,r,"done"),t.props.onEntered&&t.props.onEntered(e,s)},t.onExit=function(e){var s=t.resolveArguments(e)[0];t.removeClasses(s,"appear"),t.removeClasses(s,"enter"),t.addClass(s,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var s=t.resolveArguments(e)[0];t.addClass(s,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var s=t.resolveArguments(e)[0];t.removeClasses(s,"exit"),t.addClass(s,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,s){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,s]},t.getClassNames=function(e){var s=t.props.classNames,n="string"==typeof s,a=n?""+(n&&s?s+"-":"")+e:s[e];return{baseClassName:a,activeClassName:n?a+"-active":s[e+"Active"],doneClassName:n?a+"-done":s[e+"Done"]}},t}s=e,(t=a).prototype=Object.create(s.prototype),t.prototype.constructor=t,t.__proto__=s;var i=a.prototype;return i.addClass=function(e,t,s){var a=this.getClassNames(t)[s+"ClassName"],r=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===s&&r&&(a+=" "+r),"active"===s&&e&&e.scrollTop,a&&(this.appliedClasses[t][s]=a,function(e,t){e&&t&&t.split(" ").forEach((function(t){return(0,n.default)(e,t)}))}(e,a))},i.removeClasses=function(e,t){var s=this.appliedClasses[t],n=s.base,a=s.active,r=s.done;this.appliedClasses[t]={},n&&d(e,n),a&&d(e,a),r&&d(e,r)},i.render=function(){var e=this.props,t=(e.classNames,function(e,t){if(null==e)return{};var s,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)s=r[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,["classNames"]));return r.default.createElement(o.default,l({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},a}(r.default.Component);u.defaultProps={classNames:""},u.propTypes={};var c=u;t.default=c,e.exports=t.default},"./node_modules/react-transition-group/cjs/ReplaceTransition.js":(e,t,s)=>{"use strict";t.__esModule=!0,t.default=void 0;o(s("./node_modules/prop-types/index.js"));var n=o(s("./node_modules/react/index.js")),a=o(s("./node_modules/react-dom/index.js")),r=o(s("./node_modules/react-transition-group/cjs/TransitionGroup.js"));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t,s;function o(){for(var t,s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleEnter=function(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return t.handleLifecycle("onEnter",0,s)},t.handleEntering=function(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return t.handleLifecycle("onEntering",0,s)},t.handleEntered=function(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return t.handleLifecycle("onEntered",0,s)},t.handleExit=function(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return t.handleLifecycle("onExit",1,s)},t.handleExiting=function(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return t.handleLifecycle("onExiting",1,s)},t.handleExited=function(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return t.handleLifecycle("onExited",1,s)},t}s=e,(t=o).prototype=Object.create(s.prototype),t.prototype.constructor=t,t.__proto__=s;var i=o.prototype;return i.handleLifecycle=function(e,t,s){var r,o=this.props.children,i=n.default.Children.toArray(o)[t];if(i.props[e]&&(r=i.props)[e].apply(r,s),this.props[e]){var l=i.props.nodeRef?void 0:a.default.findDOMNode(this);this.props[e](l)}},i.render=function(){var e=this.props,t=e.children,s=e.in,a=function(e,t){if(null==e)return{};var s,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)s=r[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,["children","in"]),o=n.default.Children.toArray(t),i=o[0],l=o[1];return delete a.onEnter,delete a.onEntering,delete a.onEntered,delete a.onExit,delete a.onExiting,delete a.onExited,n.default.createElement(r.default,a,s?n.default.cloneElement(i,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):n.default.cloneElement(l,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},o}(n.default.Component);i.propTypes={};var l=i;t.default=l,e.exports=t.default},"./node_modules/react-transition-group/cjs/SwitchTransition.js":(e,t,s)=>{"use strict";t.__esModule=!0,t.default=t.modes=void 0;var n,a,r=l(s("./node_modules/react/index.js")),o=(l(s("./node_modules/prop-types/index.js")),s("./node_modules/react-transition-group/cjs/Transition.js")),i=l(s("./node_modules/react-transition-group/cjs/TransitionGroupContext.js"));function l(e){return e&&e.__esModule?e:{default:e}}var d={out:"out-in",in:"in-out"};t.modes=d;var u=function(e,t,s){return function(){var n;e.props[t]&&(n=e.props)[t].apply(n,arguments),s()}},c=((n={})[d.out]=function(e){var t=e.current,s=e.changeState;return r.default.cloneElement(t,{in:!1,onExited:u(t,"onExited",(function(){s(o.ENTERING,null)}))})},n[d.in]=function(e){var t=e.current,s=e.changeState,n=e.children;return[t,r.default.cloneElement(n,{in:!0,onEntered:u(n,"onEntered",(function(){s(o.ENTERING)}))})]},n),p=((a={})[d.out]=function(e){var t=e.children,s=e.changeState;return r.default.cloneElement(t,{in:!0,onEntered:u(t,"onEntered",(function(){s(o.ENTERED,r.default.cloneElement(t,{in:!0}))}))})},a[d.in]=function(e){var t=e.current,s=e.children,n=e.changeState;return[r.default.cloneElement(t,{in:!1,onExited:u(t,"onExited",(function(){n(o.ENTERED,r.default.cloneElement(s,{in:!0}))}))}),r.default.cloneElement(s,{in:!0})]},a),m=function(e){var t,s;function n(){for(var t,s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={status:o.ENTERED,current:null},t.appeared=!1,t.changeState=function(e,s){void 0===s&&(s=t.state.current),t.setState({status:e,current:s})},t}s=e,(t=n).prototype=Object.create(s.prototype),t.prototype.constructor=t,t.__proto__=s;var a=n.prototype;return a.componentDidMount=function(){this.appeared=!0},n.getDerivedStateFromProps=function(e,t){return null==e.children?{current:null}:t.status===o.ENTERING&&e.mode===d.in?{status:o.ENTERING}:!t.current||(s=t.current,n=e.children,s===n||r.default.isValidElement(s)&&r.default.isValidElement(n)&&null!=s.key&&s.key===n.key)?{current:r.default.cloneElement(e.children,{in:!0})}:{status:o.EXITING};var s,n},a.render=function(){var e,t=this.props,s=t.children,n=t.mode,a=this.state,l=a.status,d=a.current,u={children:s,current:d,changeState:this.changeState,status:l};switch(l){case o.ENTERING:e=p[n](u);break;case o.EXITING:e=c[n](u);break;case o.ENTERED:e=d}return r.default.createElement(i.default.Provider,{value:{isMounting:!this.appeared}},e)},n}(r.default.Component);m.propTypes={},m.defaultProps={mode:d.out};var _=m;t.default=_},"./node_modules/react-transition-group/cjs/Transition.js":(e,t,s)=>{"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;i(s("./node_modules/prop-types/index.js"));var n=i(s("./node_modules/react/index.js")),a=i(s("./node_modules/react-dom/index.js")),r=i(s("./node_modules/react-transition-group/cjs/config.js")),o=(s("./node_modules/react-transition-group/cjs/utils/PropTypes.js"),i(s("./node_modules/react-transition-group/cjs/TransitionGroupContext.js")));function i(e){return e&&e.__esModule?e:{default:e}}var l="unmounted";t.UNMOUNTED=l;var d="exited";t.EXITED=d;var u="entering";t.ENTERING=u;var c="entered";t.ENTERED=c;var p="exiting";t.EXITING=p;var m=function(e){var t,s;function i(t,s){var n;n=e.call(this,t,s)||this;var a,r=s&&!s.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?r?(a=d,n.appearStatus=u):a=c:a=t.unmountOnExit||t.mountOnEnter?l:d,n.state={status:a},n.nextCallback=null,n}s=e,(t=i).prototype=Object.create(s.prototype),t.prototype.constructor=t,t.__proto__=s,i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===l?{status:d}:null};var m=i.prototype;return m.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},m.componentDidUpdate=function(e){var t=null;if(e!==this.props){var s=this.state.status;this.props.in?s!==u&&s!==c&&(t=u):s!==u&&s!==c||(t=p)}this.updateStatus(!1,t)},m.componentWillUnmount=function(){this.cancelNextCallback()},m.getTimeouts=function(){var e,t,s,n=this.props.timeout;return e=t=s=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,s=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:s}},m.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===u?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===d&&this.setState({status:l})},m.performEnter=function(e){var t=this,s=this.props.enter,n=this.context?this.context.isMounting:e,o=this.props.nodeRef?[n]:[a.default.findDOMNode(this),n],i=o[0],l=o[1],d=this.getTimeouts(),p=n?d.appear:d.enter;!e&&!s||r.default.disabled?this.safeSetState({status:c},(function(){t.props.onEntered(i)})):(this.props.onEnter(i,l),this.safeSetState({status:u},(function(){t.props.onEntering(i,l),t.onTransitionEnd(p,(function(){t.safeSetState({status:c},(function(){t.props.onEntered(i,l)}))}))})))},m.performExit=function(){var e=this,t=this.props.exit,s=this.getTimeouts(),n=this.props.nodeRef?void 0:a.default.findDOMNode(this);t&&!r.default.disabled?(this.props.onExit(n),this.safeSetState({status:p},(function(){e.props.onExiting(n),e.onTransitionEnd(s.exit,(function(){e.safeSetState({status:d},(function(){e.props.onExited(n)}))}))}))):this.safeSetState({status:d},(function(){e.props.onExited(n)}))},m.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},m.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},m.setNextCallback=function(e){var t=this,s=!0;return this.nextCallback=function(n){s&&(s=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},m.onTransitionEnd=function(e,t){this.setNextCallback(t);var s=this.props.nodeRef?this.props.nodeRef.current:a.default.findDOMNode(this),n=null==e&&!this.props.addEndListener;if(s&&!n){if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],o=r[0],i=r[1];this.props.addEndListener(o,i)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},m.render=function(){var e=this.state.status;if(e===l)return null;var t=this.props,s=t.children,a=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,function(e,t){if(null==e)return{};var s,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)s=r[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return n.default.createElement(o.default.Provider,{value:null},"function"==typeof s?s(e,a):n.default.cloneElement(n.default.Children.only(s),a))},i}(n.default.Component);function _(){}m.contextType=o.default,m.propTypes={},m.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:_,onEntering:_,onEntered:_,onExit:_,onExiting:_,onExited:_},m.UNMOUNTED=l,m.EXITED=d,m.ENTERING=u,m.ENTERED=c,m.EXITING=p;var g=m;t.default=g},"./node_modules/react-transition-group/cjs/TransitionGroup.js":(e,t,s)=>{"use strict";t.__esModule=!0,t.default=void 0;o(s("./node_modules/prop-types/index.js"));var n=o(s("./node_modules/react/index.js")),a=o(s("./node_modules/react-transition-group/cjs/TransitionGroupContext.js")),r=s("./node_modules/react-transition-group/cjs/utils/ChildMapping.js");function o(e){return e&&e.__esModule?e:{default:e}}function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},i.apply(this,arguments)}var l=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},d=function(e){var t,s;function o(t,s){var n,a=(n=e.call(this,t,s)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n));return n.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},n}s=e,(t=o).prototype=Object.create(s.prototype),t.prototype.constructor=t,t.__proto__=s;var d=o.prototype;return d.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},d.componentWillUnmount=function(){this.mounted=!1},o.getDerivedStateFromProps=function(e,t){var s=t.children,n=t.handleExited;return{children:t.firstRender?(0,r.getInitialChildMapping)(e,n):(0,r.getNextChildMapping)(e,s,n),firstRender:!1}},d.handleExited=function(e,t){var s=(0,r.getChildMapping)(this.props.children);e.key in s||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var s=i({},t.children);return delete s[e.key],{children:s}})))},d.render=function(){var e=this.props,t=e.component,s=e.childFactory,r=function(e,t){if(null==e)return{};var s,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)s=r[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,["component","childFactory"]),o=this.state.contextValue,i=l(this.state.children).map(s);return delete r.appear,delete r.enter,delete r.exit,null===t?n.default.createElement(a.default.Provider,{value:o},i):n.default.createElement(a.default.Provider,{value:o},n.default.createElement(t,r,i))},o}(n.default.Component);d.propTypes={},d.defaultProps={component:"div",childFactory:function(e){return e}};var u=d;t.default=u,e.exports=t.default},"./node_modules/react-transition-group/cjs/TransitionGroupContext.js":(e,t,s)=>{"use strict";var n;t.__esModule=!0,t.default=void 0;var a=((n=s("./node_modules/react/index.js"))&&n.__esModule?n:{default:n}).default.createContext(null);t.default=a,e.exports=t.default},"./node_modules/react-transition-group/cjs/config.js":(e,t)=>{"use strict";t.__esModule=!0,t.default=void 0;t.default={disabled:!1},e.exports=t.default},"./node_modules/react-transition-group/cjs/index.js":(e,t,s)=>{"use strict";t.TL=t.Kv=void 0;var n=r(s("./node_modules/react-transition-group/cjs/CSSTransition.js"));t.Kv=n.default,r(s("./node_modules/react-transition-group/cjs/ReplaceTransition.js")).default;var a=r(s("./node_modules/react-transition-group/cjs/SwitchTransition.js"));function r(e){return e&&e.__esModule?e:{default:e}}t.TL=a.default,r(s("./node_modules/react-transition-group/cjs/TransitionGroup.js")).default,r(s("./node_modules/react-transition-group/cjs/Transition.js")).default,r(s("./node_modules/react-transition-group/cjs/config.js")).default},"./node_modules/react-transition-group/cjs/utils/ChildMapping.js":(e,t,s)=>{"use strict";t.__esModule=!0,t.getChildMapping=a,t.mergeChildMappings=r,t.getInitialChildMapping=function(e,t){return a(e.children,(function(s){return(0,n.cloneElement)(s,{onExited:t.bind(null,s),in:!0,appear:o(s,"appear",e),enter:o(s,"enter",e),exit:o(s,"exit",e)})}))},t.getNextChildMapping=function(e,t,s){var i=a(e.children),l=r(t,i);return Object.keys(l).forEach((function(a){var r=l[a];if((0,n.isValidElement)(r)){var d=a in t,u=a in i,c=t[a],p=(0,n.isValidElement)(c)&&!c.props.in;!u||d&&!p?u||!d||p?u&&d&&(0,n.isValidElement)(c)&&(l[a]=(0,n.cloneElement)(r,{onExited:s.bind(null,r),in:c.props.in,exit:o(r,"exit",e),enter:o(r,"enter",e)})):l[a]=(0,n.cloneElement)(r,{in:!1}):l[a]=(0,n.cloneElement)(r,{onExited:s.bind(null,r),in:!0,exit:o(r,"exit",e),enter:o(r,"enter",e)})}})),l};var n=s("./node_modules/react/index.js");function a(e,t){var s=Object.create(null);return e&&n.Children.map(e,(function(e){return e})).forEach((function(e){s[e.key]=function(e){return t&&(0,n.isValidElement)(e)?t(e):e}(e)})),s}function r(e,t){function s(s){return s in t?t[s]:e[s]}e=e||{},t=t||{};var n,a=Object.create(null),r=[];for(var o in e)o in t?r.length&&(a[o]=r,r=[]):r.push(o);var i={};for(var l in t){if(a[l])for(n=0;n<a[l].length;n++){var d=a[l][n];i[a[l][n]]=s(d)}i[l]=s(l)}for(n=0;n<r.length;n++)i[r[n]]=s(r[n]);return i}function o(e,t,s){return null!=s[t]?s[t]:e.props[t]}},"./node_modules/react-transition-group/cjs/utils/PropTypes.js":(e,t,s)=>{"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var n;(n=s("./node_modules/prop-types/index.js"))&&n.__esModule;t.timeoutsShape=null;t.classNamesShape=null},"./node_modules/react-transition-group/node_modules/dom-helpers/cjs/addClass.js":(e,t,s)=>{"use strict";var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,a.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var a=n(s("./node_modules/react-transition-group/node_modules/dom-helpers/cjs/hasClass.js"));e.exports=t.default},"./node_modules/react-transition-group/node_modules/dom-helpers/cjs/hasClass.js":(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},"./node_modules/react-transition-group/node_modules/dom-helpers/cjs/removeClass.js":(e,t)=>{"use strict";function s(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=s(e.className,t):e.setAttribute("class",s(e.className&&e.className.baseVal||"",t))},e.exports=t.default},"./app/i/tasks/confidence/not_confident.svg":(e,t,s)=>{"use strict";e.exports=s.p+"app/i/tasks/confidence/not_confident.bcf0a8c8551c21f.svg"},"./app/i/tasks/confidence/somewhat_confident.svg":(e,t,s)=>{"use strict";e.exports=s.p+"app/i/tasks/confidence/somewhat_confident.91bde4edda964e3.svg"},"./app/i/tasks/confidence/very_confident.svg":(e,t,s)=>{"use strict";e.exports=s.p+"app/i/tasks/confidence/very_confident.ce67d7a471bdc4b.svg"}},e=>{var t=t=>e(e.s=t);e.O(0,["react","immutable","redux","quizlet_shared_kotlin","rich_text_rendering","pinyin_converter","grader","assistant_generator","kotlin_serialization","progress","leaflet","common"],(()=>(t("./app/j/study-modes/test/test.entry.ts"),t("./app/c/test/index.styl"))));e.O()}]);